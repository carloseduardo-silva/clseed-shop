function ox(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ax(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L0={exports:{}},Wu={},M0={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=Symbol.for("react.element"),lx=Symbol.for("react.portal"),ux=Symbol.for("react.fragment"),cx=Symbol.for("react.strict_mode"),hx=Symbol.for("react.profiler"),dx=Symbol.for("react.provider"),fx=Symbol.for("react.context"),px=Symbol.for("react.forward_ref"),mx=Symbol.for("react.suspense"),gx=Symbol.for("react.memo"),yx=Symbol.for("react.lazy"),Zg=Symbol.iterator;function vx(t){return t===null||typeof t!="object"?null:(t=Zg&&t[Zg]||t["@@iterator"],typeof t=="function"?t:null)}var O0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j0=Object.assign,F0={};function Ms(t,e,n){this.props=t,this.context=e,this.refs=F0,this.updater=n||O0}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function U0(){}U0.prototype=Ms.prototype;function Bf(t,e,n){this.props=t,this.context=e,this.refs=F0,this.updater=n||O0}var zf=Bf.prototype=new U0;zf.constructor=Bf;j0(zf,Ms.prototype);zf.isPureReactComponent=!0;var ey=Array.isArray,B0=Object.prototype.hasOwnProperty,$f={current:null},z0={key:!0,ref:!0,__self:!0,__source:!0};function $0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)B0.call(e,r)&&!z0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ta,type:t,key:s,ref:o,props:i,_owner:$f.current}}function _x(t,e){return{$$typeof:Ta,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ta}function wx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ty=/\/+/g;function rh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wx(""+t.key):e.toString(36)}function Nl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ta:case lx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rh(o,0):r,ey(i)?(n="",t!=null&&(n=t.replace(ty,"$&/")+"/"),Nl(i,e,n,"",function(c){return c})):i!=null&&(qf(i)&&(i=_x(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ty,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ey(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+rh(s,a);o+=Nl(s,e,n,u,i)}else if(u=vx(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+rh(s,a++),o+=Nl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function il(t,e,n){if(t==null)return t;var r=[],i=0;return Nl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ex(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},bl={transition:null},Tx={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:bl,ReactCurrentOwner:$f};se.Children={map:il,forEach:function(t,e,n){il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return il(t,function(){e++}),e},toArray:function(t){return il(t,function(e){return e})||[]},only:function(t){if(!qf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Ms;se.Fragment=ux;se.Profiler=hx;se.PureComponent=Bf;se.StrictMode=cx;se.Suspense=mx;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tx;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=j0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$f.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)B0.call(e,u)&&!z0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ta,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:fx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dx,_context:t},t.Consumer=t};se.createElement=$0;se.createFactory=function(t){var e=$0.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:px,render:t}};se.isValidElement=qf;se.lazy=function(t){return{$$typeof:yx,_payload:{_status:-1,_result:t},_init:Ex}};se.memo=function(t,e){return{$$typeof:gx,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=bl.transition;bl.transition={};try{t()}finally{bl.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return Nt.current.useCallback(t,e)};se.useContext=function(t){return Nt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};se.useEffect=function(t,e){return Nt.current.useEffect(t,e)};se.useId=function(){return Nt.current.useId()};se.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Nt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};se.useRef=function(t){return Nt.current.useRef(t)};se.useState=function(t){return Nt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Nt.current.useTransition()};se.version="18.2.0";M0.exports=se;var R=M0.exports;const Ku=ax(R),Sx=ox({__proto__:null,default:Ku},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix=R,xx=Symbol.for("react.element"),Cx=Symbol.for("react.fragment"),Px=Object.prototype.hasOwnProperty,Ax=Ix.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rx={key:!0,ref:!0,__self:!0,__source:!0};function q0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Px.call(e,r)&&!Rx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xx,type:t,key:s,ref:o,props:i,_owner:Ax.current}}Wu.Fragment=Cx;Wu.jsx=q0;Wu.jsxs=q0;L0.exports=Wu;var f=L0.exports,td={},G0={exports:{}},Ht={},H0={exports:{}},W0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Q){var Y=z.length;z.push(Q);e:for(;0<Y;){var X=Y-1>>>1,ie=z[X];if(0<i(ie,Q))z[X]=Q,z[Y]=ie,Y=X;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Q=z[0],Y=z.pop();if(Y!==Q){z[0]=Y;e:for(var X=0,ie=z.length,ge=ie>>>1;X<ge;){var Xe=2*(X+1)-1,Je=z[Xe],$e=Xe+1,Te=z[$e];if(0>i(Je,Y))$e<ie&&0>i(Te,Je)?(z[X]=Te,z[$e]=Y,X=$e):(z[X]=Je,z[Xe]=Y,X=Xe);else if($e<ie&&0>i(Te,Y))z[X]=Te,z[$e]=Y,X=$e;else break e}}return Q}function i(z,Q){var Y=z.sortIndex-Q.sortIndex;return Y!==0?Y:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,p=null,g=3,y=!1,E=!1,P=!1,D=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=z)r(c),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(c)}}function b(z){if(P=!1,T(z),!E)if(n(u)!==null)E=!0,dt(M);else{var Q=n(c);Q!==null&&Ee(b,Q.startTime-z)}}function M(z,Q){E=!1,P&&(P=!1,C(v),v=-1),y=!0;var Y=g;try{for(T(Q),p=n(u);p!==null&&(!(p.expirationTime>Q)||z&&!k());){var X=p.callback;if(typeof X=="function"){p.callback=null,g=p.priorityLevel;var ie=X(p.expirationTime<=Q);Q=t.unstable_now(),typeof ie=="function"?p.callback=ie:p===n(u)&&r(u),T(Q)}else r(u);p=n(u)}if(p!==null)var ge=!0;else{var Xe=n(c);Xe!==null&&Ee(b,Xe.startTime-Q),ge=!1}return ge}finally{p=null,g=Y,y=!1}}var O=!1,I=null,v=-1,S=5,x=-1;function k(){return!(t.unstable_now()-x<S)}function N(){if(I!==null){var z=t.unstable_now();x=z;var Q=!0;try{Q=I(!0,z)}finally{Q?A():(O=!1,I=null)}}else O=!1}var A;if(typeof _=="function")A=function(){_(N)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,re=K.port2;K.port1.onmessage=N,A=function(){re.postMessage(null)}}else A=function(){D(N,0)};function dt(z){I=z,O||(O=!0,A())}function Ee(z,Q){v=D(function(){z(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,dt(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var Y=g;g=Q;try{return z()}finally{g=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=g;g=z;try{return Q()}finally{g=Y}},t.unstable_scheduleCallback=function(z,Q,Y){var X=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?X+Y:X):Y=X,z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Y+ie,z={id:h++,callback:Q,priorityLevel:z,startTime:Y,expirationTime:ie,sortIndex:-1},Y>X?(z.sortIndex=Y,e(c,z),n(u)===null&&z===n(c)&&(P?(C(v),v=-1):P=!0,Ee(b,Y-X))):(z.sortIndex=ie,e(u,z),E||y||(E=!0,dt(M))),z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(z){var Q=g;return function(){var Y=g;g=Q;try{return z.apply(this,arguments)}finally{g=Y}}}})(W0);H0.exports=W0;var kx=H0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0=R,qt=kx;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q0=new Set,Ko={};function Ci(t,e){ys(t,e),ys(t+"Capture",e)}function ys(t,e){for(Ko[t]=e,t=0;t<e.length;t++)Q0.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=Object.prototype.hasOwnProperty,Nx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ny={},ry={};function bx(t){return nd.call(ry,t)?!0:nd.call(ny,t)?!1:Nx.test(t)?ry[t]=!0:(ny[t]=!0,!1)}function Dx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vx(t,e,n,r){if(e===null||typeof e>"u"||Dx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gf=/[\-:]([a-z])/g;function Hf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gf,Hf);ct[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gf,Hf);ct[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gf,Hf);ct[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wf(t,e,n,r){var i=ct.hasOwnProperty(e)?ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vx(e,n,i,r)&&(n=null),r||i===null?bx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kn=K0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),zi=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),Kf=Symbol.for("react.strict_mode"),rd=Symbol.for("react.profiler"),X0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),id=Symbol.for("react.suspense"),sd=Symbol.for("react.suspense_list"),Xf=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),Y0=Symbol.for("react.offscreen"),iy=Symbol.iterator;function lo(t){return t===null||typeof t!="object"?null:(t=iy&&t[iy]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,ih;function wo(t){if(ih===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ih=e&&e[1]||""}return`
`+ih+t}var sh=!1;function oh(t,e){if(!t||sh)return"";sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{sh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wo(t):""}function Lx(t){switch(t.tag){case 5:return wo(t.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return t=oh(t.type,!1),t;case 11:return t=oh(t.type.render,!1),t;case 1:return t=oh(t.type,!0),t;default:return""}}function od(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $i:return"Fragment";case zi:return"Portal";case rd:return"Profiler";case Kf:return"StrictMode";case id:return"Suspense";case sd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J0:return(t.displayName||"Context")+".Consumer";case X0:return(t._context.displayName||"Context")+".Provider";case Qf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xf:return e=t.displayName||null,e!==null?e:od(t.type)||"Memo";case ar:e=t._payload,t=t._init;try{return od(t(e))}catch{}}return null}function Mx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return od(e);case 8:return e===Kf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Z0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ox(t){var e=Z0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ol(t){t._valueTracker||(t._valueTracker=Ox(t))}function ew(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Z0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ad(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tw(t,e){e=e.checked,e!=null&&Wf(t,"checked",e,!1)}function ld(t,e){tw(t,e);var n=Lr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ud(t,e.type,n):e.hasOwnProperty("defaultValue")&&ud(t,e.type,Lr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ud(t,e,n){(e!=="number"||Zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Eo=Array.isArray;function ss(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ay(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Eo(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lr(n)}}function nw(t,e){var n=Lr(e.value),r=Lr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ly(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var al,iw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jx=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(t){jx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ko[e]=ko[t]})});function sw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ko.hasOwnProperty(t)&&ko[t]?(""+e).trim():e+"px"}function ow(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Fx=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dd(t,e){if(e){if(Fx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function fd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=null;function Jf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var md=null,os=null,as=null;function uy(t){if(t=xa(t)){if(typeof md!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Zu(e),md(t.stateNode,t.type,e))}}function aw(t){os?as?as.push(t):as=[t]:os=t}function lw(){if(os){var t=os,e=as;if(as=os=null,uy(t),e)for(t=0;t<e.length;t++)uy(e[t])}}function uw(t,e){return t(e)}function cw(){}var ah=!1;function hw(t,e,n){if(ah)return t(e,n);ah=!0;try{return uw(t,e,n)}finally{ah=!1,(os!==null||as!==null)&&(cw(),lw())}}function Xo(t,e){var n=t.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var gd=!1;if(Un)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){gd=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{gd=!1}function Ux(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var No=!1,eu=null,tu=!1,yd=null,Bx={onError:function(t){No=!0,eu=t}};function zx(t,e,n,r,i,s,o,a,u){No=!1,eu=null,Ux.apply(Bx,arguments)}function $x(t,e,n,r,i,s,o,a,u){if(zx.apply(this,arguments),No){if(No){var c=eu;No=!1,eu=null}else throw Error(F(198));tu||(tu=!0,yd=c)}}function Pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cy(t){if(Pi(t)!==t)throw Error(F(188))}function qx(t){var e=t.alternate;if(!e){if(e=Pi(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cy(i),t;if(s===r)return cy(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function fw(t){return t=qx(t),t!==null?pw(t):null}function pw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pw(t);if(e!==null)return e;t=t.sibling}return null}var mw=qt.unstable_scheduleCallback,hy=qt.unstable_cancelCallback,Gx=qt.unstable_shouldYield,Hx=qt.unstable_requestPaint,Ue=qt.unstable_now,Wx=qt.unstable_getCurrentPriorityLevel,Yf=qt.unstable_ImmediatePriority,gw=qt.unstable_UserBlockingPriority,nu=qt.unstable_NormalPriority,Kx=qt.unstable_LowPriority,yw=qt.unstable_IdlePriority,Qu=null,vn=null;function Qx(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Qu,t,void 0,(t.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:Yx,Xx=Math.log,Jx=Math.LN2;function Yx(t){return t>>>=0,t===0?32:31-(Xx(t)/Jx|0)|0}var ll=64,ul=4194304;function To(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=To(a):(s&=o,s!==0&&(r=To(s)))}else o=n&~i,o!==0?r=To(o):s!==0&&(r=To(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-an(e),i=1<<n,r|=t[n],e&=~i;return r}function Zx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-an(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Zx(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function vd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vw(){var t=ll;return ll<<=1,!(ll&4194240)&&(ll=64),t}function lh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-an(e),t[e]=n}function tC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-an(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-an(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function _w(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ww,ep,Ew,Tw,Sw,_d=!1,cl=[],Er=null,Tr=null,Sr=null,Jo=new Map,Yo=new Map,cr=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dy(t,e){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Jo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(e.pointerId)}}function co(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xa(e),e!==null&&ep(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rC(t,e,n,r,i){switch(e){case"focusin":return Er=co(Er,t,e,n,r,i),!0;case"dragenter":return Tr=co(Tr,t,e,n,r,i),!0;case"mouseover":return Sr=co(Sr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jo.set(s,co(Jo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yo.set(s,co(Yo.get(s)||null,t,e,n,r,i)),!0}return!1}function Iw(t){var e=si(t.target);if(e!==null){var n=Pi(e);if(n!==null){if(e=n.tag,e===13){if(e=dw(n),e!==null){t.blockedOn=e,Sw(t.priority,function(){Ew(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pd=r,n.target.dispatchEvent(r),pd=null}else return e=xa(n),e!==null&&ep(e),t.blockedOn=n,!1;e.shift()}return!0}function fy(t,e,n){Dl(t)&&n.delete(e)}function iC(){_d=!1,Er!==null&&Dl(Er)&&(Er=null),Tr!==null&&Dl(Tr)&&(Tr=null),Sr!==null&&Dl(Sr)&&(Sr=null),Jo.forEach(fy),Yo.forEach(fy)}function ho(t,e){t.blockedOn===e&&(t.blockedOn=null,_d||(_d=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,iC)))}function Zo(t){function e(i){return ho(i,t)}if(0<cl.length){ho(cl[0],t);for(var n=1;n<cl.length;n++){var r=cl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Er!==null&&ho(Er,t),Tr!==null&&ho(Tr,t),Sr!==null&&ho(Sr,t),Jo.forEach(e),Yo.forEach(e),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)Iw(n),n.blockedOn===null&&cr.shift()}var ls=Kn.ReactCurrentBatchConfig,iu=!0;function sC(t,e,n,r){var i=ye,s=ls.transition;ls.transition=null;try{ye=1,tp(t,e,n,r)}finally{ye=i,ls.transition=s}}function oC(t,e,n,r){var i=ye,s=ls.transition;ls.transition=null;try{ye=4,tp(t,e,n,r)}finally{ye=i,ls.transition=s}}function tp(t,e,n,r){if(iu){var i=wd(t,e,n,r);if(i===null)vh(t,e,r,su,n),dy(t,r);else if(rC(i,t,e,n,r))r.stopPropagation();else if(dy(t,r),e&4&&-1<nC.indexOf(t)){for(;i!==null;){var s=xa(i);if(s!==null&&ww(s),s=wd(t,e,n,r),s===null&&vh(t,e,r,su,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vh(t,e,r,null,n)}}var su=null;function wd(t,e,n,r){if(su=null,t=Jf(r),t=si(t),t!==null)if(e=Pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return su=t,null}function xw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wx()){case Yf:return 1;case gw:return 4;case nu:case Kx:return 16;case yw:return 536870912;default:return 16}default:return 16}}var gr=null,np=null,Vl=null;function Cw(){if(Vl)return Vl;var t,e=np,n=e.length,r,i="value"in gr?gr.value:gr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vl=i.slice(t,1<r?1-r:void 0)}function Ll(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hl(){return!0}function py(){return!1}function Wt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hl:py,this.isPropagationStopped=py,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),e}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rp=Wt(Os),Ia=Ve({},Os,{view:0,detail:0}),aC=Wt(Ia),uh,ch,fo,Xu=Ve({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ip,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fo&&(fo&&t.type==="mousemove"?(uh=t.screenX-fo.screenX,ch=t.screenY-fo.screenY):ch=uh=0,fo=t),uh)},movementY:function(t){return"movementY"in t?t.movementY:ch}}),my=Wt(Xu),lC=Ve({},Xu,{dataTransfer:0}),uC=Wt(lC),cC=Ve({},Ia,{relatedTarget:0}),hh=Wt(cC),hC=Ve({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),dC=Wt(hC),fC=Ve({},Os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pC=Wt(fC),mC=Ve({},Os,{data:0}),gy=Wt(mC),gC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _C(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vC[t])?!!e[t]:!1}function ip(){return _C}var wC=Ve({},Ia,{key:function(t){if(t.key){var e=gC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ip,charCode:function(t){return t.type==="keypress"?Ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EC=Wt(wC),TC=Ve({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yy=Wt(TC),SC=Ve({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ip}),IC=Wt(SC),xC=Ve({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),CC=Wt(xC),PC=Ve({},Xu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AC=Wt(PC),RC=[9,13,27,32],sp=Un&&"CompositionEvent"in window,bo=null;Un&&"documentMode"in document&&(bo=document.documentMode);var kC=Un&&"TextEvent"in window&&!bo,Pw=Un&&(!sp||bo&&8<bo&&11>=bo),vy=String.fromCharCode(32),_y=!1;function Aw(t,e){switch(t){case"keyup":return RC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qi=!1;function NC(t,e){switch(t){case"compositionend":return Rw(e);case"keypress":return e.which!==32?null:(_y=!0,vy);case"textInput":return t=e.data,t===vy&&_y?null:t;default:return null}}function bC(t,e){if(qi)return t==="compositionend"||!sp&&Aw(t,e)?(t=Cw(),Vl=np=gr=null,qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pw&&e.locale!=="ko"?null:e.data;default:return null}}var DC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DC[t.type]:e==="textarea"}function kw(t,e,n,r){aw(r),e=ou(e,"onChange"),0<e.length&&(n=new rp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Do=null,ea=null;function VC(t){Bw(t,0)}function Ju(t){var e=Wi(t);if(ew(e))return t}function LC(t,e){if(t==="change")return e}var Nw=!1;if(Un){var dh;if(Un){var fh="oninput"in document;if(!fh){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),fh=typeof Ey.oninput=="function"}dh=fh}else dh=!1;Nw=dh&&(!document.documentMode||9<document.documentMode)}function Ty(){Do&&(Do.detachEvent("onpropertychange",bw),ea=Do=null)}function bw(t){if(t.propertyName==="value"&&Ju(ea)){var e=[];kw(e,ea,t,Jf(t)),hw(VC,e)}}function MC(t,e,n){t==="focusin"?(Ty(),Do=e,ea=n,Do.attachEvent("onpropertychange",bw)):t==="focusout"&&Ty()}function OC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(ea)}function jC(t,e){if(t==="click")return Ju(e)}function FC(t,e){if(t==="input"||t==="change")return Ju(e)}function UC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:UC;function ta(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nd.call(e,i)||!un(t[i],e[i]))return!1}return!0}function Sy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iy(t,e){var n=Sy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sy(n)}}function Dw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vw(){for(var t=window,e=Zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zl(t.document)}return e}function op(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BC(t){var e=Vw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dw(n.ownerDocument.documentElement,n)){if(r!==null&&op(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Iy(n,s);var o=Iy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zC=Un&&"documentMode"in document&&11>=document.documentMode,Gi=null,Ed=null,Vo=null,Td=!1;function xy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Td||Gi==null||Gi!==Zl(r)||(r=Gi,"selectionStart"in r&&op(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vo&&ta(Vo,r)||(Vo=r,r=ou(Ed,"onSelect"),0<r.length&&(e=new rp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gi)))}function dl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hi={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},ph={},Lw={};Un&&(Lw=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Yu(t){if(ph[t])return ph[t];if(!Hi[t])return t;var e=Hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lw)return ph[t]=e[n];return t}var Mw=Yu("animationend"),Ow=Yu("animationiteration"),jw=Yu("animationstart"),Fw=Yu("transitionend"),Uw=new Map,Cy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,e){Uw.set(t,e),Ci(e,[t])}for(var mh=0;mh<Cy.length;mh++){var gh=Cy[mh],$C=gh.toLowerCase(),qC=gh[0].toUpperCase()+gh.slice(1);zr($C,"on"+qC)}zr(Mw,"onAnimationEnd");zr(Ow,"onAnimationIteration");zr(jw,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(Fw,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GC=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function Py(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$x(r,e,void 0,t),t.currentTarget=null}function Bw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Py(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Py(i,a,c),s=u}}}if(tu)throw t=yd,tu=!1,yd=null,t}function Pe(t,e){var n=e[Pd];n===void 0&&(n=e[Pd]=new Set);var r=t+"__bubble";n.has(r)||(zw(e,t,2,!1),n.add(r))}function yh(t,e,n){var r=0;e&&(r|=4),zw(n,t,r,e)}var fl="_reactListening"+Math.random().toString(36).slice(2);function na(t){if(!t[fl]){t[fl]=!0,Q0.forEach(function(n){n!=="selectionchange"&&(GC.has(n)||yh(n,!1,t),yh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fl]||(e[fl]=!0,yh("selectionchange",!1,e))}}function zw(t,e,n,r){switch(xw(e)){case 1:var i=sC;break;case 4:i=oC;break;default:i=tp}n=i.bind(null,e,n,t),i=void 0,!gd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=si(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hw(function(){var c=s,h=Jf(n),p=[];e:{var g=Uw.get(t);if(g!==void 0){var y=rp,E=t;switch(t){case"keypress":if(Ll(n)===0)break e;case"keydown":case"keyup":y=EC;break;case"focusin":E="focus",y=hh;break;case"focusout":E="blur",y=hh;break;case"beforeblur":case"afterblur":y=hh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=my;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=uC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=IC;break;case Mw:case Ow:case jw:y=dC;break;case Fw:y=CC;break;case"scroll":y=aC;break;case"wheel":y=AC;break;case"copy":case"cut":case"paste":y=pC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=yy}var P=(e&4)!==0,D=!P&&t==="scroll",C=P?g!==null?g+"Capture":null:g;P=[];for(var _=c,T;_!==null;){T=_;var b=T.stateNode;if(T.tag===5&&b!==null&&(T=b,C!==null&&(b=Xo(_,C),b!=null&&P.push(ra(_,b,T)))),D)break;_=_.return}0<P.length&&(g=new y(g,E,null,n,h),p.push({event:g,listeners:P}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==pd&&(E=n.relatedTarget||n.fromElement)&&(si(E)||E[Bn]))break e;if((y||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=c,E=E?si(E):null,E!==null&&(D=Pi(E),E!==D||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=c),y!==E)){if(P=my,b="onMouseLeave",C="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(P=yy,b="onPointerLeave",C="onPointerEnter",_="pointer"),D=y==null?g:Wi(y),T=E==null?g:Wi(E),g=new P(b,_+"leave",y,n,h),g.target=D,g.relatedTarget=T,b=null,si(h)===c&&(P=new P(C,_+"enter",E,n,h),P.target=T,P.relatedTarget=D,b=P),D=b,y&&E)t:{for(P=y,C=E,_=0,T=P;T;T=ji(T))_++;for(T=0,b=C;b;b=ji(b))T++;for(;0<_-T;)P=ji(P),_--;for(;0<T-_;)C=ji(C),T--;for(;_--;){if(P===C||C!==null&&P===C.alternate)break t;P=ji(P),C=ji(C)}P=null}else P=null;y!==null&&Ay(p,g,y,P,!1),E!==null&&D!==null&&Ay(p,D,E,P,!0)}}e:{if(g=c?Wi(c):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var M=LC;else if(wy(g))if(Nw)M=FC;else{M=OC;var O=MC}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=jC);if(M&&(M=M(t,c))){kw(p,M,n,h);break e}O&&O(t,g,c),t==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&ud(g,"number",g.value)}switch(O=c?Wi(c):window,t){case"focusin":(wy(O)||O.contentEditable==="true")&&(Gi=O,Ed=c,Vo=null);break;case"focusout":Vo=Ed=Gi=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,xy(p,n,h);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":xy(p,n,h)}var I;if(sp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qi?Aw(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Pw&&n.locale!=="ko"&&(qi||v!=="onCompositionStart"?v==="onCompositionEnd"&&qi&&(I=Cw()):(gr=h,np="value"in gr?gr.value:gr.textContent,qi=!0)),O=ou(c,v),0<O.length&&(v=new gy(v,t,null,n,h),p.push({event:v,listeners:O}),I?v.data=I:(I=Rw(n),I!==null&&(v.data=I)))),(I=kC?NC(t,n):bC(t,n))&&(c=ou(c,"onBeforeInput"),0<c.length&&(h=new gy("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=I))}Bw(p,e)})}function ra(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ou(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xo(t,n),s!=null&&r.unshift(ra(t,s,i)),s=Xo(t,e),s!=null&&r.push(ra(t,s,i))),t=t.return}return r}function ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ay(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Xo(n,s),u!=null&&o.unshift(ra(n,u,a))):i||(u=Xo(n,s),u!=null&&o.push(ra(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var HC=/\r\n?/g,WC=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(HC,`
`).replace(WC,"")}function pl(t,e,n){if(e=Ry(e),Ry(t)!==e&&n)throw Error(F(425))}function au(){}var Sd=null,Id=null;function xd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cd=typeof setTimeout=="function"?setTimeout:void 0,KC=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,QC=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(t){return ky.resolve(null).then(t).catch(XC)}:Cd;function XC(t){setTimeout(function(){throw t})}function _h(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zo(e)}function Ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ny(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var js=Math.random().toString(36).slice(2),mn="__reactFiber$"+js,ia="__reactProps$"+js,Bn="__reactContainer$"+js,Pd="__reactEvents$"+js,JC="__reactListeners$"+js,YC="__reactHandles$"+js;function si(t){var e=t[mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bn]||n[mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ny(t);t!==null;){if(n=t[mn])return n;t=Ny(t)}return e}t=n,n=t.parentNode}return null}function xa(t){return t=t[mn]||t[Bn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Zu(t){return t[ia]||null}var Ad=[],Ki=-1;function $r(t){return{current:t}}function Ae(t){0>Ki||(t.current=Ad[Ki],Ad[Ki]=null,Ki--)}function Se(t,e){Ki++,Ad[Ki]=t.current,t.current=e}var Mr={},It=$r(Mr),Lt=$r(!1),mi=Mr;function vs(t,e){var n=t.type.contextTypes;if(!n)return Mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(t){return t=t.childContextTypes,t!=null}function lu(){Ae(Lt),Ae(It)}function by(t,e,n){if(It.current!==Mr)throw Error(F(168));Se(It,e),Se(Lt,n)}function $w(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,Mx(t)||"Unknown",i));return Ve({},n,r)}function uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mr,mi=It.current,Se(It,t),Se(Lt,Lt.current),!0}function Dy(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=$w(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,Ae(Lt),Ae(It),Se(It,t)):Ae(Lt),Se(Lt,n)}var Rn=null,ec=!1,wh=!1;function qw(t){Rn===null?Rn=[t]:Rn.push(t)}function ZC(t){ec=!0,qw(t)}function qr(){if(!wh&&Rn!==null){wh=!0;var t=0,e=ye;try{var n=Rn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rn=null,ec=!1}catch(i){throw Rn!==null&&(Rn=Rn.slice(t+1)),mw(Yf,qr),i}finally{ye=e,wh=!1}}return null}var Qi=[],Xi=0,cu=null,hu=0,Qt=[],Xt=0,gi=null,kn=1,Nn="";function Zr(t,e){Qi[Xi++]=hu,Qi[Xi++]=cu,cu=t,hu=e}function Gw(t,e,n){Qt[Xt++]=kn,Qt[Xt++]=Nn,Qt[Xt++]=gi,gi=t;var r=kn;t=Nn;var i=32-an(r)-1;r&=~(1<<i),n+=1;var s=32-an(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kn=1<<32-an(e)+i|n<<i|r,Nn=s+t}else kn=1<<s|n<<i|r,Nn=t}function ap(t){t.return!==null&&(Zr(t,1),Gw(t,1,0))}function lp(t){for(;t===cu;)cu=Qi[--Xi],Qi[Xi]=null,hu=Qi[--Xi],Qi[Xi]=null;for(;t===gi;)gi=Qt[--Xt],Qt[Xt]=null,Nn=Qt[--Xt],Qt[Xt]=null,kn=Qt[--Xt],Qt[Xt]=null}var $t=null,zt=null,Re=!1,on=null;function Hw(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,zt=Ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:kn,overflow:Nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,zt=null,!0):!1;default:return!1}}function Rd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kd(t){if(Re){var e=zt;if(e){var n=e;if(!Vy(t,e)){if(Rd(t))throw Error(F(418));e=Ir(n.nextSibling);var r=$t;e&&Vy(t,e)?Hw(r,n):(t.flags=t.flags&-4097|2,Re=!1,$t=t)}}else{if(Rd(t))throw Error(F(418));t.flags=t.flags&-4097|2,Re=!1,$t=t}}}function Ly(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function ml(t){if(t!==$t)return!1;if(!Re)return Ly(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xd(t.type,t.memoizedProps)),e&&(e=zt)){if(Rd(t))throw Ww(),Error(F(418));for(;e;)Hw(t,e),e=Ir(e.nextSibling)}if(Ly(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=$t?Ir(t.stateNode.nextSibling):null;return!0}function Ww(){for(var t=zt;t;)t=Ir(t.nextSibling)}function _s(){zt=$t=null,Re=!1}function up(t){on===null?on=[t]:on.push(t)}var eP=Kn.ReactCurrentBatchConfig;function rn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var du=$r(null),fu=null,Ji=null,cp=null;function hp(){cp=Ji=fu=null}function dp(t){var e=du.current;Ae(du),t._currentValue=e}function Nd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function us(t,e){fu=t,cp=Ji=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function Zt(t){var e=t._currentValue;if(cp!==t)if(t={context:t,memoizedValue:e,next:null},Ji===null){if(fu===null)throw Error(F(308));Ji=t,fu.dependencies={lanes:0,firstContext:t}}else Ji=Ji.next=t;return e}var oi=null;function fp(t){oi===null?oi=[t]:oi.push(t)}function Kw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fp(e)):(n.next=i.next,i.next=n),e.interleaved=n,zn(t,r)}function zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var lr=!1;function pp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zn(t,n)}return i=r.interleaved,i===null?(e.next=e,fp(r)):(e.next=i.next,i.next=e),r.interleaved=e,zn(t,n)}function Ml(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zf(t,n)}}function My(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pu(t,e,n,r){var i=t.updateQueue;lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,h=c=u=null,a=s;do{var g=a.lane,y=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,P=a;switch(g=e,y=n,P.tag){case 1:if(E=P.payload,typeof E=="function"){p=E.call(y,p,g);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=P.payload,g=typeof E=="function"?E.call(y,p,g):E,g==null)break e;p=Ve({},p,g);break e;case 2:lr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,u=p):h=h.next=y,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(h===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vi|=o,t.lanes=o,t.memoizedState=p}}function Oy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Xw=new K0.Component().refs;function bd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tc={isMounted:function(t){return(t=t._reactInternals)?Pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),i=Pr(t),s=Mn(r,i);s.payload=e,n!=null&&(s.callback=n),e=xr(t,s,i),e!==null&&(ln(e,t,i,r),Ml(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),i=Pr(t),s=Mn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=xr(t,s,i),e!==null&&(ln(e,t,i,r),Ml(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=Pr(t),i=Mn(n,r);i.tag=2,e!=null&&(i.callback=e),e=xr(t,i,r),e!==null&&(ln(e,t,r,n),Ml(e,t,r))}};function jy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ta(n,r)||!ta(i,s):!0}function Jw(t,e,n){var r=!1,i=Mr,s=e.contextType;return typeof s=="object"&&s!==null?s=Zt(s):(i=Mt(e)?mi:It.current,r=e.contextTypes,s=(r=r!=null)?vs(t,i):Mr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Fy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tc.enqueueReplaceState(e,e.state,null)}function Dd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Xw,pp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zt(s):(s=Mt(e)?mi:It.current,i.context=vs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tc.enqueueReplaceState(i,i.state,null),pu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function po(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Xw&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function gl(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Uy(t){var e=t._init;return e(t._payload)}function Yw(t){function e(C,_){if(t){var T=C.deletions;T===null?(C.deletions=[_],C.flags|=16):T.push(_)}}function n(C,_){if(!t)return null;for(;_!==null;)e(C,_),_=_.sibling;return null}function r(C,_){for(C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function i(C,_){return C=Ar(C,_),C.index=0,C.sibling=null,C}function s(C,_,T){return C.index=T,t?(T=C.alternate,T!==null?(T=T.index,T<_?(C.flags|=2,_):T):(C.flags|=2,_)):(C.flags|=1048576,_)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,_,T,b){return _===null||_.tag!==6?(_=Ph(T,C.mode,b),_.return=C,_):(_=i(_,T),_.return=C,_)}function u(C,_,T,b){var M=T.type;return M===$i?h(C,_,T.props.children,b,T.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ar&&Uy(M)===_.type)?(b=i(_,T.props),b.ref=po(C,_,T),b.return=C,b):(b=zl(T.type,T.key,T.props,null,C.mode,b),b.ref=po(C,_,T),b.return=C,b)}function c(C,_,T,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Ah(T,C.mode,b),_.return=C,_):(_=i(_,T.children||[]),_.return=C,_)}function h(C,_,T,b,M){return _===null||_.tag!==7?(_=hi(T,C.mode,b,M),_.return=C,_):(_=i(_,T),_.return=C,_)}function p(C,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ph(""+_,C.mode,T),_.return=C,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sl:return T=zl(_.type,_.key,_.props,null,C.mode,T),T.ref=po(C,null,_),T.return=C,T;case zi:return _=Ah(_,C.mode,T),_.return=C,_;case ar:var b=_._init;return p(C,b(_._payload),T)}if(Eo(_)||lo(_))return _=hi(_,C.mode,T,null),_.return=C,_;gl(C,_)}return null}function g(C,_,T,b){var M=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(C,_,""+T,b);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case sl:return T.key===M?u(C,_,T,b):null;case zi:return T.key===M?c(C,_,T,b):null;case ar:return M=T._init,g(C,_,M(T._payload),b)}if(Eo(T)||lo(T))return M!==null?null:h(C,_,T,b,null);gl(C,T)}return null}function y(C,_,T,b,M){if(typeof b=="string"&&b!==""||typeof b=="number")return C=C.get(T)||null,a(_,C,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case sl:return C=C.get(b.key===null?T:b.key)||null,u(_,C,b,M);case zi:return C=C.get(b.key===null?T:b.key)||null,c(_,C,b,M);case ar:var O=b._init;return y(C,_,T,O(b._payload),M)}if(Eo(b)||lo(b))return C=C.get(T)||null,h(_,C,b,M,null);gl(_,b)}return null}function E(C,_,T,b){for(var M=null,O=null,I=_,v=_=0,S=null;I!==null&&v<T.length;v++){I.index>v?(S=I,I=null):S=I.sibling;var x=g(C,I,T[v],b);if(x===null){I===null&&(I=S);break}t&&I&&x.alternate===null&&e(C,I),_=s(x,_,v),O===null?M=x:O.sibling=x,O=x,I=S}if(v===T.length)return n(C,I),Re&&Zr(C,v),M;if(I===null){for(;v<T.length;v++)I=p(C,T[v],b),I!==null&&(_=s(I,_,v),O===null?M=I:O.sibling=I,O=I);return Re&&Zr(C,v),M}for(I=r(C,I);v<T.length;v++)S=y(I,C,v,T[v],b),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?v:S.key),_=s(S,_,v),O===null?M=S:O.sibling=S,O=S);return t&&I.forEach(function(k){return e(C,k)}),Re&&Zr(C,v),M}function P(C,_,T,b){var M=lo(T);if(typeof M!="function")throw Error(F(150));if(T=M.call(T),T==null)throw Error(F(151));for(var O=M=null,I=_,v=_=0,S=null,x=T.next();I!==null&&!x.done;v++,x=T.next()){I.index>v?(S=I,I=null):S=I.sibling;var k=g(C,I,x.value,b);if(k===null){I===null&&(I=S);break}t&&I&&k.alternate===null&&e(C,I),_=s(k,_,v),O===null?M=k:O.sibling=k,O=k,I=S}if(x.done)return n(C,I),Re&&Zr(C,v),M;if(I===null){for(;!x.done;v++,x=T.next())x=p(C,x.value,b),x!==null&&(_=s(x,_,v),O===null?M=x:O.sibling=x,O=x);return Re&&Zr(C,v),M}for(I=r(C,I);!x.done;v++,x=T.next())x=y(I,C,v,x.value,b),x!==null&&(t&&x.alternate!==null&&I.delete(x.key===null?v:x.key),_=s(x,_,v),O===null?M=x:O.sibling=x,O=x);return t&&I.forEach(function(N){return e(C,N)}),Re&&Zr(C,v),M}function D(C,_,T,b){if(typeof T=="object"&&T!==null&&T.type===$i&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case sl:e:{for(var M=T.key,O=_;O!==null;){if(O.key===M){if(M=T.type,M===$i){if(O.tag===7){n(C,O.sibling),_=i(O,T.props.children),_.return=C,C=_;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ar&&Uy(M)===O.type){n(C,O.sibling),_=i(O,T.props),_.ref=po(C,O,T),_.return=C,C=_;break e}n(C,O);break}else e(C,O);O=O.sibling}T.type===$i?(_=hi(T.props.children,C.mode,b,T.key),_.return=C,C=_):(b=zl(T.type,T.key,T.props,null,C.mode,b),b.ref=po(C,_,T),b.return=C,C=b)}return o(C);case zi:e:{for(O=T.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(C,_.sibling),_=i(_,T.children||[]),_.return=C,C=_;break e}else{n(C,_);break}else e(C,_);_=_.sibling}_=Ah(T,C.mode,b),_.return=C,C=_}return o(C);case ar:return O=T._init,D(C,_,O(T._payload),b)}if(Eo(T))return E(C,_,T,b);if(lo(T))return P(C,_,T,b);gl(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(C,_.sibling),_=i(_,T),_.return=C,C=_):(n(C,_),_=Ph(T,C.mode,b),_.return=C,C=_),o(C)):n(C,_)}return D}var ws=Yw(!0),Zw=Yw(!1),Ca={},_n=$r(Ca),sa=$r(Ca),oa=$r(Ca);function ai(t){if(t===Ca)throw Error(F(174));return t}function mp(t,e){switch(Se(oa,e),Se(sa,t),Se(_n,Ca),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hd(e,t)}Ae(_n),Se(_n,e)}function Es(){Ae(_n),Ae(sa),Ae(oa)}function eE(t){ai(oa.current);var e=ai(_n.current),n=hd(e,t.type);e!==n&&(Se(sa,t),Se(_n,n))}function gp(t){sa.current===t&&(Ae(_n),Ae(sa))}var ke=$r(0);function mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eh=[];function yp(){for(var t=0;t<Eh.length;t++)Eh[t]._workInProgressVersionPrimary=null;Eh.length=0}var Ol=Kn.ReactCurrentDispatcher,Th=Kn.ReactCurrentBatchConfig,yi=0,De=null,Ke=null,tt=null,gu=!1,Lo=!1,aa=0,tP=0;function yt(){throw Error(F(321))}function vp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!un(t[n],e[n]))return!1;return!0}function _p(t,e,n,r,i,s){if(yi=s,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ol.current=t===null||t.memoizedState===null?sP:oP,t=n(r,i),Lo){s=0;do{if(Lo=!1,aa=0,25<=s)throw Error(F(301));s+=1,tt=Ke=null,e.updateQueue=null,Ol.current=aP,t=n(r,i)}while(Lo)}if(Ol.current=yu,e=Ke!==null&&Ke.next!==null,yi=0,tt=Ke=De=null,gu=!1,e)throw Error(F(300));return t}function wp(){var t=aa!==0;return aa=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?De.memoizedState=tt=t:tt=tt.next=t,tt}function en(){if(Ke===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=tt===null?De.memoizedState:tt.next;if(e!==null)tt=e,Ke=t;else{if(t===null)throw Error(F(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},tt===null?De.memoizedState=tt=t:tt=tt.next=t}return tt}function la(t,e){return typeof e=="function"?e(t):e}function Sh(t){var e=en(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Ke,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((yi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,De.lanes|=h,vi|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,un(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,De.lanes|=s,vi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ih(t){var e=en(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);un(s,e.memoizedState)||(Vt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tE(){}function nE(t,e){var n=De,r=en(),i=e(),s=!un(r.memoizedState,i);if(s&&(r.memoizedState=i,Vt=!0),r=r.queue,Ep(sE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,ua(9,iE.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(F(349));yi&30||rE(n,e,i)}return i}function rE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iE(t,e,n,r){e.value=n,e.getSnapshot=r,oE(e)&&aE(t)}function sE(t,e,n){return n(function(){oE(e)&&aE(t)})}function oE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!un(t,n)}catch{return!0}}function aE(t){var e=zn(t,1);e!==null&&ln(e,t,1,-1)}function By(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},e.queue=t,t=t.dispatch=iP.bind(null,De,t),[e.memoizedState,t]}function ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lE(){return en().memoizedState}function jl(t,e,n,r){var i=fn();De.flags|=t,i.memoizedState=ua(1|e,n,void 0,r===void 0?null:r)}function nc(t,e,n,r){var i=en();r=r===void 0?null:r;var s=void 0;if(Ke!==null){var o=Ke.memoizedState;if(s=o.destroy,r!==null&&vp(r,o.deps)){i.memoizedState=ua(e,n,s,r);return}}De.flags|=t,i.memoizedState=ua(1|e,n,s,r)}function zy(t,e){return jl(8390656,8,t,e)}function Ep(t,e){return nc(2048,8,t,e)}function uE(t,e){return nc(4,2,t,e)}function cE(t,e){return nc(4,4,t,e)}function hE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dE(t,e,n){return n=n!=null?n.concat([t]):null,nc(4,4,hE.bind(null,e,t),n)}function Tp(){}function fE(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pE(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mE(t,e,n){return yi&21?(un(n,e)||(n=vw(),De.lanes|=n,vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function nP(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Th.transition;Th.transition={};try{t(!1),e()}finally{ye=n,Th.transition=r}}function gE(){return en().memoizedState}function rP(t,e,n){var r=Pr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yE(t))vE(e,n);else if(n=Kw(t,e,n,r),n!==null){var i=kt();ln(n,t,r,i),_E(n,e,r)}}function iP(t,e,n){var r=Pr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yE(t))vE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,un(a,o)){var u=e.interleaved;u===null?(i.next=i,fp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Kw(t,e,i,r),n!==null&&(i=kt(),ln(n,t,r,i),_E(n,e,r))}}function yE(t){var e=t.alternate;return t===De||e!==null&&e===De}function vE(t,e){Lo=gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _E(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zf(t,n)}}var yu={readContext:Zt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},sP={readContext:Zt,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:Zt,useEffect:zy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jl(4194308,4,hE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return jl(4,2,t,e)},useMemo:function(t,e){var n=fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rP.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:By,useDebugValue:Tp,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=By(!1),e=t[0];return t=nP.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,i=fn();if(Re){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),nt===null)throw Error(F(349));yi&30||rE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,zy(sE.bind(null,r,s,t),[t]),r.flags|=2048,ua(9,iE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fn(),e=nt.identifierPrefix;if(Re){var n=Nn,r=kn;n=(r&~(1<<32-an(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=aa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oP={readContext:Zt,useCallback:fE,useContext:Zt,useEffect:Ep,useImperativeHandle:dE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:Sh,useRef:lE,useState:function(){return Sh(la)},useDebugValue:Tp,useDeferredValue:function(t){var e=en();return mE(e,Ke.memoizedState,t)},useTransition:function(){var t=Sh(la)[0],e=en().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1},aP={readContext:Zt,useCallback:fE,useContext:Zt,useEffect:Ep,useImperativeHandle:dE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:Ih,useRef:lE,useState:function(){return Ih(la)},useDebugValue:Tp,useDeferredValue:function(t){var e=en();return Ke===null?e.memoizedState=t:mE(e,Ke.memoizedState,t)},useTransition:function(){var t=Ih(la)[0],e=en().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1};function Ts(t,e){try{var n="",r=e;do n+=Lx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lP=typeof WeakMap=="function"?WeakMap:Map;function wE(t,e,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_u||(_u=!0,qd=r),Vd(t,e)},n}function EE(t,e,n){n=Mn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vd(t,e),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $y(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TP.bind(null,t,e,n),e.then(t,t))}function qy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mn(-1,1),e.tag=2,xr(n,e,1))),n.lanes|=1),t)}var uP=Kn.ReactCurrentOwner,Vt=!1;function Rt(t,e,n,r){e.child=t===null?Zw(e,null,n,r):ws(e,t.child,n,r)}function Hy(t,e,n,r,i){n=n.render;var s=e.ref;return us(e,i),r=_p(t,e,n,r,s,i),n=wp(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(Re&&n&&ap(e),e.flags|=1,Rt(t,e,r,i),e.child)}function Wy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!kp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,TE(t,e,s,r,i)):(t=zl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ta,n(o,r)&&t.ref===e.ref)return $n(t,e,i)}return e.flags|=1,t=Ar(s,r),t.ref=e.ref,t.return=e,e.child=t}function TE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ta(s,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,$n(t,e,i)}return Ld(t,e,n,r,i)}function SE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Zi,Bt),Bt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Zi,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Zi,Bt),Bt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Se(Zi,Bt),Bt|=r;return Rt(t,e,i,n),e.child}function IE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ld(t,e,n,r,i){var s=Mt(n)?mi:It.current;return s=vs(e,s),us(e,i),n=_p(t,e,n,r,s,i),r=wp(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(Re&&r&&ap(e),e.flags|=1,Rt(t,e,n,i),e.child)}function Ky(t,e,n,r,i){if(Mt(n)){var s=!0;uu(e)}else s=!1;if(us(e,i),e.stateNode===null)Fl(t,e),Jw(e,n,r),Dd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zt(c):(c=Mt(n)?mi:It.current,c=vs(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Fy(e,o,r,c),lr=!1;var g=e.memoizedState;o.state=g,pu(e,r,o,i),u=e.memoizedState,a!==r||g!==u||Lt.current||lr?(typeof h=="function"&&(bd(e,n,h,r),u=e.memoizedState),(a=lr||jy(e,n,a,r,g,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rn(e.type,a),o.props=c,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Zt(u):(u=Mt(n)?mi:It.current,u=vs(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==u)&&Fy(e,o,r,u),lr=!1,g=e.memoizedState,o.state=g,pu(e,r,o,i);var E=e.memoizedState;a!==p||g!==E||Lt.current||lr?(typeof y=="function"&&(bd(e,n,y,r),E=e.memoizedState),(c=lr||jy(e,n,c,r,g,E,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Md(t,e,n,r,s,i)}function Md(t,e,n,r,i,s){IE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Dy(e,n,!1),$n(t,e,s);r=e.stateNode,uP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ws(e,t.child,null,s),e.child=ws(e,null,a,s)):Rt(t,e,a,s),e.memoizedState=r.state,i&&Dy(e,n,!0),e.child}function xE(t){var e=t.stateNode;e.pendingContext?by(t,e.pendingContext,e.pendingContext!==e.context):e.context&&by(t,e.context,!1),mp(t,e.containerInfo)}function Qy(t,e,n,r,i){return _s(),up(i),e.flags|=256,Rt(t,e,n,r),e.child}var Od={dehydrated:null,treeContext:null,retryLane:0};function jd(t){return{baseLanes:t,cachePool:null,transitions:null}}function CE(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(ke,i&1),t===null)return kd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sc(o,r,0,null),t=hi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=jd(n),e.memoizedState=Od,t):Sp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ar(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ar(a,s):(s=hi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?jd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Od,r}return s=t.child,t=s.sibling,r=Ar(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sp(t,e){return e=sc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yl(t,e,n,r){return r!==null&&up(r),ws(e,t.child,null,n),t=Sp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xh(Error(F(422))),yl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sc({mode:"visible",children:r.children},i,0,null),s=hi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ws(e,t.child,null,o),e.child.memoizedState=jd(o),e.memoizedState=Od,s);if(!(e.mode&1))return yl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=xh(s,r,void 0),yl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vt||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zn(t,i),ln(r,t,i,-1))}return Rp(),r=xh(Error(F(421))),yl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zt=Ir(i.nextSibling),$t=e,Re=!0,on=null,t!==null&&(Qt[Xt++]=kn,Qt[Xt++]=Nn,Qt[Xt++]=gi,kn=t.id,Nn=t.overflow,gi=e),e=Sp(e,r.children),e.flags|=4096,e)}function Xy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nd(t.return,e,n)}function Ch(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Rt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,n,e);else if(t.tag===19)Xy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ch(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ch(e,!0,n,null,s);break;case"together":Ch(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hP(t,e,n){switch(e.tag){case 3:xE(e),_s();break;case 5:eE(e);break;case 1:Mt(e.type)&&uu(e);break;case 4:mp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(du,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?CE(t,e,n):(Se(ke,ke.current&1),t=$n(t,e,n),t!==null?t.sibling:null);Se(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,SE(t,e,n)}return $n(t,e,n)}var AE,Fd,RE,kE;AE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fd=function(){};RE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ai(_n.current);var s=null;switch(n){case"input":i=ad(t,i),r=ad(t,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=cd(t,i),r=cd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=au)}dd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ko.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Pe("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};kE=function(t,e,n,r){n!==r&&(e.flags|=4)};function mo(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dP(t,e,n){var r=e.pendingProps;switch(lp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return Mt(e.type)&&lu(),vt(e),null;case 3:return r=e.stateNode,Es(),Ae(Lt),Ae(It),yp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(Wd(on),on=null))),Fd(t,e),vt(e),null;case 5:gp(e);var i=ai(oa.current);if(n=e.type,t!==null&&e.stateNode!=null)RE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return vt(e),null}if(t=ai(_n.current),ml(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mn]=e,r[ia]=s,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<So.length;i++)Pe(So[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":sy(r,s),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pe("invalid",r);break;case"textarea":ay(r,s),Pe("invalid",r)}dd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",""+a]):Ko.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":ol(r),oy(r,s,!0);break;case"textarea":ol(r),ly(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=au)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mn]=e,t[ia]=r,AE(t,e,!1,!1),e.stateNode=t;e:{switch(o=fd(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),i=r;break;case"iframe":case"object":case"embed":Pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<So.length;i++)Pe(So[i],t);i=r;break;case"source":Pe("error",t),i=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),i=r;break;case"details":Pe("toggle",t),i=r;break;case"input":sy(t,r),i=ad(t,r),Pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":ay(t,r),i=cd(t,r),Pe("invalid",t);break;default:i=r}dd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?ow(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&iw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Qo(t,u):typeof u=="number"&&Qo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ko.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Pe("scroll",t):u!=null&&Wf(t,s,u,o))}switch(n){case"input":ol(t),oy(t,r,!1);break;case"textarea":ol(t),ly(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ss(t,!!r.multiple,s,!1):r.defaultValue!=null&&ss(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)kE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=ai(oa.current),ai(_n.current),ml(e)){if(r=e.stateNode,n=e.memoizedProps,r[mn]=e,(s=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=e,e.stateNode=r}return vt(e),null;case 13:if(Ae(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&zt!==null&&e.mode&1&&!(e.flags&128))Ww(),_s(),e.flags|=98560,s=!1;else if(s=ml(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[mn]=e}else _s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),s=!1}else on!==null&&(Wd(on),on=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Qe===0&&(Qe=3):Rp())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return Es(),Fd(t,e),t===null&&na(e.stateNode.containerInfo),vt(e),null;case 10:return dp(e.type._context),vt(e),null;case 17:return Mt(e.type)&&lu(),vt(e),null;case 19:if(Ae(ke),s=e.memoizedState,s===null)return vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)mo(s,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mu(t),o!==null){for(e.flags|=128,mo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ue()>Ss&&(e.flags|=128,r=!0,mo(s,!1),e.lanes=4194304)}else{if(!r)if(t=mu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return vt(e),null}else 2*Ue()-s.renderingStartTime>Ss&&n!==1073741824&&(e.flags|=128,r=!0,mo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,n=ke.current,Se(ke,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return Ap(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function fP(t,e){switch(lp(e),e.tag){case 1:return Mt(e.type)&&lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Es(),Ae(Lt),Ae(It),yp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gp(e),null;case 13:if(Ae(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));_s()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(ke),null;case 4:return Es(),null;case 10:return dp(e.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var vl=!1,Et=!1,pP=typeof WeakSet=="function"?WeakSet:Set,G=null;function Yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function Ud(t,e,n){try{n()}catch(r){Me(t,e,r)}}var Jy=!1;function mP(t,e){if(Sd=iu,t=Vw(),op(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,p=t,g=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===t)break t;if(g===n&&++c===i&&(a=o),g===s&&++h===r&&(u=o),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Id={focusedElem:t,selectionRange:n},iu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var P=E.memoizedProps,D=E.memoizedState,C=e.stateNode,_=C.getSnapshotBeforeUpdate(e.elementType===e.type?P:rn(e.type,P),D);C.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){Me(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return E=Jy,Jy=!1,E}function Mo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ud(e,n,s)}i=i.next}while(i!==r)}}function rc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NE(t){var e=t.alternate;e!==null&&(t.alternate=null,NE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mn],delete e[ia],delete e[Pd],delete e[JC],delete e[YC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bE(t){return t.tag===5||t.tag===3||t.tag===4}function Yy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=au));else if(r!==4&&(t=t.child,t!==null))for(zd(t,e,n),t=t.sibling;t!==null;)zd(t,e,n),t=t.sibling}function $d(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($d(t,e,n),t=t.sibling;t!==null;)$d(t,e,n),t=t.sibling}var ot=null,sn=!1;function nr(t,e,n){for(n=n.child;n!==null;)DE(t,e,n),n=n.sibling}function DE(t,e,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Qu,n)}catch{}switch(n.tag){case 5:Et||Yi(n,e);case 6:var r=ot,i=sn;ot=null,nr(t,e,n),ot=r,sn=i,ot!==null&&(sn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(sn?(t=ot,n=n.stateNode,t.nodeType===8?_h(t.parentNode,n):t.nodeType===1&&_h(t,n),Zo(t)):_h(ot,n.stateNode));break;case 4:r=ot,i=sn,ot=n.stateNode.containerInfo,sn=!0,nr(t,e,n),ot=r,sn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ud(n,e,o),i=i.next}while(i!==r)}nr(t,e,n);break;case 1:if(!Et&&(Yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}nr(t,e,n);break;case 21:nr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,nr(t,e,n),Et=r):nr(t,e,n);break;default:nr(t,e,n)}}function Zy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pP),e.forEach(function(r){var i=IP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,sn=!1;break e;case 3:ot=a.stateNode.containerInfo,sn=!0;break e;case 4:ot=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(ot===null)throw Error(F(160));DE(s,o,i),ot=null,sn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Me(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VE(e,t),e=e.sibling}function VE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nn(e,t),dn(t),r&4){try{Mo(3,t,t.return),rc(3,t)}catch(P){Me(t,t.return,P)}try{Mo(5,t,t.return)}catch(P){Me(t,t.return,P)}}break;case 1:nn(e,t),dn(t),r&512&&n!==null&&Yi(n,n.return);break;case 5:if(nn(e,t),dn(t),r&512&&n!==null&&Yi(n,n.return),t.flags&32){var i=t.stateNode;try{Qo(i,"")}catch(P){Me(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tw(i,s),fd(a,o);var c=fd(a,s);for(o=0;o<u.length;o+=2){var h=u[o],p=u[o+1];h==="style"?ow(i,p):h==="dangerouslySetInnerHTML"?iw(i,p):h==="children"?Qo(i,p):Wf(i,h,p,c)}switch(a){case"input":ld(i,s);break;case"textarea":nw(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ss(i,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?ss(i,!!s.multiple,s.defaultValue,!0):ss(i,!!s.multiple,s.multiple?[]:"",!1))}i[ia]=s}catch(P){Me(t,t.return,P)}}break;case 6:if(nn(e,t),dn(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){Me(t,t.return,P)}}break;case 3:if(nn(e,t),dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zo(e.containerInfo)}catch(P){Me(t,t.return,P)}break;case 4:nn(e,t),dn(t);break;case 13:nn(e,t),dn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cp=Ue())),r&4&&Zy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(c=Et)||h,nn(e,t),Et=c):nn(e,t),dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(G=t,h=t.child;h!==null;){for(p=G=h;G!==null;){switch(g=G,y=g.child,g.tag){case 0:case 11:case 14:case 15:Mo(4,g,g.return);break;case 1:Yi(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(P){Me(r,n,P)}}break;case 5:Yi(g,g.return);break;case 22:if(g.memoizedState!==null){tv(p);continue}}y!==null?(y.return=g,G=y):tv(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=sw("display",o))}catch(P){Me(t,t.return,P)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(P){Me(t,t.return,P)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:nn(e,t),dn(t),r&4&&Zy(t);break;case 21:break;default:nn(e,t),dn(t)}}function dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bE(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qo(i,""),r.flags&=-33);var s=Yy(t);$d(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yy(t);zd(t,a,o);break;default:throw Error(F(161))}}catch(u){Me(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gP(t,e,n){G=t,LE(t)}function LE(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Et;a=vl;var c=Et;if(vl=o,(Et=u)&&!c)for(G=i;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?nv(i):u!==null?(u.return=o,G=u):nv(i);for(;s!==null;)G=s,LE(s),s=s.sibling;G=i,vl=a,Et=c}ev(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):ev(t)}}function ev(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||rc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Oy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Oy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Zo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Et||e.flags&512&&Bd(e)}catch(g){Me(e,e.return,g)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function tv(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function nv(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rc(4,e)}catch(u){Me(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Me(e,i,u)}}var s=e.return;try{Bd(e)}catch(u){Me(e,s,u)}break;case 5:var o=e.return;try{Bd(e)}catch(u){Me(e,o,u)}}}catch(u){Me(e,e.return,u)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var yP=Math.ceil,vu=Kn.ReactCurrentDispatcher,Ip=Kn.ReactCurrentOwner,Yt=Kn.ReactCurrentBatchConfig,de=0,nt=null,He=null,lt=0,Bt=0,Zi=$r(0),Qe=0,ca=null,vi=0,ic=0,xp=0,Oo=null,Dt=null,Cp=0,Ss=1/0,An=null,_u=!1,qd=null,Cr=null,_l=!1,yr=null,wu=0,jo=0,Gd=null,Ul=-1,Bl=0;function kt(){return de&6?Ue():Ul!==-1?Ul:Ul=Ue()}function Pr(t){return t.mode&1?de&2&&lt!==0?lt&-lt:eP.transition!==null?(Bl===0&&(Bl=vw()),Bl):(t=ye,t!==0||(t=window.event,t=t===void 0?16:xw(t.type)),t):1}function ln(t,e,n,r){if(50<jo)throw jo=0,Gd=null,Error(F(185));Sa(t,n,r),(!(de&2)||t!==nt)&&(t===nt&&(!(de&2)&&(ic|=n),Qe===4&&hr(t,lt)),Ot(t,r),n===1&&de===0&&!(e.mode&1)&&(Ss=Ue()+500,ec&&qr()))}function Ot(t,e){var n=t.callbackNode;eC(t,e);var r=ru(t,t===nt?lt:0);if(r===0)n!==null&&hy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hy(n),e===1)t.tag===0?ZC(rv.bind(null,t)):qw(rv.bind(null,t)),QC(function(){!(de&6)&&qr()}),n=null;else{switch(_w(r)){case 1:n=Yf;break;case 4:n=gw;break;case 16:n=nu;break;case 536870912:n=yw;break;default:n=nu}n=$E(n,ME.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ME(t,e){if(Ul=-1,Bl=0,de&6)throw Error(F(327));var n=t.callbackNode;if(cs()&&t.callbackNode!==n)return null;var r=ru(t,t===nt?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eu(t,r);else{e=r;var i=de;de|=2;var s=jE();(nt!==t||lt!==e)&&(An=null,Ss=Ue()+500,ci(t,e));do try{wP();break}catch(a){OE(t,a)}while(1);hp(),vu.current=s,de=i,He!==null?e=0:(nt=null,lt=0,e=Qe)}if(e!==0){if(e===2&&(i=vd(t),i!==0&&(r=i,e=Hd(t,i))),e===1)throw n=ca,ci(t,0),hr(t,r),Ot(t,Ue()),n;if(e===6)hr(t,r);else{if(i=t.current.alternate,!(r&30)&&!vP(i)&&(e=Eu(t,r),e===2&&(s=vd(t),s!==0&&(r=s,e=Hd(t,s))),e===1))throw n=ca,ci(t,0),hr(t,r),Ot(t,Ue()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:ei(t,Dt,An);break;case 3:if(hr(t,r),(r&130023424)===r&&(e=Cp+500-Ue(),10<e)){if(ru(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cd(ei.bind(null,t,Dt,An),e);break}ei(t,Dt,An);break;case 4:if(hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-an(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yP(r/1960))-r,10<r){t.timeoutHandle=Cd(ei.bind(null,t,Dt,An),r);break}ei(t,Dt,An);break;case 5:ei(t,Dt,An);break;default:throw Error(F(329))}}}return Ot(t,Ue()),t.callbackNode===n?ME.bind(null,t):null}function Hd(t,e){var n=Oo;return t.current.memoizedState.isDehydrated&&(ci(t,e).flags|=256),t=Eu(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&Wd(e)),t}function Wd(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function vP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!un(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hr(t,e){for(e&=~xp,e&=~ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-an(e),r=1<<n;t[n]=-1,e&=~r}}function rv(t){if(de&6)throw Error(F(327));cs();var e=ru(t,0);if(!(e&1))return Ot(t,Ue()),null;var n=Eu(t,e);if(t.tag!==0&&n===2){var r=vd(t);r!==0&&(e=r,n=Hd(t,r))}if(n===1)throw n=ca,ci(t,0),hr(t,e),Ot(t,Ue()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ei(t,Dt,An),Ot(t,Ue()),null}function Pp(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(Ss=Ue()+500,ec&&qr())}}function _i(t){yr!==null&&yr.tag===0&&!(de&6)&&cs();var e=de;de|=1;var n=Yt.transition,r=ye;try{if(Yt.transition=null,ye=1,t)return t()}finally{ye=r,Yt.transition=n,de=e,!(de&6)&&qr()}}function Ap(){Bt=Zi.current,Ae(Zi)}function ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KC(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(lp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lu();break;case 3:Es(),Ae(Lt),Ae(It),yp();break;case 5:gp(r);break;case 4:Es();break;case 13:Ae(ke);break;case 19:Ae(ke);break;case 10:dp(r.type._context);break;case 22:case 23:Ap()}n=n.return}if(nt=t,He=t=Ar(t.current,null),lt=Bt=e,Qe=0,ca=null,xp=ic=vi=0,Dt=Oo=null,oi!==null){for(e=0;e<oi.length;e++)if(n=oi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}oi=null}return t}function OE(t,e){do{var n=He;try{if(hp(),Ol.current=yu,gu){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gu=!1}if(yi=0,tt=Ke=De=null,Lo=!1,aa=0,Ip.current=null,n===null||n.return===null){Qe=1,ca=e,He=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=lt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=qy(o);if(y!==null){y.flags&=-257,Gy(y,o,a,s,e),y.mode&1&&$y(s,c,e),e=y,u=c;var E=e.updateQueue;if(E===null){var P=new Set;P.add(u),e.updateQueue=P}else E.add(u);break e}else{if(!(e&1)){$y(s,c,e),Rp();break e}u=Error(F(426))}}else if(Re&&a.mode&1){var D=qy(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Gy(D,o,a,s,e),up(Ts(u,a));break e}}s=u=Ts(u,a),Qe!==4&&(Qe=2),Oo===null?Oo=[s]:Oo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=wE(s,u,e);My(s,C);break e;case 1:a=u;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Cr===null||!Cr.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=EE(s,a,e);My(s,b);break e}}s=s.return}while(s!==null)}UE(n)}catch(M){e=M,He===n&&n!==null&&(He=n=n.return);continue}break}while(1)}function jE(){var t=vu.current;return vu.current=yu,t===null?yu:t}function Rp(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||!(vi&268435455)&&!(ic&268435455)||hr(nt,lt)}function Eu(t,e){var n=de;de|=2;var r=jE();(nt!==t||lt!==e)&&(An=null,ci(t,e));do try{_P();break}catch(i){OE(t,i)}while(1);if(hp(),de=n,vu.current=r,He!==null)throw Error(F(261));return nt=null,lt=0,Qe}function _P(){for(;He!==null;)FE(He)}function wP(){for(;He!==null&&!Gx();)FE(He)}function FE(t){var e=zE(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?UE(t):He=e,Ip.current=null}function UE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fP(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,He=null;return}}else if(n=dP(n,e,Bt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Qe===0&&(Qe=5)}function ei(t,e,n){var r=ye,i=Yt.transition;try{Yt.transition=null,ye=1,EP(t,e,n,r)}finally{Yt.transition=i,ye=r}return null}function EP(t,e,n,r){do cs();while(yr!==null);if(de&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tC(t,s),t===nt&&(He=nt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_l||(_l=!0,$E(nu,function(){return cs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yt.transition,Yt.transition=null;var o=ye;ye=1;var a=de;de|=4,Ip.current=null,mP(t,n),VE(n,t),BC(Id),iu=!!Sd,Id=Sd=null,t.current=n,gP(n),Hx(),de=a,ye=o,Yt.transition=s}else t.current=n;if(_l&&(_l=!1,yr=t,wu=i),s=t.pendingLanes,s===0&&(Cr=null),Qx(n.stateNode),Ot(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_u)throw _u=!1,t=qd,qd=null,t;return wu&1&&t.tag!==0&&cs(),s=t.pendingLanes,s&1?t===Gd?jo++:(jo=0,Gd=t):jo=0,qr(),null}function cs(){if(yr!==null){var t=_w(wu),e=Yt.transition,n=ye;try{if(Yt.transition=null,ye=16>t?16:t,yr===null)var r=!1;else{if(t=yr,yr=null,wu=0,de&6)throw Error(F(331));var i=de;for(de|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(G=c;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:Mo(8,h,s)}var p=h.child;if(p!==null)p.return=h,G=p;else for(;G!==null;){h=G;var g=h.sibling,y=h.return;if(NE(h),h===c){G=null;break}if(g!==null){g.return=y,G=g;break}G=y}}}var E=s.alternate;if(E!==null){var P=E.child;if(P!==null){E.child=null;do{var D=P.sibling;P.sibling=null,P=D}while(P!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mo(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,G=C;break e}G=s.return}}var _=t.current;for(G=_;G!==null;){o=G;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,G=T;else e:for(o=_;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rc(9,a)}}catch(M){Me(a,a.return,M)}if(a===o){G=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,G=b;break e}G=a.return}}if(de=i,qr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Qu,t)}catch{}r=!0}return r}finally{ye=n,Yt.transition=e}}return!1}function iv(t,e,n){e=Ts(n,e),e=wE(t,e,1),t=xr(t,e,1),e=kt(),t!==null&&(Sa(t,1,e),Ot(t,e))}function Me(t,e,n){if(t.tag===3)iv(t,t,n);else for(;e!==null;){if(e.tag===3){iv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cr===null||!Cr.has(r))){t=Ts(n,t),t=EE(e,t,1),e=xr(e,t,1),t=kt(),e!==null&&(Sa(e,1,t),Ot(e,t));break}}e=e.return}}function TP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(lt&n)===n&&(Qe===4||Qe===3&&(lt&130023424)===lt&&500>Ue()-Cp?ci(t,0):xp|=n),Ot(t,e)}function BE(t,e){e===0&&(t.mode&1?(e=ul,ul<<=1,!(ul&130023424)&&(ul=4194304)):e=1);var n=kt();t=zn(t,e),t!==null&&(Sa(t,e,n),Ot(t,n))}function SP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BE(t,n)}function IP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),BE(t,n)}var zE;zE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,hP(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Re&&e.flags&1048576&&Gw(e,hu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fl(t,e),t=e.pendingProps;var i=vs(e,It.current);us(e,n),i=_p(null,e,r,t,i,n);var s=wp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(s=!0,uu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pp(e),i.updater=tc,e.stateNode=i,i._reactInternals=e,Dd(e,r,t,n),e=Md(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&ap(e),Rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CP(r),t=rn(r,t),i){case 0:e=Ld(null,e,r,t,n);break e;case 1:e=Ky(null,e,r,t,n);break e;case 11:e=Hy(null,e,r,t,n);break e;case 14:e=Wy(null,e,r,rn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),Ld(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),Ky(t,e,r,i,n);case 3:e:{if(xE(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Qw(t,e),pu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ts(Error(F(423)),e),e=Qy(t,e,r,n,i);break e}else if(r!==i){i=Ts(Error(F(424)),e),e=Qy(t,e,r,n,i);break e}else for(zt=Ir(e.stateNode.containerInfo.firstChild),$t=e,Re=!0,on=null,n=Zw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_s(),r===i){e=$n(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return eE(e),t===null&&kd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xd(r,i)?o=null:s!==null&&xd(r,s)&&(e.flags|=32),IE(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&kd(e),null;case 13:return CE(t,e,n);case 4:return mp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ws(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),Hy(t,e,r,i,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Se(du,r._currentValue),r._currentValue=o,s!==null)if(un(s.value,o)){if(s.children===i.children&&!Lt.current){e=$n(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Mn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Nd(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,us(e,n),i=Zt(i),r=r(i),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,i=rn(r,e.pendingProps),i=rn(r.type,i),Wy(t,e,r,i,n);case 15:return TE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),Fl(t,e),e.tag=1,Mt(r)?(t=!0,uu(e)):t=!1,us(e,n),Jw(e,r,i),Dd(e,r,i,n),Md(null,e,r,!0,t,n);case 19:return PE(t,e,n);case 22:return SE(t,e,n)}throw Error(F(156,e.tag))};function $E(t,e){return mw(t,e)}function xP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,r){return new xP(t,e,n,r)}function kp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CP(t){if(typeof t=="function")return kp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qf)return 11;if(t===Xf)return 14}return 2}function Ar(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")kp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $i:return hi(n.children,i,s,e);case Kf:o=8,i|=8;break;case rd:return t=Jt(12,n,e,i|2),t.elementType=rd,t.lanes=s,t;case id:return t=Jt(13,n,e,i),t.elementType=id,t.lanes=s,t;case sd:return t=Jt(19,n,e,i),t.elementType=sd,t.lanes=s,t;case Y0:return sc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X0:o=10;break e;case J0:o=9;break e;case Qf:o=11;break e;case Xf:o=14;break e;case ar:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Jt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function hi(t,e,n,r){return t=Jt(7,t,r,e),t.lanes=n,t}function sc(t,e,n,r){return t=Jt(22,t,r,e),t.elementType=Y0,t.lanes=n,t.stateNode={isHidden:!1},t}function Ph(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function Ah(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lh(0),this.expirationTimes=lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Np(t,e,n,r,i,s,o,a,u){return t=new PP(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pp(s),t}function AP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qE(t){if(!t)return Mr;t=t._reactInternals;e:{if(Pi(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Mt(n))return $w(t,n,e)}return e}function GE(t,e,n,r,i,s,o,a,u){return t=Np(n,r,!0,t,i,s,o,a,u),t.context=qE(null),n=t.current,r=kt(),i=Pr(n),s=Mn(r,i),s.callback=e??null,xr(n,s,i),t.current.lanes=i,Sa(t,i,r),Ot(t,r),t}function oc(t,e,n,r){var i=e.current,s=kt(),o=Pr(i);return n=qE(n),e.context===null?e.context=n:e.pendingContext=n,e=Mn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xr(i,e,o),t!==null&&(ln(t,i,o,s),Ml(t,i,o)),o}function Tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bp(t,e){sv(t,e),(t=t.alternate)&&sv(t,e)}function RP(){return null}var HE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dp(t){this._internalRoot=t}ac.prototype.render=Dp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));oc(t,e,null,null)};ac.prototype.unmount=Dp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_i(function(){oc(null,t,null,null)}),e[Bn]=null}};function ac(t){this._internalRoot=t}ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cr.length&&e!==0&&e<cr[n].priority;n++);cr.splice(n,0,t),n===0&&Iw(t)}};function Vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ov(){}function kP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Tu(o);s.call(c)}}var o=GE(e,r,t,0,null,!1,!1,"",ov);return t._reactRootContainer=o,t[Bn]=o.current,na(t.nodeType===8?t.parentNode:t),_i(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Tu(u);a.call(c)}}var u=Np(t,0,!1,null,null,!1,!1,"",ov);return t._reactRootContainer=u,t[Bn]=u.current,na(t.nodeType===8?t.parentNode:t),_i(function(){oc(e,u,n,r)}),u}function uc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Tu(o);a.call(u)}}oc(e,o,t,i)}else o=kP(n,e,t,i,r);return Tu(o)}ww=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=To(e.pendingLanes);n!==0&&(Zf(e,n|1),Ot(e,Ue()),!(de&6)&&(Ss=Ue()+500,qr()))}break;case 13:_i(function(){var r=zn(t,1);if(r!==null){var i=kt();ln(r,t,1,i)}}),bp(t,1)}};ep=function(t){if(t.tag===13){var e=zn(t,134217728);if(e!==null){var n=kt();ln(e,t,134217728,n)}bp(t,134217728)}};Ew=function(t){if(t.tag===13){var e=Pr(t),n=zn(t,e);if(n!==null){var r=kt();ln(n,t,e,r)}bp(t,e)}};Tw=function(){return ye};Sw=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};md=function(t,e,n){switch(e){case"input":if(ld(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zu(r);if(!i)throw Error(F(90));ew(r),ld(r,i)}}}break;case"textarea":nw(t,n);break;case"select":e=n.value,e!=null&&ss(t,!!n.multiple,e,!1)}};uw=Pp;cw=_i;var NP={usingClientEntryPoint:!1,Events:[xa,Wi,Zu,aw,lw,Pp]},go={findFiberByHostInstance:si,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bP={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fw(t),t===null?null:t.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||RP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{Qu=wl.inject(bP),vn=wl}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NP;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(e))throw Error(F(200));return AP(t,e,null,n)};Ht.createRoot=function(t,e){if(!Vp(t))throw Error(F(299));var n=!1,r="",i=HE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Np(t,1,!1,null,null,n,!1,r,i),t[Bn]=e.current,na(t.nodeType===8?t.parentNode:t),new Dp(e)};Ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=fw(e),t=t===null?null:t.stateNode,t};Ht.flushSync=function(t){return _i(t)};Ht.hydrate=function(t,e,n){if(!lc(e))throw Error(F(200));return uc(null,t,e,!0,n)};Ht.hydrateRoot=function(t,e,n){if(!Vp(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=HE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GE(e,null,t,1,n??null,i,!1,s,o),t[Bn]=e.current,na(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ac(e)};Ht.render=function(t,e,n){if(!lc(e))throw Error(F(200));return uc(null,t,e,!1,n)};Ht.unmountComponentAtNode=function(t){if(!lc(t))throw Error(F(40));return t._reactRootContainer?(_i(function(){uc(null,null,t,!1,function(){t._reactRootContainer=null,t[Bn]=null})}),!0):!1};Ht.unstable_batchedUpdates=Pp;Ht.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lc(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return uc(t,e,n,!1,r)};Ht.version="18.2.0-next-9e3b772b8-20220608";function WE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WE)}catch(t){console.error(t)}}WE(),G0.exports=Ht;var DP=G0.exports,av=DP;td.createRoot=av.createRoot,td.hydrateRoot=av.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ha.apply(this,arguments)}var vr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vr||(vr={}));const lv="popstate";function VP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Kd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Su(i)}return MP(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LP(){return Math.random().toString(36).substr(2,8)}function uv(t,e){return{usr:t.state,key:t.key,idx:e}}function Kd(t,e,n,r){return n===void 0&&(n=null),ha({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fs(e):e,{state:n,key:e&&e.key||r||LP()})}function Su(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(ha({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=vr.Pop;let D=h(),C=D==null?null:D-c;c=D,u&&u({action:a,location:P.location,delta:C})}function g(D,C){a=vr.Push;let _=Kd(P.location,D,C);n&&n(_,D),c=h()+1;let T=uv(_,c),b=P.createHref(_);try{o.pushState(T,"",b)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(b)}s&&u&&u({action:a,location:P.location,delta:1})}function y(D,C){a=vr.Replace;let _=Kd(P.location,D,C);n&&n(_,D),c=h();let T=uv(_,c),b=P.createHref(_);o.replaceState(T,"",b),s&&u&&u({action:a,location:P.location,delta:0})}function E(D){let C=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof D=="string"?D:Su(D);return Be(C,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,C)}let P={get action(){return a},get location(){return t(i,o)},listen(D){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(lv,p),u=D,()=>{i.removeEventListener(lv,p),u=null}},createHref(D){return e(i,D)},createURL:E,encodeLocation(D){let C=E(D);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:y,go(D){return o.go(D)}};return P}var cv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cv||(cv={}));function OP(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fs(e):e,i=Mp(r.pathname||"/",n);if(i==null)return null;let s=KE(t);jP(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=WP(s[a],XP(i));return o}function KE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Be(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Rr([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),KE(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:GP(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of QE(s.path))i(s,o,u)}),e}function QE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=QE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function jP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FP=/^:\w+$/,UP=3,BP=2,zP=1,$P=10,qP=-2,hv=t=>t==="*";function GP(t,e){let n=t.split("/"),r=n.length;return n.some(hv)&&(r+=qP),e&&(r+=BP),n.filter(i=>!hv(i)).reduce((i,s)=>i+(FP.test(s)?UP:s===""?zP:$P),r)}function HP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WP(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=KP({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!h)return null;Object.assign(r,h.params);let p=a.route;s.push({params:r,pathname:Rr([i,h.pathname]),pathnameBase:eA(Rr([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Rr([i,h.pathnameBase]))}return s}function KP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,p)=>{let{paramName:g,isOptional:y}=h;if(g==="*"){let P=a[p]||"";o=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const E=a[p];return y&&!E?c[g]=void 0:c[g]=JP(E||"",g),c},{}),pathname:s,pathnameBase:o,pattern:t}}function QP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Lp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function XP(t){try{return decodeURI(t)}catch(e){return Lp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function JP(t,e){try{return decodeURIComponent(t)}catch(n){return Lp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Mp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fs(t):t;return{pathname:n?n.startsWith("/")?n:ZP(n,e):e,search:tA(r),hash:nA(i)}}function ZP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Op(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fs(t):(i=ha({},t),Be(!i.pathname||!i.pathname.includes("?"),Rh("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),Rh("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),Rh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let p=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let u=YP(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Rr=t=>t.join("/").replace(/\/\/+/g,"/"),eA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XE=["post","put","patch","delete"];new Set(XE);const iA=["get",...XE];new Set(iA);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}const Fp=R.createContext(null),sA=R.createContext(null),Us=R.createContext(null),cc=R.createContext(null),Qn=R.createContext({outlet:null,matches:[],isDataRoute:!1}),JE=R.createContext(null);function oA(t,e){let{relative:n}=e===void 0?{}:e;Bs()||Be(!1);let{basename:r,navigator:i}=R.useContext(Us),{hash:s,pathname:o,search:a}=eT(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Rr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Bs(){return R.useContext(cc)!=null}function zs(){return Bs()||Be(!1),R.useContext(cc).location}function YE(t){R.useContext(Us).static||R.useLayoutEffect(t)}function Up(){let{isDataRoute:t}=R.useContext(Qn);return t?_A():aA()}function aA(){Bs()||Be(!1);let t=R.useContext(Fp),{basename:e,navigator:n}=R.useContext(Us),{matches:r}=R.useContext(Qn),{pathname:i}=zs(),s=JSON.stringify(Op(r).map(u=>u.pathnameBase)),o=R.useRef(!1);return YE(()=>{o.current=!0}),R.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=jp(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Rr([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}function ZE(){let{matches:t}=R.useContext(Qn),e=t[t.length-1];return e?e.params:{}}function eT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=R.useContext(Qn),{pathname:i}=zs(),s=JSON.stringify(Op(r).map(o=>o.pathnameBase));return R.useMemo(()=>jp(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function lA(t,e){return uA(t,e)}function uA(t,e,n){Bs()||Be(!1);let{navigator:r}=R.useContext(Us),{matches:i}=R.useContext(Qn),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=zs(),c;if(e){var h;let P=typeof e=="string"?Fs(e):e;a==="/"||(h=P.pathname)!=null&&h.startsWith(a)||Be(!1),c=P}else c=u;let p=c.pathname||"/",g=a==="/"?p:p.slice(a.length)||"/",y=OP(t,{pathname:g}),E=pA(y&&y.map(P=>Object.assign({},P,{params:Object.assign({},o,P.params),pathname:Rr([a,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?a:Rr([a,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),i,n);return e&&E?R.createElement(cc.Provider,{value:{location:Iu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:vr.Pop}},E):E}function cA(){let t=vA(),e=rA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,s)}const hA=R.createElement(cA,null);class dA extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?R.createElement(Qn.Provider,{value:this.props.routeContext},R.createElement(JE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fA(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(Fp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Qn.Provider,{value:e},r)}function pA(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));a>=0||Be(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,u,c)=>{let h=u.route.id?o==null?void 0:o[u.route.id]:null,p=null;n&&(p=u.route.errorElement||hA);let g=e.concat(s.slice(0,c+1)),y=()=>{let E;return h?E=p:u.route.Component?E=R.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=a,R.createElement(fA,{match:u,routeContext:{outlet:a,matches:g,isDataRoute:n!=null},children:E})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?R.createElement(dA,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var tT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tT||{}),xu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xu||{});function mA(t){let e=R.useContext(Fp);return e||Be(!1),e}function gA(t){let e=R.useContext(sA);return e||Be(!1),e}function yA(t){let e=R.useContext(Qn);return e||Be(!1),e}function nT(t){let e=yA(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function vA(){var t;let e=R.useContext(JE),n=gA(xu.UseRouteError),r=nT(xu.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function _A(){let{router:t}=mA(tT.UseNavigateStable),e=nT(xu.UseNavigateStable),n=R.useRef(!1);return YE(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Iu({fromRouteId:e},s)))},[t,e])}function Jr(t){let{to:e,replace:n,state:r,relative:i}=t;Bs()||Be(!1);let{matches:s}=R.useContext(Qn),{pathname:o}=zs(),a=Up(),u=jp(e,Op(s).map(h=>h.pathnameBase),o,i==="path"),c=JSON.stringify(u);return R.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function Pn(t){Be(!1)}function wA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vr.Pop,navigator:s,static:o=!1}=t;Bs()&&Be(!1);let a=e.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Fs(r));let{pathname:c="/",search:h="",hash:p="",state:g=null,key:y="default"}=r,E=R.useMemo(()=>{let P=Mp(c,a);return P==null?null:{location:{pathname:P,search:h,hash:p,state:g,key:y},navigationType:i}},[a,c,h,p,g,y,i]);return E==null?null:R.createElement(Us.Provider,{value:u},R.createElement(cc.Provider,{children:n,value:E}))}function EA(t){let{children:e,location:n}=t;return lA(Qd(e),n)}new Promise(()=>{});function Qd(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Qd(r.props.children,s));return}r.type!==Pn&&Be(!1),!r.props.index||!r.props.children||Be(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}function TA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IA(t,e){return t.button===0&&(!e||e==="_self")&&!SA(t)}const xA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],CA="startTransition",dv=Sx[CA];function PA(t){let{basename:e,children:n,future:r,window:i}=t,s=R.useRef();s.current==null&&(s.current=VP({window:i,v5Compat:!0}));let o=s.current,[a,u]=R.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=R.useCallback(p=>{c&&dv?dv(()=>u(p)):u(p)},[u,c]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.createElement(wA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const AA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,unstable_viewTransition:p}=e,g=TA(e,xA),{basename:y}=R.useContext(Us),E,P=!1;if(typeof c=="string"&&RA.test(c)&&(E=c,AA))try{let T=new URL(window.location.href),b=c.startsWith("//")?new URL(T.protocol+c):new URL(c),M=Mp(b.pathname,y);b.origin===T.origin&&M!=null?c=M+b.search+b.hash:P=!0}catch{}let D=oA(c,{relative:i}),C=kA(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:p});function _(T){r&&r(T),T.defaultPrevented||C(T)}return R.createElement("a",Xd({},g,{href:E||D,onClick:P||s?r:_,ref:n,target:u}))});var fv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fv||(fv={}));var pv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pv||(pv={}));function kA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=Up(),c=zs(),h=eT(t,{relative:o});return R.useCallback(p=>{if(IA(p,n)){p.preventDefault();let g=r!==void 0?r:Su(c)===Su(h);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,h,r,i,n,t,s,o,a])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new bA;const g=s<<2|a>>4;if(r.push(g),c!==64){const y=a<<4&240|c>>2;if(r.push(y),p!==64){const E=c<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DA=function(t){const e=rT(t);return iT.encodeByteArray(e,!0)},Cu=function(t){return DA(t).replace(/\./g,"")},sT=function(t){try{return iT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=()=>VA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sT(t[1]);return e&&JSON.parse(e)},hc=()=>{try{return LA()||MA()||OA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oT=t=>{var e,n;return(n=(e=hc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jA=t=>{const e=oT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aT=()=>{var t;return(t=hc())===null||t===void 0?void 0:t.config},lT=t=>{var e;return(e=hc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Cu(JSON.stringify(n)),Cu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function zA(){var t;const e=(t=hc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WA(){return!zA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function QA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="FirebaseError";class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XA,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pa.prototype.create)}}class Pa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?JA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xn(i,a,r)}}function JA(t,e){return t.replace(YA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YA=/\{\$([^}]+)}/g;function ZA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mv(s)&&mv(o)){if(!Pu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Io(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eR(t,e){const n=new tR(t,e);return n.subscribe.bind(n)}class tR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kh),i.error===void 0&&(i.error=kh),i.complete===void 0&&(i.complete=kh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class wi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iR(t){return t===ti?void 0:t}function sR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const aR={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},lR=oe.INFO,uR={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},cR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bp{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const hR=(t,e)=>e.some(n=>t instanceof n);let gv,yv;function dR(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fR(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,Jd=new WeakMap,cT=new WeakMap,Nh=new WeakMap,zp=new WeakMap;function pR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(kr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uT.set(n,t)}).catch(()=>{}),zp.set(e,t),e}function mR(t){if(Jd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jd.set(t,e)}let Yd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gR(t){Yd=t(Yd)}function yR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bh(this),e,...n);return cT.set(r,e.sort?e.sort():[e]),kr(r)}:fR().includes(t)?function(...e){return t.apply(bh(this),e),kr(uT.get(this))}:function(...e){return kr(t.apply(bh(this),e))}}function vR(t){return typeof t=="function"?yR(t):(t instanceof IDBTransaction&&mR(t),hR(t,dR())?new Proxy(t,Yd):t)}function kr(t){if(t instanceof IDBRequest)return pR(t);if(Nh.has(t))return Nh.get(t);const e=vR(t);return e!==t&&(Nh.set(t,e),zp.set(e,t)),e}const bh=t=>zp.get(t);function _R(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=kr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(kr(o.result),u.oldVersion,u.newVersion,kr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const wR=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],Dh=new Map;function vv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dh.get(e))return Dh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ER.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wR.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Dh.set(e,s),s}gR(t=>({...t,get:(e,n,r)=>vv(e,n)||t.get(e,n,r),has:(e,n)=>!!vv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zd="@firebase/app",_v="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new Bp("@firebase/app"),IR="@firebase/app-compat",xR="@firebase/analytics-compat",CR="@firebase/analytics",PR="@firebase/app-check-compat",AR="@firebase/app-check",RR="@firebase/auth",kR="@firebase/auth-compat",NR="@firebase/database",bR="@firebase/data-connect",DR="@firebase/database-compat",VR="@firebase/functions",LR="@firebase/functions-compat",MR="@firebase/installations",OR="@firebase/installations-compat",jR="@firebase/messaging",FR="@firebase/messaging-compat",UR="@firebase/performance",BR="@firebase/performance-compat",zR="@firebase/remote-config",$R="@firebase/remote-config-compat",qR="@firebase/storage",GR="@firebase/storage-compat",HR="@firebase/firestore",WR="@firebase/vertexai-preview",KR="@firebase/firestore-compat",QR="firebase",XR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="[DEFAULT]",JR={[Zd]:"fire-core",[IR]:"fire-core-compat",[CR]:"fire-analytics",[xR]:"fire-analytics-compat",[AR]:"fire-app-check",[PR]:"fire-app-check-compat",[RR]:"fire-auth",[kR]:"fire-auth-compat",[NR]:"fire-rtdb",[bR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[VR]:"fire-fn",[LR]:"fire-fn-compat",[MR]:"fire-iid",[OR]:"fire-iid-compat",[jR]:"fire-fcm",[FR]:"fire-fcm-compat",[UR]:"fire-perf",[BR]:"fire-perf-compat",[zR]:"fire-rc",[$R]:"fire-rc-compat",[qR]:"fire-gcs",[GR]:"fire-gcs-compat",[HR]:"fire-fst",[KR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,YR=new Map,tf=new Map;function wv(t,e){try{t.container.addComponent(e)}catch(n){qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Is(t){const e=t.name;if(tf.has(e))return qn.debug(`There were multiple attempts to register component ${e}.`),!1;tf.set(e,t);for(const n of Au.values())wv(n,t);for(const n of YR.values())wv(n,t);return!0}function $p(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new Pa("app","Firebase",ZR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=XR;function hT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ef,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Nr.create("bad-app-name",{appName:String(i)});if(n||(n=aT()),!n)throw Nr.create("no-options");const s=Au.get(i);if(s){if(Pu(n,s.options)&&Pu(r,s.config))return s;throw Nr.create("duplicate-app",{appName:i})}const o=new oR(i);for(const u of tf.values())o.addComponent(u);const a=new ek(n,r,o);return Au.set(i,a),a}function dT(t=ef){const e=Au.get(t);if(!e&&t===ef&&aT())return hT();if(!e)throw Nr.create("no-app",{appName:t});return e}function br(t,e,n){var r;let i=(r=JR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qn.warn(a.join(" "));return}Is(new wi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="firebase-heartbeat-database",nk=1,da="firebase-heartbeat-store";let Vh=null;function fT(){return Vh||(Vh=_R(tk,nk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(da)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),Vh}async function rk(t){try{const n=(await fT()).transaction(da),r=await n.objectStore(da).get(pT(t));return await n.done,r}catch(e){if(e instanceof Xn)qn.warn(e.message);else{const n=Nr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qn.warn(n.message)}}}async function Ev(t,e){try{const r=(await fT()).transaction(da,"readwrite");await r.objectStore(da).put(e,pT(t)),await r.done}catch(n){if(n instanceof Xn)qn.warn(n.message);else{const r=Nr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qn.warn(r.message)}}}function pT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=1024,sk=30*24*60*60*1e3;class ok{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Tv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=sk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tv(),{heartbeatsToSend:r,unsentEntries:i}=ak(this._heartbeatsCache.heartbeats),s=Cu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return qn.warn(n),""}}}function Tv(){return new Date().toISOString().substring(0,10)}function ak(t,e=ik){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Sv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?QA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sv(t){return Cu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){Is(new wi("platform-logger",e=>new TR(e),"PRIVATE")),Is(new wi("heartbeat",e=>new ok(e),"PRIVATE")),br(Zd,_v,t),br(Zd,_v,"esm2017"),br("fire-js","")}uk("");function qp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ck=mT,gT=new Pa("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new Bp("@firebase/auth");function hk(t,...e){Ru.logLevel<=oe.WARN&&Ru.warn(`Auth (${$s}): ${t}`,...e)}function $l(t,...e){Ru.logLevel<=oe.ERROR&&Ru.error(`Auth (${$s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,...e){throw Gp(t,...e)}function wn(t,...e){return Gp(t,...e)}function yT(t,e,n){const r=Object.assign(Object.assign({},ck()),{[e]:n});return new Pa("auth","Firebase",r).create(e,{appName:t.name})}function On(t){return yT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gT.create(t,...e)}function ee(t,e,...n){if(!t)throw Gp(e,...n)}function bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $l(e),new Error(e)}function Gn(t,e){t||bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dk(){return Iv()==="http:"||Iv()==="https:"}function Iv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dk()||qA()||"connection"in navigator)?navigator.onLine:!0}function pk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gn(n>e,"Short delay should be less than long delay!"),this.isMobile=BA()||GA()}get(){return fk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t,e){Gn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Ra(3e4,6e4);function Gr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jn(t,e,n,r,i={}){return _T(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Aa(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return $A()||(c.referrerPolicy="no-referrer"),vT.fetch()(wT(t,t.config.apiHost,n,a),c)})}async function _T(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mk),e);try{const i=new vk(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw El(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw El(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw El(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw El(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw yT(t,h,c);cn(t,h)}}catch(i){if(i instanceof Xn)throw i;cn(t,"network-request-failed",{message:String(i)})}}async function ka(t,e,n,r,i={}){const s=await Jn(t,e,n,r,i);return"mfaPendingCredential"in s&&cn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function wT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hp(t.config,i):`${t.config.apiScheme}://${i}`}function yk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),gk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function El(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wn(t,e,r);return i.customData._tokenResponse=n,i}function xv(t){return t!==void 0&&t.enterprise!==void 0}class _k{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function wk(t,e){return Jn(t,"GET","/v2/recaptchaConfig",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e){return Jn(t,"POST","/v1/accounts:delete",e)}async function ET(t,e){return Jn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tk(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=Wp(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fo(Lh(i.auth_time)),issuedAtTime:Fo(Lh(i.iat)),expirationTime:Fo(Lh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lh(t){return Number(t)*1e3}function Wp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $l("JWT malformed, contained fewer than 3 sections"),null;try{const i=sT(n);return i?JSON.parse(i):($l("Failed to decode base64 JWT payload"),null)}catch(i){return $l("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Cv(t){const e=Wp(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xn&&Sk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Sk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fo(this.lastLoginAt),this.creationTime=Fo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xs(t,ET(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TT(s.providerUserInfo):[],a=Ck(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rf(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function xk(t){const e=jt(t);await ku(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ck(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TT(t){return t.map(e=>{var{providerId:n}=e,r=qp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(t,e){const n=await _T(t,{},async()=>{const r=Aa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=wT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ak(t,e){return Jn(t,"POST","/v2/accounts:revokeToken",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=Cv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Pk(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hs;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hs,this.toJSON())}_performRefresh(){return bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ik(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xs(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tk(this,e)}reload(){return xk(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ku(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(On(this.auth));const e=await this.getIdToken();return await xs(this,Ek(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:b,isAnonymous:M,providerData:O,stsTokenManager:I}=n;ee(T&&I,e,"internal-error");const v=hs.fromJSON(this.name,I);ee(typeof T=="string",e,"internal-error"),rr(p,e.name),rr(g,e.name),ee(typeof b=="boolean",e,"internal-error"),ee(typeof M=="boolean",e,"internal-error"),rr(y,e.name),rr(E,e.name),rr(P,e.name),rr(D,e.name),rr(C,e.name),rr(_,e.name);const S=new Dn({uid:T,auth:e,email:g,emailVerified:b,displayName:p,isAnonymous:M,photoURL:E,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:C,lastLoginAt:_});return O&&Array.isArray(O)&&(S.providerData=O.map(x=>Object.assign({},x))),D&&(S._redirectEventId=D),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new hs;i.updateFromServerResponse(n);const s=new Dn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ku(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?TT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new hs;a.updateFromIdToken(r);const u=new Dn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;function Vn(t){Gn(t instanceof Function,"Expected a class definition");let e=Pv.get(t);return e?(Gn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Pv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ST.type="NONE";const Av=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t,e,n){return`firebase:${t}:${e}:${n}`}class ds{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ql(this.userKey,i.apiKey,s),this.fullPersistenceKey=ql("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ds(Vn(Av),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Vn(Av);const o=ql(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const p=Dn._fromJSON(e,h);c!==s&&(a=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ds(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ds(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RT(e))return"Blackberry";if(kT(e))return"Webos";if(xT(e))return"Safari";if((e.includes("chrome/")||CT(e))&&!e.includes("edge/"))return"Chrome";if(AT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IT(t=xt()){return/firefox\//i.test(t)}function xT(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CT(t=xt()){return/crios\//i.test(t)}function PT(t=xt()){return/iemobile/i.test(t)}function AT(t=xt()){return/android/i.test(t)}function RT(t=xt()){return/blackberry/i.test(t)}function kT(t=xt()){return/webos/i.test(t)}function Kp(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rk(t=xt()){var e;return Kp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kk(){return HA()&&document.documentMode===10}function NT(t=xt()){return Kp(t)||AT(t)||kT(t)||RT(t)||/windows phone/i.test(t)||PT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e=[]){let n;switch(t){case"Browser":n=Rv(xt());break;case"Worker":n=`${Rv(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e={}){return Jn(t,"GET","/v2/passwordPolicy",Gr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=6;class Vk{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Dk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new Nk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ds.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ET(this,{idToken:e}),r=await Dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ku(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(On(this));const n=e?jt(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(On(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(On(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bk(this),n=new Vk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ak(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vn(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await ds.create(this,[Vn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ai(t){return jt(t)}class kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mk(t){dc=t}function DT(t){return dc.loadJS(t)}function Ok(){return dc.recaptchaEnterpriseScript}function jk(){return dc.gapiScript}function Fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Uk="recaptcha-enterprise",Bk="NO_RECAPTCHA";class zk{constructor(e){this.type=Uk,this.auth=Ai(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{wk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new _k(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;xv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Bk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&xv(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Ok();u.length!==0&&(u+=a),DT(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Nv(t,e,n,r=!1){const i=new zk(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function sf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Nv(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Nv(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){const n=$p(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pu(s,e??{}))return i;cn(i,"already-initialized")}return n.initialize({options:e})}function qk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Gk(t,e,n){const r=Ai(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=VT(e),{host:o,port:a}=Hk(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Wk()}function VT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hk(t){const e=VT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bv(o)}}}function bv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bn("not implemented")}_getIdTokenResponse(e){return bn("not implemented")}_linkToIdToken(e,n){return bn("not implemented")}_getReauthenticationResolver(e){return bn("not implemented")}}async function Kk(t,e){return Jn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(t,e){return ka(t,"POST","/v1/accounts:signInWithPassword",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e){return ka(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}async function Jk(t,e){return ka(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Qp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sf(e,n,"signInWithPassword",Qk);case"emailLink":return Xk(e,{email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sf(e,r,"signUpPassword",Kk);case"emailLink":return Jk(e,{idToken:n,email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(t,e){return ka(t,"POST","/v1/accounts:signInWithIdp",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="http://localhost";class Ei extends Qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=qp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ei(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fs(e,n)}buildRequest(){const e={requestUri:Yk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Aa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eN(t){const e=Io(xo(t)).link,n=e?Io(xo(e)).deep_link_id:null,r=Io(xo(t)).deep_link_id;return(r?Io(xo(r)).link:null)||r||n||e||t}class Xp{constructor(e){var n,r,i,s,o,a;const u=Io(xo(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Zk((i=u.mode)!==null&&i!==void 0?i:null);ee(c&&h&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=eN(e);try{return new Xp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.providerId=qs.PROVIDER_ID}static credential(e,n){return fa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xp.parseLink(n);return ee(r,"argument-error"),fa._fromEmailAndCode(e,r.code,r.tenantId)}}qs.PROVIDER_ID="password";qs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends LT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Na{constructor(){super("facebook.com")}static credential(e){return Ei._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Na{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ei._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Na{constructor(){super("github.com")}static credential(e){return Ei._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Na{constructor(){super("twitter.com")}static credential(e,n){return Ei._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(t,e){return ka(t,"POST","/v1/accounts:signUp",Gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Dn._fromIdTokenResponse(e,r,i),o=Dv(r);return new Ti({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Dv(r);return new Ti({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Dv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Xn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nu(e,n,r,i)}}function MT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nu._fromErrorAndOperation(t,s,e,r):s})}async function nN(t,e,n=!1){const r=await xs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ti._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t,e,n=!1){const{auth:r}=t;if(yn(r.app))return Promise.reject(On(r));const i="reauthenticate";try{const s=await xs(t,MT(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Wp(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),Ti._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&cn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(t,e,n=!1){if(yn(t.app))return Promise.reject(On(t));const r="signIn",i=await MT(t,r,e),s=await Ti._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function iN(t,e){return OT(Ai(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(t){const e=Ai(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sN(t,e,n){if(yn(t.app))return Promise.reject(On(t));const r=Ai(t),o=await sf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&jT(t),u}),a=await Ti._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function oN(t,e,n){return yn(t.app)?Promise.reject(On(t)):iN(jt(t),qs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t,e){return Jn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=jt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await xs(r,aN(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function uN(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function cN(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function hN(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function dN(t){return jt(t).signOut()}const bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bu,"1"),this.storage.removeItem(bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=1e3,pN=10;class UT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);kk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const mN=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BT.type="SESSION";const zT=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await gN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Jp("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function vN(t){En().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function _N(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EN(){return $T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebaseLocalStorageDb",TN=1,Du="firebaseLocalStorage",GT="fbase_key";class ba{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pc(t,e){return t.transaction([Du],e?"readwrite":"readonly").objectStore(Du)}function SN(){const t=indexedDB.deleteDatabase(qT);return new ba(t).toPromise()}function of(){const t=indexedDB.open(qT,TN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Du,{keyPath:GT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Du)?e(r):(r.close(),await SN(),e(await of()))})})}async function Vv(t,e,n){const r=pc(t,!0).put({[GT]:e,value:n});return new ba(r).toPromise()}async function IN(t,e){const n=pc(t,!1).get(e),r=await new ba(n).toPromise();return r===void 0?null:r.value}function Lv(t,e){const n=pc(t,!0).delete(e);return new ba(n).toPromise()}const xN=800,CN=3;class HT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await of(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fc._getInstance(EN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _N(),!this.activeServiceWorker)return;this.sender=new yN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await of();return await Vv(e,bu,"1"),await Lv(e,bu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=pc(i,!1).getAll();return new ba(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HT.type="LOCAL";const PN=HT;new Ra(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t,e){return e?Vn(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RN(t){return OT(t.auth,new Yp(t),t.bypassAuthState)}function kN(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),rN(n,new Yp(t),t.bypassAuthState)}async function NN(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),nN(n,new Yp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RN;case"linkViaPopup":case"linkViaRedirect":return NN;case"reauthViaPopup":case"reauthViaRedirect":return kN;default:cn(this.auth,"internal-error")}}resolve(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new Ra(2e3,1e4);class es extends WT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Gn(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bN.get())};e()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="pendingRedirect",Gl=new Map;class VN extends WT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gl.get(this.auth._key());if(!e){try{const r=await LN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gl.set(this.auth._key(),e)}return this.bypassAuthState||Gl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LN(t,e){const n=jN(e),r=ON(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function MN(t,e){Gl.set(t._key(),e)}function ON(t){return Vn(t._redirectPersistence)}function jN(t){return ql(DN,t.config.apiKey,t.name)}async function FN(t,e,n=!1){if(yn(t.app))return Promise.reject(On(t));const r=Ai(t),i=AN(r,e),o=await new VN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=10*60*1e3;class BN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(e))}saveEventToCache(e){this.cachedEventUids.add(Mv(e)),this.lastProcessedEventTime=Date.now()}}function Mv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e={}){return Jn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GN=/^https?/;async function HN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $N(t);for(const n of e)try{if(WN(n))return}catch{}cn(t,"unauthorized-domain")}function WN(t){const e=nf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GN.test(n))return!1;if(qN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new Ra(3e4,6e4);function Ov(){const t=En().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QN(t){return new Promise((e,n)=>{var r,i,s;function o(){Ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ov(),n(wn(t,"network-request-failed"))},timeout:KN.get()})}if(!((i=(r=En().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=En().gapi)===null||s===void 0)&&s.load)o();else{const a=Fk("iframefcb");return En()[a]=()=>{gapi.load?o():n(wn(t,"network-request-failed"))},DT(`${jk()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Hl=null,e})}let Hl=null;function XN(t){return Hl=Hl||QN(t),Hl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Ra(5e3,15e3),YN="__/auth/iframe",ZN="emulator/auth/iframe",eb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nb(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hp(e,ZN):`https://${t.config.authDomain}/${YN}`,r={apiKey:e.apiKey,appName:t.name,v:$s},i=tb.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Aa(r).slice(1)}`}async function rb(t){const e=await XN(t),n=En().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:nb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eb,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),a=En().setTimeout(()=>{s(o)},JN.get());function u(){En().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sb=500,ob=600,ab="_blank",lb="http://localhost";class jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ub(t,e,n,r=sb,i=ob){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},ib),{width:r.toString(),height:i.toString(),top:s,left:o}),c=xt().toLowerCase();n&&(a=CT(c)?ab:n),IT(c)&&(e=e||lb,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[y,E])=>`${g}${y}=${E},`,"");if(Rk(c)&&a!=="_self")return cb(e||"",a),new jv(null);const p=window.open(e||"",a,h);ee(p,t,"popup-blocked");try{p.focus()}catch{}return new jv(p)}function cb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="__/auth/handler",db="emulator/auth/handler",fb=encodeURIComponent("fac");async function Fv(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$s,eventId:i};if(e instanceof LT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Na){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${fb}=${encodeURIComponent(u)}`:"";return`${pb(t)}?${Aa(a).slice(1)}${c}`}function pb({config:t}){return t.emulator?Hp(t,db):`https://${t.authDomain}/${hb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="webStorageSupport";class mb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zT,this._completeRedirectFn=FN,this._overrideRedirectResult=MN}async _openPopup(e,n,r,i){var s;Gn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Fv(e,n,r,nf(),i);return ub(e,o,Jp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Fv(e,n,r,nf(),i);return vN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rb(e),r=new BN(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mh,{type:Mh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Mh];o!==void 0&&n(!!o),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NT()||xT()||Kp()}}const gb=mb;var Uv="@firebase/auth",Bv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _b(t){Is(new wi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bT(t)},c=new Lk(r,i,s,u);return qk(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Is(new wi("auth-internal",e=>{const n=Ai(e.getProvider("auth").getImmediate());return(r=>new yb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(Uv,Bv,vb(t)),br(Uv,Bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=5*60,Eb=lT("authIdTokenMaxAge")||wb;let zv=null;const Tb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Eb)return;const i=n==null?void 0:n.token;zv!==i&&(zv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QT(t=dT()){const e=$p(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$k(t,{popupRedirectResolver:gb,persistence:[PN,mN,zT]}),r=lT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Tb(s.toString());cN(n,o,()=>o(n.currentUser)),uN(n,a=>o(a))}}const i=oT("auth");return i&&Gk(n,`http://${i}`),n}function Sb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Mk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Sb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_b("Browser");const XT=R.createContext(),Ib=({children:t,value:e})=>f.jsx(XT.Provider,{value:e,children:t});function xb(){return R.useContext(XT)}const JT=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),mc=R.createContext({}),gc=R.createContext(null),yc=typeof document<"u",Zp=yc?R.useLayoutEffect:R.useEffect,YT=R.createContext({strict:!1});function Cb(t,e,n,r){const{visualElement:i}=R.useContext(mc),s=R.useContext(YT),o=R.useContext(gc),a=R.useContext(JT).reducedMotion,u=R.useRef();r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=u.current;R.useInsertionEffect(()=>{c&&c.update(n,o)});const h=R.useRef(!!window.HandoffAppearAnimations);return Zp(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),R.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,h.current=!1)}),c}function ts(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Pb(t,e,n){return R.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ts(n)&&(n.current=r))},[e])}function pa(t){return typeof t=="string"||Array.isArray(t)}function vc(t){return typeof t=="object"&&typeof t.start=="function"}const em=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tm=["initial",...em];function _c(t){return vc(t.animate)||tm.some(e=>pa(t[e]))}function ZT(t){return!!(_c(t)||t.variants)}function Ab(t,e){if(_c(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pa(n)?n:void 0,animate:pa(r)?r:void 0}}return t.inherit!==!1?e:{}}function Rb(t){const{initial:e,animate:n}=Ab(t,R.useContext(mc));return R.useMemo(()=>({initial:e,animate:n}),[$v(e),$v(n)])}function $v(t){return Array.isArray(t)?t.join(" "):t}const qv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ma={};for(const t in qv)ma[t]={isEnabled:e=>qv[t].some(n=>!!e[n])};function kb(t){for(const e in t)ma[e]={...ma[e],...t[e]}}const nm=R.createContext({}),eS=R.createContext({}),Nb=Symbol.for("motionComponentSymbol");function bb({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&kb(t);function s(a,u){let c;const h={...R.useContext(JT),...a,layoutId:Db(a)},{isStatic:p}=h,g=Rb(a),y=r(a,p);if(!p&&yc){g.visualElement=Cb(i,y,h,e);const E=R.useContext(eS),P=R.useContext(YT).strict;g.visualElement&&(c=g.visualElement.loadFeatures(h,P,t,E))}return R.createElement(mc.Provider,{value:g},c&&g.visualElement?R.createElement(c,{visualElement:g.visualElement,...h}):null,n(i,a,Pb(y,g.visualElement,u),y,p,g.visualElement))}const o=R.forwardRef(s);return o[Nb]=i,o}function Db({layoutId:t}){const e=R.useContext(nm).id;return e&&t!==void 0?e+"-"+t:t}function Vb(t){function e(r,i={}){return bb(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Lb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rm(t){return typeof t!="string"||t.includes("-")?!1:!!(Lb.indexOf(t)>-1||/[A-Z]/.test(t))}const Vu={};function Mb(t){Object.assign(Vu,t)}const Da=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ri=new Set(Da);function tS(t,{layout:e,layoutId:n}){return Ri.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vu[t]||t==="opacity")}const Ft=t=>!!(t&&t.getVelocity),Ob={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jb=Da.length;function Fb(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<jb;o++){const a=Da[o];if(t[a]!==void 0){const u=Ob[a]||a;s+=`${u}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const nS=t=>e=>typeof e=="string"&&e.startsWith(t),rS=nS("--"),af=nS("var(--"),Ub=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Bb=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Or=(t,e,n)=>Math.min(Math.max(n,t),e),ki={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Uo={...ki,transform:t=>Or(0,1,t)},Tl={...ki,default:1},Bo=t=>Math.round(t*1e5)/1e5,wc=/(-)?([\d]*\.?[\d])+/g,iS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,zb=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Va(t){return typeof t=="string"}const La=t=>({test:e=>Va(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),or=La("deg"),Tn=La("%"),Z=La("px"),$b=La("vh"),qb=La("vw"),Gv={...Tn,parse:t=>Tn.parse(t)/100,transform:t=>Tn.transform(t*100)},Hv={...ki,transform:Math.round},sS={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,size:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:Tl,scaleX:Tl,scaleY:Tl,scaleZ:Tl,skew:or,skewX:or,skewY:or,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Uo,originX:Gv,originY:Gv,originZ:Z,zIndex:Hv,fillOpacity:Uo,strokeOpacity:Uo,numOctaves:Hv};function im(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let u=!1,c=!1,h=!0;for(const p in e){const g=e[p];if(rS(p)){s[p]=g;continue}const y=sS[p],E=Bb(g,y);if(Ri.has(p)){if(u=!0,o[p]=E,!h)continue;g!==(y.default||0)&&(h=!1)}else p.startsWith("origin")?(c=!0,a[p]=E):i[p]=E}if(e.transform||(u||r?i.transform=Fb(t.transform,n,h,r):i.transform&&(i.transform="none")),c){const{originX:p="50%",originY:g="50%",originZ:y=0}=a;i.transformOrigin=`${p} ${g} ${y}`}}const sm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oS(t,e,n){for(const r in e)!Ft(e[r])&&!tS(r,n)&&(t[r]=e[r])}function Gb({transformTemplate:t},e,n){return R.useMemo(()=>{const r=sm();return im(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Hb(t,e,n){const r=t.style||{},i={};return oS(i,r,t),Object.assign(i,Gb(t,e,n)),t.transformValues?t.transformValues(i):i}function Wb(t,e,n){const r={},i=Hb(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Kb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Lu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Kb.has(t)}let aS=t=>!Lu(t);function Qb(t){t&&(aS=e=>e.startsWith("on")?!Lu(e):t(e))}try{Qb(require("@emotion/is-prop-valid").default)}catch{}function Xb(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(aS(i)||n===!0&&Lu(i)||!e&&!Lu(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Wv(t,e,n){return typeof t=="string"?t:Z.transform(e+n*t)}function Jb(t,e,n){const r=Wv(e,t.x,t.width),i=Wv(n,t.y,t.height);return`${r} ${i}`}const Yb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zb={offset:"strokeDashoffset",array:"strokeDasharray"};function eD(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Yb:Zb;t[s.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[s.array]=`${o} ${a}`}function om(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,p,g){if(im(t,c,h,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:E,dimensions:P}=t;y.transform&&(P&&(E.transform=y.transform),delete y.transform),P&&(i!==void 0||s!==void 0||E.transform)&&(E.transformOrigin=Jb(P,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&eD(y,o,a,u,!1)}const lS=()=>({...sm(),attrs:{}}),am=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tD(t,e,n,r){const i=R.useMemo(()=>{const s=lS();return om(s,e,{enableHardwareAcceleration:!1},am(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};oS(s,t.style,t),i.style={...s,...i.style}}return i}function nD(t=!1){return(n,r,i,{latestValues:s},o)=>{const u=(rm(n)?tD:Wb)(r,s,o,n),h={...Xb(r,typeof n=="string",t),...u,ref:i},{children:p}=r,g=R.useMemo(()=>Ft(p)?p.get():p,[p]);return R.createElement(n,{...h,children:g})}}const lm=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function uS(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const cS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hS(t,e,n,r){uS(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(cS.has(i)?i:lm(i),e.attrs[i])}function um(t,e){const{style:n}=t,r={};for(const i in n)(Ft(n[i])||e.style&&Ft(e.style[i])||tS(i,t))&&(r[i]=n[i]);return r}function dS(t,e){const n=um(t,e);for(const r in t)if(Ft(t[r])||Ft(e[r])){const i=Da.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function cm(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function fS(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Mu=t=>Array.isArray(t),rD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),iD=t=>Mu(t)?t[t.length-1]||0:t;function Wl(t){const e=Ft(t)?t.get():t;return rD(e)?e.toValue():e}function sD({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:oD(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const pS=t=>(e,n)=>{const r=R.useContext(mc),i=R.useContext(gc),s=()=>sD(t,e,r,i);return n?s():fS(s)};function oD(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=Wl(s[g]);let{initial:o,animate:a}=t;const u=_c(t),c=ZT(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const p=h?a:o;return p&&typeof p!="boolean"&&!vc(p)&&(Array.isArray(p)?p:[p]).forEach(y=>{const E=cm(t,y);if(!E)return;const{transitionEnd:P,transition:D,...C}=E;for(const _ in C){let T=C[_];if(Array.isArray(T)){const b=h?T.length-1:0;T=T[b]}T!==null&&(i[_]=T)}for(const _ in P)i[_]=P[_]}),i}const Oe=t=>t;class Kv{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function aD(t){let e=new Kv,n=new Kv,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(u,c=!1,h=!1)=>{const p=h&&i,g=p?e:n;return c&&o.add(u),g.add(u)&&p&&i&&(r=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(u),o.has(h)&&(a.schedule(h),t())}i=!1,s&&(s=!1,a.process(u))}};return a}const Sl=["prepare","read","update","preRender","render","postRender"],lD=40;function uD(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Sl.reduce((p,g)=>(p[g]=aD(()=>n=!0),p),{}),o=p=>s[p].process(i),a=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,lD),1),i.timestamp=p,i.isProcessing=!0,Sl.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},u=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Sl.reduce((p,g)=>{const y=s[g];return p[g]=(E,P=!1,D=!1)=>(n||u(),y.schedule(E,P,D)),p},{}),cancel:p=>Sl.forEach(g=>s[g].cancel(p)),state:i,steps:s}}const{schedule:Ie,cancel:Hn,state:Ze,steps:Oh}=uD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oe,!0),cD={useVisualState:pS({scrapeMotionValuesFromProps:dS,createRenderState:lS,onMount:(t,e,{renderState:n,latestValues:r})=>{Ie.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ie.render(()=>{om(n,r,{enableHardwareAcceleration:!1},am(e.tagName),t.transformTemplate),hS(e,n)})}})},hD={useVisualState:pS({scrapeMotionValuesFromProps:um,createRenderState:sm})};function dD(t,{forwardMotionProps:e=!1},n,r){return{...rm(t)?cD:hD,preloadedFeatures:n,useRender:nD(e),createVisualElement:r,Component:t}}function Ln(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const mS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ec(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const fD=t=>e=>mS(e)&&t(e,Ec(e));function jn(t,e,n,r){return Ln(t,e,fD(n),r)}const pD=(t,e)=>n=>e(t(n)),Dr=(...t)=>t.reduce(pD);function gS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Qv=gS("dragHorizontal"),Xv=gS("dragVertical");function yS(t){let e=!1;if(t==="y")e=Xv();else if(t==="x")e=Qv();else{const n=Qv(),r=Xv();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function vS(){const t=yS(!0);return t?(t(),!1):!0}class Hr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Jv(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||vS())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ie.update(()=>a[r](s,o))};return jn(t.current,n,i,{passive:!t.getProps()[r]})}class mD extends Hr{mount(){this.unmount=Dr(Jv(this.node,!0),Jv(this.node,!1))}unmount(){}}class gD extends Hr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dr(Ln(this.node.current,"focus",()=>this.onFocus()),Ln(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _S=(t,e)=>e?t===e?!0:_S(t,e.parentElement):!1;function jh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ec(n))}class yD extends Hr{constructor(){super(...arguments),this.removeStartListeners=Oe,this.removeEndListeners=Oe,this.removeAccessibleListeners=Oe,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=jn(window,"pointerup",(a,u)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h}=this.node.getProps();Ie.update(()=>{_S(this.node.current,a.target)?c&&c(a,u):h&&h(a,u)})},{passive:!(r.onTap||r.onPointerUp)}),o=jn(window,"pointercancel",(a,u)=>this.cancelPress(a,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Dr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||jh("up",(u,c)=>{const{onTap:h}=this.node.getProps();h&&Ie.update(()=>h(u,c))})};this.removeEndListeners(),this.removeEndListeners=Ln(this.node.current,"keyup",o),jh("down",(a,u)=>{this.startPress(a,u)})},n=Ln(this.node.current,"keydown",e),r=()=>{this.isPressing&&jh("cancel",(s,o)=>this.cancelPress(s,o))},i=Ln(this.node.current,"blur",r);this.removeAccessibleListeners=Dr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ie.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!vS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ie.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=jn(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ln(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Dr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const lf=new WeakMap,Fh=new WeakMap,vD=t=>{const e=lf.get(t.target);e&&e(t)},_D=t=>{t.forEach(vD)};function wD({root:t,...e}){const n=t||document;Fh.has(n)||Fh.set(n,{});const r=Fh.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(_D,{root:t,...e})),r[i]}function ED(t,e,n){const r=wD(e);return lf.set(t,n),r.observe(t),()=>{lf.delete(t),r.unobserve(t)}}const TD={some:0,all:1};class SD extends Hr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:TD[i]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=c?h:p;g&&g(u)};return ED(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ID(e,n))&&this.startObserver()}unmount(){}}function ID({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xD={inView:{Feature:SD},tap:{Feature:yD},focus:{Feature:gD},hover:{Feature:mD}};function wS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function CD(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function PD(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Tc(t,e,n){const r=t.getProps();return cm(r,e,n!==void 0?n:r.custom,CD(t),PD(t))}const AD="framerAppearId",RD="data-"+lm(AD);let kD=Oe,hm=Oe;const Vr=t=>t*1e3,Fn=t=>t/1e3,ND={current:!1},ES=t=>Array.isArray(t)&&typeof t[0]=="number";function TS(t){return!!(!t||typeof t=="string"&&SS[t]||ES(t)||Array.isArray(t)&&t.every(TS))}const Co=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,SS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Co([0,.65,.55,1]),circOut:Co([.55,0,1,.45]),backIn:Co([.31,.01,.66,-.59]),backOut:Co([.33,1.53,.69,.99])};function IS(t){if(t)return ES(t)?Co(t):Array.isArray(t)?t.map(IS):SS[t]}function bD(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:u}={}){const c={[e]:n};u&&(c.offset=u);const h=IS(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function DD(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const xS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,VD=1e-7,LD=12;function MD(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=xS(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>VD&&++a<LD);return o}function Ma(t,e,n,r){if(t===e&&n===r)return Oe;const i=s=>MD(s,0,1,t,n);return s=>s===0||s===1?s:xS(i(s),e,r)}const OD=Ma(.42,0,1,1),jD=Ma(0,0,.58,1),CS=Ma(.42,0,.58,1),FD=t=>Array.isArray(t)&&typeof t[0]!="number",PS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AS=t=>e=>1-t(1-e),RS=t=>1-Math.sin(Math.acos(t)),dm=AS(RS),UD=PS(dm),kS=Ma(.33,1.53,.69,.99),fm=AS(kS),BD=PS(fm),zD=t=>(t*=2)<1?.5*fm(t):.5*(2-Math.pow(2,-10*(t-1))),$D={linear:Oe,easeIn:OD,easeInOut:CS,easeOut:jD,circIn:RS,circInOut:UD,circOut:dm,backIn:fm,backInOut:BD,backOut:kS,anticipate:zD},Yv=t=>{if(Array.isArray(t)){hm(t.length===4);const[e,n,r,i]=t;return Ma(e,n,r,i)}else if(typeof t=="string")return $D[t];return t},pm=(t,e)=>n=>!!(Va(n)&&zb.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),NS=(t,e,n)=>r=>{if(!Va(r))return r;const[i,s,o,a]=r.match(wc);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qD=t=>Or(0,255,t),Uh={...ki,transform:t=>Math.round(qD(t))},li={test:pm("rgb","red"),parse:NS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Uh.transform(t)+", "+Uh.transform(e)+", "+Uh.transform(n)+", "+Bo(Uo.transform(r))+")"};function GD(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const uf={test:pm("#"),parse:GD,transform:li.transform},ns={test:pm("hsl","hue"),parse:NS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Tn.transform(Bo(e))+", "+Tn.transform(Bo(n))+", "+Bo(Uo.transform(r))+")"},At={test:t=>li.test(t)||uf.test(t)||ns.test(t),parse:t=>li.test(t)?li.parse(t):ns.test(t)?ns.parse(t):uf.parse(t),transform:t=>Va(t)?t:t.hasOwnProperty("red")?li.transform(t):ns.transform(t)},be=(t,e,n)=>-n*t+n*e+t;function Bh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;i=Bh(u,a,t+1/3),s=Bh(u,a,t),o=Bh(u,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const zh=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},WD=[uf,li,ns],KD=t=>WD.find(e=>e.test(t));function Zv(t){const e=KD(t);let n=e.parse(t);return e===ns&&(n=HD(n)),n}const bS=(t,e)=>{const n=Zv(t),r=Zv(e),i={...n};return s=>(i.red=zh(n.red,r.red,s),i.green=zh(n.green,r.green,s),i.blue=zh(n.blue,r.blue,s),i.alpha=be(n.alpha,r.alpha,s),li.transform(i))};function QD(t){var e,n;return isNaN(t)&&Va(t)&&(((e=t.match(wc))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(iS))===null||n===void 0?void 0:n.length)||0)>0}const DS={regex:Ub,countKey:"Vars",token:"${v}",parse:Oe},VS={regex:iS,countKey:"Colors",token:"${c}",parse:At.parse},LS={regex:wc,countKey:"Numbers",token:"${n}",parse:ki.parse};function $h(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Ou(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&$h(n,DS),$h(n,VS),$h(n,LS),n}function MS(t){return Ou(t).values}function OS(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Ou(t),s=e.length;return o=>{let a=i;for(let u=0;u<s;u++)u<r?a=a.replace(DS.token,o[u]):u<r+n?a=a.replace(VS.token,At.transform(o[u])):a=a.replace(LS.token,Bo(o[u]));return a}}const XD=t=>typeof t=="number"?0:t;function JD(t){const e=MS(t);return OS(t)(e.map(XD))}const jr={test:QD,parse:MS,createTransformer:OS,getAnimatableNone:JD},jS=(t,e)=>n=>`${n>0?e:t}`;function FS(t,e){return typeof t=="number"?n=>be(t,e,n):At.test(t)?bS(t,e):t.startsWith("var(")?jS(t,e):BS(t,e)}const US=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>FS(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},YD=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=FS(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},BS=(t,e)=>{const n=jr.createTransformer(e),r=Ou(t),i=Ou(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Dr(US(r.values,i.values),n):jS(t,e)},ga=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},e_=(t,e)=>n=>be(t,e,n);function ZD(t){return typeof t=="number"?e_:typeof t=="string"?At.test(t)?bS:BS:Array.isArray(t)?US:typeof t=="object"?YD:e_}function eV(t,e,n){const r=[],i=n||ZD(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Oe:e;a=Dr(u,a)}r.push(a)}return r}function zS(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(hm(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=eV(e,r,i),a=o.length,u=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const p=ga(t[h],t[h+1],c);return o[h](p)};return n?c=>u(Or(t[0],t[s-1],c)):u}function tV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ga(0,e,r);t.push(be(n,1,i))}}function nV(t){const e=[0];return tV(e,t.length-1),e}function rV(t,e){return t.map(n=>n*e)}function iV(t,e){return t.map(()=>e||CS).splice(0,t.length-1)}function ju({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=FD(r)?r.map(Yv):Yv(r),s={done:!1,value:e[0]},o=rV(n&&n.length===e.length?n:nV(e),t),a=zS(o,e,{ease:Array.isArray(i)?i:iV(e,i)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}function $S(t,e){return e?t*(1e3/e):0}const sV=5;function qS(t,e,n){const r=Math.max(e-sV,0);return $S(n-t(r),e-r)}const qh=.001,oV=.01,t_=10,aV=.05,lV=1;function uV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;kD(t<=Vr(t_));let o=1-e;o=Or(aV,lV,o),t=Or(oV,t_,Fn(t)),o<1?(i=c=>{const h=c*o,p=h*t,g=h-n,y=cf(c,o),E=Math.exp(-p);return qh-g/y*E},s=c=>{const p=c*o*t,g=p*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-p),P=cf(Math.pow(c,2),o);return(-i(c)+qh>0?-1:1)*((g-y)*E)/P}):(i=c=>{const h=Math.exp(-c*t),p=(c-n)*t+1;return-qh+h*p},s=c=>{const h=Math.exp(-c*t),p=(n-c)*(t*t);return h*p});const a=5/t,u=hV(i,s,a);if(t=Vr(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const cV=12;function hV(t,e,n){let r=n;for(let i=1;i<cV;i++)r=r-t(r)/e(r);return r}function cf(t,e){return t*Math.sqrt(1-e*e)}const dV=["duration","bounce"],fV=["stiffness","damping","mass"];function n_(t,e){return e.some(n=>t[n]!==void 0)}function pV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!n_(t,fV)&&n_(t,dV)){const n=uV(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function GS({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:u,mass:c,velocity:h,duration:p,isResolvedFromDuration:g}=pV(r),y=h?-Fn(h):0,E=u/(2*Math.sqrt(a*c)),P=s-i,D=Fn(Math.sqrt(a/c)),C=Math.abs(P)<5;n||(n=C?.01:2),e||(e=C?.005:.5);let _;if(E<1){const T=cf(D,E);_=b=>{const M=Math.exp(-E*D*b);return s-M*((y+E*D*P)/T*Math.sin(T*b)+P*Math.cos(T*b))}}else if(E===1)_=T=>s-Math.exp(-D*T)*(P+(y+D*P)*T);else{const T=D*Math.sqrt(E*E-1);_=b=>{const M=Math.exp(-E*D*b),O=Math.min(T*b,300);return s-M*((y+E*D*P)*Math.sinh(O)+T*P*Math.cosh(O))/T}}return{calculatedDuration:g&&p||null,next:T=>{const b=_(T);if(g)o.done=T>=p;else{let M=y;T!==0&&(E<1?M=qS(_,T,b):M=0);const O=Math.abs(M)<=n,I=Math.abs(s-b)<=e;o.done=O&&I}return o.value=o.done?s:b,o}}}function r_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const p=t[0],g={done:!1,value:p},y=v=>a!==void 0&&v<a||u!==void 0&&v>u,E=v=>a===void 0?u:u===void 0||Math.abs(a-v)<Math.abs(u-v)?a:u;let P=n*e;const D=p+P,C=o===void 0?D:o(D);C!==D&&(P=C-p);const _=v=>-P*Math.exp(-v/r),T=v=>C+_(v),b=v=>{const S=_(v),x=T(v);g.done=Math.abs(S)<=c,g.value=g.done?C:x};let M,O;const I=v=>{y(g.value)&&(M=v,O=GS({keyframes:[g.value,E(g.value)],velocity:qS(T,v,g.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return I(0),{calculatedDuration:null,next:v=>{let S=!1;return!O&&M===void 0&&(S=!0,b(v),I(v)),M!==void 0&&v>M?O.next(v-M):(!S&&b(v),g)}}}const mV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ie.update(e,!0),stop:()=>Hn(e),now:()=>Ze.isProcessing?Ze.timestamp:performance.now()}},i_=2e4;function s_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<i_;)e+=n,r=t.next(e);return e>=i_?1/0:e}const gV={decay:r_,inertia:r_,tween:ju,keyframes:ju,spring:GS};function Fu({autoplay:t=!0,delay:e=0,driver:n=mV,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:u,onStop:c,onComplete:h,onUpdate:p,...g}){let y=1,E=!1,P,D;const C=()=>{D=new Promise(X=>{P=X})};C();let _;const T=gV[i]||ju;let b;T!==ju&&typeof r[0]!="number"&&(b=zS([0,100],r,{clamp:!1}),r=[0,100]);const M=T({...g,keyframes:r});let O;a==="mirror"&&(O=T({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let I="idle",v=null,S=null,x=null;M.calculatedDuration===null&&s&&(M.calculatedDuration=s_(M));const{calculatedDuration:k}=M;let N=1/0,A=1/0;k!==null&&(N=k+o,A=N*(s+1)-o);let K=0;const re=X=>{if(S===null)return;y>0&&(S=Math.min(S,X)),y<0&&(S=Math.min(X-A/y,S)),v!==null?K=v:K=Math.round(X-S)*y;const ie=K-e*(y>=0?1:-1),ge=y>=0?ie<0:ie>A;K=Math.max(ie,0),I==="finished"&&v===null&&(K=A);let Xe=K,Je=M;if(s){const q=K/N;let B=Math.floor(q),ae=q%1;!ae&&q>=1&&(ae=1),ae===1&&B--,B=Math.min(B,s+1);const ft=!!(B%2);ft&&(a==="reverse"?(ae=1-ae,o&&(ae-=o/N)):a==="mirror"&&(Je=O));let Di=Or(0,1,ae);K>A&&(Di=a==="reverse"&&ft?1:0),Xe=Di*N}const $e=ge?{done:!1,value:r[0]}:Je.next(Xe);b&&($e.value=b($e.value));let{done:Te}=$e;!ge&&k!==null&&(Te=y>=0?K>=A:K<=0);const it=v===null&&(I==="finished"||I==="running"&&Te);return p&&p($e.value),it&&z(),$e},dt=()=>{_&&_.stop(),_=void 0},Ee=()=>{I="idle",dt(),P(),C(),S=x=null},z=()=>{I="finished",h&&h(),dt(),P()},Q=()=>{if(E)return;_||(_=n(re));const X=_.now();u&&u(),v!==null?S=X-v:(!S||I==="finished")&&(S=X),I==="finished"&&C(),x=S,v=null,I="running",_.start()};t&&Q();const Y={then(X,ie){return D.then(X,ie)},get time(){return Fn(K)},set time(X){X=Vr(X),K=X,v!==null||!_||y===0?v=X:S=_.now()-X/y},get duration(){const X=M.calculatedDuration===null?s_(M):M.calculatedDuration;return Fn(X)},get speed(){return y},set speed(X){X===y||!_||(y=X,Y.time=Fn(K))},get state(){return I},play:Q,pause:()=>{I="paused",v=K},stop:()=>{E=!0,I!=="idle"&&(I="idle",c&&c(),Ee())},cancel:()=>{x!==null&&re(x),Ee()},complete:()=>{I="finished"},sample:X=>(S=0,re(X))};return Y}function yV(t){let e;return()=>(e===void 0&&(e=t()),e)}const vV=yV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_V=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Il=10,wV=2e4,EV=(t,e)=>e.type==="spring"||t==="backgroundColor"||!TS(e.ease);function TV(t,e,{onUpdate:n,onComplete:r,...i}){if(!(vV()&&_V.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,u;const c=()=>{u=new Promise(_=>{a=_})};c();let{keyframes:h,duration:p=300,ease:g,times:y}=i;if(EV(e,i)){const _=Fu({...i,repeat:0,delay:0});let T={done:!1,value:h[0]};const b=[];let M=0;for(;!T.done&&M<wV;)T=_.sample(M),b.push(T.value),M+=Il;y=void 0,h=b,p=M-Il,g="linear"}const E=bD(t.owner.current,e,h,{...i,duration:p,ease:g,times:y});i.syncStart&&(E.startTime=Ze.isProcessing?Ze.timestamp:document.timeline?document.timeline.currentTime:performance.now());const P=()=>E.cancel(),D=()=>{Ie.update(P),a(),c()};return E.onfinish=()=>{t.set(DD(h,i)),r&&r(),D()},{then(_,T){return u.then(_,T)},attachTimeline(_){return E.timeline=_,E.onfinish=null,Oe},get time(){return Fn(E.currentTime||0)},set time(_){E.currentTime=Vr(_)},get speed(){return E.playbackRate},set speed(_){E.playbackRate=_},get duration(){return Fn(p)},play:()=>{o||(E.play(),Hn(P))},pause:()=>E.pause(),stop:()=>{if(o=!0,E.playState==="idle")return;const{currentTime:_}=E;if(_){const T=Fu({...i,autoplay:!1});t.setWithVelocity(T.sample(_-Il).value,T.sample(_).value,Il)}D()},complete:()=>E.finish(),cancel:D}}function SV({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Oe,pause:Oe,stop:Oe,then:s=>(s(),Promise.resolve()),cancel:Oe,complete:Oe});return e?Fu({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const IV={type:"spring",stiffness:500,damping:25,restSpeed:10},xV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CV={type:"keyframes",duration:.8},PV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AV=(t,{keyframes:e})=>e.length>2?CV:Ri.has(t)?t.startsWith("scale")?xV(e[1]):IV:PV,hf=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(jr.test(e)||e==="0")&&!e.startsWith("url(")),RV=new Set(["brightness","contrast","saturate","opacity"]);function kV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wc)||[];if(!r)return t;const i=n.replace(r,"");let s=RV.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const NV=/([a-z-]*)\(.*?\)/g,df={...jr,getAnimatableNone:t=>{const e=t.match(NV);return e?e.map(kV).join(" "):t}},bV={...sS,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:df,WebkitFilter:df},mm=t=>bV[t];function HS(t,e){let n=mm(t);return n!==df&&(n=jr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WS=t=>/^0[^.\s]+$/.test(t);function DV(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||WS(t)}function VV(t,e,n,r){const i=hf(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const u=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),DV(s[c])&&u.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&u.length&&a)for(let c=0;c<u.length;c++){const h=u[c];s[h]=HS(e,a)}return s}function LV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}function KS(t,e){return t[e]||t.default||t}const gm=(t,e,n,r={})=>i=>{const s=KS(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Vr(o);const u=VV(e,t,n,s),c=u[0],h=u[u.length-1],p=hf(t,c),g=hf(t,h);let y={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:E=>{e.set(E),s.onUpdate&&s.onUpdate(E)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(LV(s)||(y={...y,...AV(t,y)}),y.duration&&(y.duration=Vr(y.duration)),y.repeatDelay&&(y.repeatDelay=Vr(y.repeatDelay)),!p||!g||ND.current||s.type===!1)return SV(y);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const E=TV(e,t,y);if(E)return E}return Fu(y)};function Uu(t){return!!(Ft(t)&&t.add)}const QS=t=>/^\-?\d*\.?\d+$/.test(t);function ym(t,e){t.indexOf(e)===-1&&t.push(e)}function vm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _m{constructor(){this.subscriptions=[]}add(e){return ym(this.subscriptions,e),()=>vm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MV=t=>!isNaN(parseFloat(t));class OV{constructor(e,n={}){this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Ze;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ie.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ie.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=MV(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _m);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$S(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cs(t,e){return new OV(t,e)}const XS=t=>e=>e.test(t),jV={test:t=>t==="auto",parse:t=>t},JS=[ki,Z,Tn,or,qb,$b,jV],yo=t=>JS.find(XS(t)),FV=[...JS,At,jr],UV=t=>FV.find(XS(t));function BV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cs(n))}function zV(t,e){const n=Tc(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=iD(s[o]);BV(t,o,a)}}function $V(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const u=s[a],c=e[u];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(i=(r=n[u])!==null&&r!==void 0?r:t.readValue(u))!==null&&i!==void 0?i:e[u]),h!=null&&(typeof h=="string"&&(QS(h)||WS(h))?h=parseFloat(h):!UV(h)&&jr.test(c)&&(h=HS(u,c)),t.addValue(u,Cs(h,{owner:t})),n[u]===void 0&&(n[u]=h),h!==null&&t.setBaseTarget(u,h))}}function qV(t,e){return e?(e[t]||e.default||e).from:void 0}function GV(t,e,n){const r={};for(const i in t){const s=qV(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function HV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function YS(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(s=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in a){const g=t.getValue(p),y=a[p];if(!g||y===void 0||h&&HV(h,p))continue;const E={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!g.hasAnimated){const D=t.getProps()[RD];D&&(E.elapsed=window.HandoffAppearAnimations(D,p,g,Ie),E.syncStart=!0)}g.start(gm(p,g,y,t.shouldReduceMotion&&Ri.has(p)?{type:!1}:E));const P=g.animation;Uu(u)&&(u.add(p),P.then(()=>u.remove(p))),c.push(P)}return o&&Promise.all(c).then(()=>{o&&zV(t,o)}),c}function ff(t,e,n={}){const r=Tc(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(YS(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:p}=i;return WV(t,e,c+u,h,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function WV(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,u=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(KV).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(ff(c,e,{...s,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function KV(t,e){return t.sortNodePosition(e)}function QV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ff(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ff(t,e,n);else{const i=typeof e=="function"?Tc(t,e,n.custom):e;r=Promise.all(YS(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const XV=[...em].reverse(),JV=em.length;function YV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>QV(t,n,r)))}function ZV(t){let e=YV(t);const n=tL();let r=!0;const i=(u,c)=>{const h=Tc(t,c);if(h){const{transition:p,transitionEnd:g,...y}=h;u={...u,...y,...g}}return u};function s(u){e=u(t)}function o(u,c){const h=t.getProps(),p=t.getVariantContext(!0)||{},g=[],y=new Set;let E={},P=1/0;for(let C=0;C<JV;C++){const _=XV[C],T=n[_],b=h[_]!==void 0?h[_]:p[_],M=pa(b),O=_===c?T.isActive:null;O===!1&&(P=C);let I=b===p[_]&&b!==h[_]&&M;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),T.protectedKeys={...E},!T.isActive&&O===null||!b&&!T.prevProp||vc(b)||typeof b=="boolean")continue;const v=eL(T.prevProp,b);let S=v||_===c&&T.isActive&&!I&&M||C>P&&M;const x=Array.isArray(b)?b:[b];let k=x.reduce(i,{});O===!1&&(k={});const{prevResolvedValues:N={}}=T,A={...N,...k},K=re=>{S=!0,y.delete(re),T.needsAnimating[re]=!0};for(const re in A){const dt=k[re],Ee=N[re];E.hasOwnProperty(re)||(dt!==Ee?Mu(dt)&&Mu(Ee)?!wS(dt,Ee)||v?K(re):T.protectedKeys[re]=!0:dt!==void 0?K(re):y.add(re):dt!==void 0&&y.has(re)?K(re):T.protectedKeys[re]=!0)}T.prevProp=b,T.prevResolvedValues=k,T.isActive&&(E={...E,...k}),r&&t.blockInitialAnimation&&(S=!1),S&&!I&&g.push(...x.map(re=>({animation:re,options:{type:_,...u}})))}if(y.size){const C={};y.forEach(_=>{const T=t.getBaseTarget(_);T!==void 0&&(C[_]=T)}),g.push({animation:C})}let D=!!g.length;return r&&h.initial===!1&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(g):Promise.resolve()}function a(u,c,h){var p;if(n[u].isActive===c)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(y=>{var E;return(E=y.animationState)===null||E===void 0?void 0:E.setActive(u,c)}),n[u].isActive=c;const g=o(h,u);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function eL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wS(e,t):!1}function Yr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tL(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class nL extends Hr{constructor(e){super(e),e.animationState||(e.animationState=ZV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),vc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let rL=0;class iL extends Hr{constructor(){super(...arguments),this.id=rL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const sL={animation:{Feature:nL},exit:{Feature:iL}},o_=(t,e)=>Math.abs(t-e);function oL(t,e){const n=o_(t.x,e.x),r=o_(t.y,e.y);return Math.sqrt(n**2+r**2)}class ZS{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Hh(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=oL(c.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=c,{timestamp:y}=Ze;this.history.push({...g,timestamp:y});const{onStart:E,onMove:P}=this.handlers;h||(E&&E(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,c)},this.handlePointerMove=(c,h)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Gh(h,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(c,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:p,onSessionEnd:g}=this.handlers,y=Hh(c.type==="pointercancel"?this.lastMoveEventInfo:Gh(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(c,y),g&&g(c,y)},!mS(e))return;this.handlers=n,this.transformPagePoint=r;const i=Ec(e),s=Gh(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Ze;this.history=[{...o,timestamp:a}];const{onSessionStart:u}=n;u&&u(e,Hh(s,this.history)),this.removeListeners=Dr(jn(window,"pointermove",this.handlePointerMove),jn(window,"pointerup",this.handlePointerUp),jn(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hn(this.updatePoint)}}function Gh(t,e){return e?{point:e(t.point)}:t}function a_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hh({point:t},e){return{point:t,delta:a_(t,e1(e)),offset:a_(t,aL(e)),velocity:lL(e,.1)}}function aL(t){return t[0]}function e1(t){return t[t.length-1]}function lL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=e1(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Vr(e)));)n--;if(!r)return{x:0,y:0};const s=Fn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Gt(t){return t.max-t.min}function pf(t,e=0,n=.01){return Math.abs(t-e)<=n}function l_(t,e,n,r=.5){t.origin=r,t.originPoint=be(e.min,e.max,t.origin),t.scale=Gt(n)/Gt(e),(pf(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=be(n.min,n.max,t.origin)-t.originPoint,(pf(t.translate)||isNaN(t.translate))&&(t.translate=0)}function zo(t,e,n,r){l_(t.x,e.x,n.x,r?r.originX:void 0),l_(t.y,e.y,n.y,r?r.originY:void 0)}function u_(t,e,n){t.min=n.min+e.min,t.max=t.min+Gt(e)}function uL(t,e,n){u_(t.x,e.x,n.x),u_(t.y,e.y,n.y)}function c_(t,e,n){t.min=e.min-n.min,t.max=t.min+Gt(e)}function $o(t,e,n){c_(t.x,e.x,n.x),c_(t.y,e.y,n.y)}function cL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?be(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?be(n,t,r.max):Math.min(t,n)),t}function h_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hL(t,{top:e,left:n,bottom:r,right:i}){return{x:h_(t.x,n,i),y:h_(t.y,e,r)}}function d_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dL(t,e){return{x:d_(t.x,e.x),y:d_(t.y,e.y)}}function fL(t,e){let n=.5;const r=Gt(t),i=Gt(e);return i>r?n=ga(e.min,e.max-r,t.min):r>i&&(n=ga(t.min,t.max-i,e.min)),Or(0,1,n)}function pL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mf=.35;function mL(t=mf){return t===!1?t=0:t===!0&&(t=mf),{x:f_(t,"left","right"),y:f_(t,"top","bottom")}}function f_(t,e,n){return{min:p_(t,e),max:p_(t,n)}}function p_(t,e){return typeof t=="number"?t:t[e]||0}const m_=()=>({translate:0,scale:1,origin:0,originPoint:0}),rs=()=>({x:m_(),y:m_()}),g_=()=>({min:0,max:0}),Ge=()=>({x:g_(),y:g_()});function pn(t){return[t("x"),t("y")]}function t1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function gL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wh(t){return t===void 0||t===1}function gf({scale:t,scaleX:e,scaleY:n}){return!Wh(t)||!Wh(e)||!Wh(n)}function ni(t){return gf(t)||n1(t)||t.z||t.rotate||t.rotateX||t.rotateY}function n1(t){return y_(t.x)||y_(t.y)}function y_(t){return t&&t!=="0%"}function Bu(t,e,n){const r=t-n,i=e*r;return n+i}function v_(t,e,n,r,i){return i!==void 0&&(t=Bu(t,i,r)),Bu(t,n,r)+e}function yf(t,e=0,n=1,r,i){t.min=v_(t.min,e,n,r,i),t.max=v_(t.max,e,n,r,i)}function r1(t,{x:e,y:n}){yf(t.x,e.translate,e.scale,e.originPoint),yf(t.y,n.translate,n.scale,n.originPoint)}function vL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const u=s.instance;u&&u.style&&u.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&is(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,r1(t,o)),r&&ni(s.latestValues)&&is(t,s.latestValues))}e.x=__(e.x),e.y=__(e.y)}function __(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ur(t,e){t.min=t.min+e,t.max=t.max+e}function w_(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=be(t.min,t.max,s);yf(t,e[n],e[r],o,e.scale)}const _L=["x","scaleX","originX"],wL=["y","scaleY","originY"];function is(t,e){w_(t.x,e,_L),w_(t.y,e,wL)}function i1(t,e){return t1(yL(t.getBoundingClientRect(),e))}function EL(t,e,n){const r=i1(t,n),{scroll:i}=e;return i&&(ur(r.x,i.offset.x),ur(r.y,i.offset.y)),r}const TL=new WeakMap;class SL{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{this.stopAnimation(),n&&this.snapToCursor(Ec(u,"page").point)},s=(u,c)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yS(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pn(E=>{let P=this.getAxisMotionValue(E).get()||0;if(Tn.test(P)){const{projection:D}=this.visualElement;if(D&&D.layout){const C=D.layout.layoutBox[E];C&&(P=Gt(C)*(parseFloat(P)/100))}}this.originPoint[E]=P}),g&&Ie.update(()=>g(u,c),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,c)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:E}=c;if(p&&this.currentDirection===null){this.currentDirection=IL(E),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",c.point,E),this.updateAxis("y",c.point,E),this.visualElement.render(),y&&y(u,c)},a=(u,c)=>this.stop(u,c);this.panSession=new ZS(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ie.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=cL(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&ts(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=hL(r.layoutBox,e):this.constraints=!1,this.elastic=mL(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=pL(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ts(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=EL(r,i.root,this.visualElement.getTransformPagePoint());let o=dL(i.layout.layoutBox,s);if(n){const a=n(gL(o));this.hasMutatedConstraints=!!a,a&&(o=t1(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=pn(h=>{if(!xl(h,n,this.currentDirection))return;let p=u&&u[h]||{};o&&(p={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,E={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(gm(e,r,0,n))}stopAnimation(){pn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){pn(n=>{const{drag:r}=this.getProps();if(!xl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-be(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ts(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};pn(o=>{const a=this.getAxisMotionValue(o);if(a){const u=a.get();i[o]=fL({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pn(o=>{if(!xl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(be(u,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;TL.set(this.visualElement,this);const e=this.visualElement.current,n=jn(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();ts(u)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Ln(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(pn(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=u[h].translate,p.set(p.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=mf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function xl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function IL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xL extends Hr{constructor(e){super(e),this.removeGroupControls=Oe,this.removeListeners=Oe,this.controls=new SL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oe}unmount(){this.removeGroupControls(),this.removeListeners()}}const E_=t=>(e,n)=>{t&&Ie.update(()=>t(e,n))};class CL extends Hr{constructor(){super(...arguments),this.removePointerDownListener=Oe}onPointerDown(e){this.session=new ZS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:E_(e),onStart:E_(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ie.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=jn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function PL(){const t=R.useContext(gc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=R.useId();return R.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Kl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function T_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=T_(t,e.target.x),r=T_(t,e.target.y);return`${n}% ${r}%`}},AL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=jr.parse(t);if(i.length>5)return r;const s=jr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=u;const c=be(a,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class RL extends Ku.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Mb(kL),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ie.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function s1(t){const[e,n]=PL(),r=R.useContext(nm);return Ku.createElement(RL,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(eS),isPresent:e,safeToRemove:n})}const kL={borderRadius:{...vo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vo,borderTopRightRadius:vo,borderBottomLeftRadius:vo,borderBottomRightRadius:vo,boxShadow:AL},o1=["TopLeft","TopRight","BottomLeft","BottomRight"],NL=o1.length,S_=t=>typeof t=="string"?parseFloat(t):t,I_=t=>typeof t=="number"||Z.test(t);function bL(t,e,n,r,i,s){i?(t.opacity=be(0,n.opacity!==void 0?n.opacity:1,DL(r)),t.opacityExit=be(e.opacity!==void 0?e.opacity:1,0,VL(r))):s&&(t.opacity=be(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<NL;o++){const a=`border${o1[o]}Radius`;let u=x_(e,a),c=x_(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||I_(u)===I_(c)?(t[a]=Math.max(be(S_(u),S_(c),r),0),(Tn.test(c)||Tn.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=be(e.rotate||0,n.rotate||0,r))}function x_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DL=a1(0,.5,dm),VL=a1(.5,.95,Oe);function a1(t,e,n){return r=>r<t?0:r>e?1:n(ga(t,e,r))}function C_(t,e){t.min=e.min,t.max=e.max}function Kt(t,e){C_(t.x,e.x),C_(t.y,e.y)}function P_(t,e,n,r,i){return t-=e,t=Bu(t,1/n,r),i!==void 0&&(t=Bu(t,1/i,r)),t}function LL(t,e=0,n=1,r=.5,i,s=t,o=t){if(Tn.test(e)&&(e=parseFloat(e),e=be(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=be(s.min,s.max,r);t===s&&(a-=e),t.min=P_(t.min,e,n,a,i),t.max=P_(t.max,e,n,a,i)}function A_(t,e,[n,r,i],s,o){LL(t,e[n],e[r],e[i],e.scale,s,o)}const ML=["x","scaleX","originX"],OL=["y","scaleY","originY"];function R_(t,e,n,r){A_(t.x,e,ML,n?n.x:void 0,r?r.x:void 0),A_(t.y,e,OL,n?n.y:void 0,r?r.y:void 0)}function k_(t){return t.translate===0&&t.scale===1}function l1(t){return k_(t.x)&&k_(t.y)}function jL(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function u1(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function N_(t){return Gt(t.x)/Gt(t.y)}class FL{constructor(){this.members=[]}add(e){ym(this.members,e),e.scheduleRender()}remove(e){if(vm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function b_(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:c,rotateY:h}=n;u&&(r+=`rotate(${u}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const UL=(t,e)=>t.depth-e.depth;class BL{constructor(){this.children=[],this.isDirty=!1}add(e){ym(this.children,e),this.isDirty=!0}remove(e){vm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UL),this.isDirty=!1,this.children.forEach(e)}}function zL(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Hn(r),t(s-e))};return Ie.read(r,!0),()=>Hn(r)}function $L(t){window.MotionDebug&&window.MotionDebug.record(t)}function qL(t){return t instanceof SVGElement&&t.tagName!=="svg"}function GL(t,e,n){const r=Ft(t)?t:Cs(t);return r.start(gm("",r,e,n)),r.animation}const D_=["","X","Y","Z"],V_=1e3;let HL=0;const ri={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function c1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=HL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ri.totalNodes=ri.resolvedTargetDeltas=ri.recalculatedProjection=0,this.nodes.forEach(QL),this.nodes.forEach(eM),this.nodes.forEach(tM),this.nodes.forEach(XL),$L(ri)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new BL)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _m),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qL(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=zL(g,250),Kl.hasAnimatedSinceResize&&(Kl.hasAnimatedSinceResize=!1,this.nodes.forEach(M_))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:y,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||h.getDefaultTransition()||oM,{onLayoutAnimationStart:D,onLayoutAnimationComplete:C}=h.getProps(),_=!this.targetLayout||!u1(this.targetLayout,E)||y,T=!g&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||g&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,T);const b={...KS(P,"layout"),onPlay:D,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else g||M_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nM),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(L_);return}this.isUpdating||this.nodes.forEach(YL),this.isUpdating=!1,this.nodes.forEach(ZL),this.nodes.forEach(WL),this.nodes.forEach(KL),this.clearAllSnapshots();const a=performance.now();Ze.delta=Or(0,1e3/60,a-Ze.timestamp),Ze.timestamp=a,Ze.isProcessing=!0,Oh.update.process(Ze),Oh.preRender.process(Ze),Oh.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(JL),this.sharedNodes.forEach(rM)}scheduleUpdateProjection(){Ie.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!l1(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||ni(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),aM(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ge();const a=o.measureViewportBox(),{scroll:u}=this.root;return u&&(ur(a.x,u.offset.x),ur(a.y,u.offset.y)),a}removeElementScroll(o){const a=Ge();Kt(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:p}=c;if(c!==this.root&&h&&p.layoutScroll){if(h.isRoot){Kt(a,o);const{scroll:g}=this.root;g&&(ur(a.x,-g.offset.x),ur(a.y,-g.offset.y))}ur(a.x,h.offset.x),ur(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const u=Ge();Kt(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&is(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ni(h.latestValues)&&is(u,h.latestValues)}return ni(this.latestValues)&&is(u,this.latestValues),u}removeTransform(o){const a=Ge();Kt(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!ni(c.latestValues))continue;gf(c.latestValues)&&c.updateSnapshot();const h=Ge(),p=c.measurePageBox();Kt(h,p),R_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ni(this.latestValues)&&R_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Ze.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),$o(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kt(this.target,this.layout.layoutBox),r1(this.target,this.targetDelta)):Kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),$o(this.relativeTargetOrigin,this.target,y.target),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ri.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gf(this.parent.latestValues)||n1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(c=!1),c)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Kt(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;vL(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:E}=a;if(!E){this.projectionTransform&&(this.projectionDelta=rs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=rs(),this.projectionDeltaWithTransform=rs());const P=this.projectionTransform;zo(this.projectionDelta,this.layoutCorrected,E,this.latestValues),this.projectionTransform=b_(this.projectionDelta,this.treeScale),(this.projectionTransform!==P||this.treeScale.x!==g||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),ri.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},p=rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Ge(),y=u?u.source:void 0,E=this.layout?this.layout.source:void 0,P=y!==E,D=this.getStack(),C=!D||D.members.length<=1,_=!!(P&&!C&&this.options.crossfade===!0&&!this.path.some(sM));this.animationProgress=0;let T;this.mixTargetDelta=b=>{const M=b/1e3;O_(p.x,o.x,M),O_(p.y,o.y,M),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($o(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iM(this.relativeTarget,this.relativeTargetOrigin,g,M),T&&jL(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ge()),Kt(T,this.relativeTarget)),P&&(this.animationValues=h,bL(h,c,this.latestValues,M,_,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Kl.hasAnimatedSinceResize=!0,this.currentAnimation=GL(0,V_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&h1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Ge();const p=Gt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const g=Gt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}Kt(a,u),is(a,h),zo(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new FL),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<D_.length;h++){const p="rotate"+D_[h];u[p]&&(c[p]=u[p],o.setStaticValue(p,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o={}){var a,u;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Wl(o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Wl(o.pointerEvents)||""),this.hasProjected&&!ni(this.latestValues)&&(P.transform=h?h({},""):"none",this.hasProjected=!1),P}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),c.transform=b_(this.projectionDeltaWithTransform,this.treeScale,g),h&&(c.transform=h(g,c.transform));const{x:y,y:E}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${E.origin*100}% 0`,p.animationValues?c.opacity=p===this?(u=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const P in Vu){if(g[P]===void 0)continue;const{correct:D,applyTo:C}=Vu[P],_=c.transform==="none"?g[P]:D(g[P],p);if(C){const T=C.length;for(let b=0;b<T;b++)c[C[b]]=_}else c[P]=_}return this.options.layoutId&&(c.pointerEvents=p===this?Wl(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(L_),this.root.sharedNodes.clear()}}}function WL(t){t.updateLayout()}function KL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?pn(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],y=Gt(g);g.min=r[p].min,g.max=g.min+y}):h1(s,n.layoutBox,r)&&pn(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],y=Gt(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const a=rs();zo(a,r,n.layoutBox);const u=rs();o?zo(u,t.applyTransform(i,!0),n.measuredBox):zo(u,r,n.layoutBox);const c=!l1(a);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const E=Ge();$o(E,n.layoutBox,g.layoutBox);const P=Ge();$o(P,r,y.layoutBox),u1(E,P)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=E,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function QL(t){ri.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function XL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function JL(t){t.clearSnapshot()}function L_(t){t.clearMeasurements()}function YL(t){t.isLayoutDirty=!1}function ZL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function M_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function eM(t){t.resolveTargetDelta()}function tM(t){t.calcProjection()}function nM(t){t.resetRotation()}function rM(t){t.removeLeadSnapshot()}function O_(t,e,n){t.translate=be(e.translate,0,n),t.scale=be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function j_(t,e,n,r){t.min=be(e.min,n.min,r),t.max=be(e.max,n.max,r)}function iM(t,e,n,r){j_(t.x,e.x,n.x,r),j_(t.y,e.y,n.y,r)}function sM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oM={duration:.45,ease:[.4,0,.1,1]},F_=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),U_=F_("applewebkit/")&&!F_("chrome/")?Math.round:Oe;function B_(t){t.min=U_(t.min),t.max=U_(t.max)}function aM(t){B_(t.x),B_(t.y)}function h1(t,e,n){return t==="position"||t==="preserve-aspect"&&!pf(N_(e),N_(n),.2)}const lM=c1({attachResizeListener:(t,e)=>Ln(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kh={current:void 0},d1=c1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kh.current){const t=new lM({});t.mount(window),t.setOptions({layoutScroll:!0}),Kh.current=t}return Kh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),uM={pan:{Feature:CL},drag:{Feature:xL,ProjectionNode:d1,MeasureLayout:s1}},cM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function hM(t){const e=cM.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function vf(t,e,n=1){const[r,i]=hM(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return QS(o)?parseFloat(o):o}else return af(i)?vf(i,e,n+1):i}function dM(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!af(s))return;const o=vf(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!af(s))continue;const o=vf(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const fM=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),f1=t=>fM.has(t),pM=t=>Object.keys(t).some(f1),z_=t=>t===ki||t===Z,$_=(t,e)=>parseFloat(t.split(", ")[e]),q_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return $_(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?$_(s[1],t):0}},mM=new Set(["x","y","z"]),gM=Da.filter(t=>!mM.has(t));function yM(t){const e=[];return gM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ps={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:q_(4,13),y:q_(5,14)};Ps.translateX=Ps.x;Ps.translateY=Ps.y;const vM=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Ps[c](r,s)}),e.render();const u=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=Ps[c](u,s)}),t},_M=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(f1);let s=[],o=!1;const a=[];if(i.forEach(u=>{const c=t.getValue(u);if(!t.hasValue(u))return;let h=n[u],p=yo(h);const g=e[u];let y;if(Mu(g)){const E=g.length,P=g[0]===null?1:0;h=g[P],p=yo(h);for(let D=P;D<E&&g[D]!==null;D++)y?hm(yo(g[D])===y):y=yo(g[D])}else y=yo(g);if(p!==y)if(z_(p)&&z_(y)){const E=c.get();typeof E=="string"&&c.set(parseFloat(E)),typeof g=="string"?e[u]=parseFloat(g):Array.isArray(g)&&y===Z&&(e[u]=g.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(h===0||g===0)?h===0?c.set(y.transform(h)):e[u]=p.transform(g):(o||(s=yM(t),o=!0),a.push(u),r[u]=r[u]!==void 0?r[u]:e[u],c.jump(g))}),a.length){const u=a.indexOf("height")>=0?window.pageYOffset:null,c=vM(e,t,a);return s.length&&s.forEach(([h,p])=>{t.getValue(h).set(p)}),t.render(),yc&&u!==null&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function wM(t,e,n,r){return pM(e)?_M(t,e,n,r):{target:e,transitionEnd:r}}const EM=(t,e,n,r)=>{const i=dM(t,e,r);return e=i.target,r=i.transitionEnd,wM(t,e,n,r)},_f={current:null},p1={current:!1};function TM(){if(p1.current=!0,!!yc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_f.current=t.matches;t.addListener(e),e()}else _f.current=!1}function SM(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Ft(s))t.addValue(i,s),Uu(r)&&r.add(i);else if(Ft(o))t.addValue(i,Cs(s,{owner:t})),Uu(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Cs(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const G_=new WeakMap,m1=Object.keys(ma),IM=m1.length,H_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],xM=tm.length;class CM{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ie.render(this.render,!1,!0);const{latestValues:a,renderState:u}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=_c(n),this.isVariantNode=ZT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const p in h){const g=h[p];a[p]!==void 0&&Ft(g)&&(g.set(a[p],!1),Uu(c)&&c.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,G_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),p1.current||TM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_f.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){G_.delete(this.current),this.projection&&this.projection.unmount(),Hn(this.notifyUpdate),Hn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ri.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ie.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let u=0;u<IM;u++){const c=m1[u],{isEnabled:h,Feature:p,ProjectionNode:g,MeasureLayout:y}=ma[c];g&&(o=g),h(n)&&(!this.features[c]&&p&&(this.features[c]=new p(this)),y&&(a=y))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:p,layoutScroll:g,layoutRoot:y}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!h||p&&ts(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:g,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<H_.length;r++){const i=H_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=SM(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<xM;r++){const i=tm[r],s=this.props[i];(pa(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cs(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=cm(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ft(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _m),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class g1 extends CM{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=GV(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){$V(this,r,o);const a=EM(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function PM(t){return window.getComputedStyle(t)}class AM extends g1{readValueFromInstance(e,n){if(Ri.has(n)){const r=mm(n);return r&&r.default||0}else{const r=PM(e),i=(rS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return i1(e,n)}build(e,n,r,i){im(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return um(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ft(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){uS(e,n,r,i)}}class RM extends g1{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ri.has(n)){const r=mm(n);return r&&r.default||0}return n=cS.has(n)?n:lm(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ge()}scrapeMotionValuesFromProps(e,n){return dS(e,n)}build(e,n,r,i){om(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){hS(e,n,r,i)}mount(e){this.isSVGTag=am(e.tagName),super.mount(e)}}const kM=(t,e)=>rm(t)?new RM(e,{enableHardwareAcceleration:!1}):new AM(e,{enableHardwareAcceleration:!0}),NM={layout:{ProjectionNode:d1,MeasureLayout:s1}},bM={...sL,...xD,...uM,...NM},y1=Vb((t,e)=>dD(t,e,bM,kM));function v1(){const t=R.useRef(!1);return Zp(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function DM(){const t=v1(),[e,n]=R.useState(0),r=R.useCallback(()=>{t.current&&n(e+1)},[e]);return[R.useCallback(()=>Ie.postRender(r),[r]),e]}class VM extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function LM({children:t,isPresent:e}){const n=R.useId(),r=R.useRef(null),i=R.useRef({width:0,height:0,top:0,left:0});return R.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:u}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),R.createElement(VM,{isPresent:e,childRef:r,sizeRef:i},R.cloneElement(t,{ref:r}))}const Qh=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=fS(MM),u=R.useId(),c=R.useMemo(()=>({id:u,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const p of a.values())if(!p)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?void 0:[n]);return R.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[n]),R.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=R.createElement(LM,{isPresent:n},t)),R.createElement(gc.Provider,{value:c},t)};function MM(){return new Map}function OM(t){return R.useEffect(()=>()=>t(),[])}const ii=t=>t.key||"";function jM(t,e){t.forEach(n=>{const r=ii(n);e.set(r,n)})}function FM(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const _1=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=R.useContext(nm).forceRender||DM()[0],u=v1(),c=FM(t);let h=c;const p=R.useRef(new Map).current,g=R.useRef(h),y=R.useRef(new Map).current,E=R.useRef(!0);if(Zp(()=>{E.current=!1,jM(c,y),g.current=h}),OM(()=>{E.current=!0,y.clear(),p.clear()}),E.current)return R.createElement(R.Fragment,null,h.map(_=>R.createElement(Qh,{key:ii(_),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},_)));h=[...h];const P=g.current.map(ii),D=c.map(ii),C=P.length;for(let _=0;_<C;_++){const T=P[_];D.indexOf(T)===-1&&!p.has(T)&&p.set(T,void 0)}return o==="wait"&&p.size&&(h=[]),p.forEach((_,T)=>{if(D.indexOf(T)!==-1)return;const b=y.get(T);if(!b)return;const M=P.indexOf(T);let O=_;if(!O){const I=()=>{p.delete(T);const v=Array.from(y.keys()).filter(S=>!D.includes(S));if(v.forEach(S=>y.delete(S)),g.current=c.filter(S=>{const x=ii(S);return x===T||v.includes(x)}),!p.size){if(u.current===!1)return;a(),r&&r()}};O=R.createElement(Qh,{key:ii(b),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},b),p.set(T,O)}h.splice(M,0,O)}),h=h.map(_=>{const T=_.key;return p.has(T)?_:R.createElement(Qh,{key:ii(_),isPresent:!0,presenceAffectsLayout:s,mode:o},_)}),R.createElement(R.Fragment,null,p.size?h:h.map(_=>R.cloneElement(_)))},UM="_advertisement_container_ojvry_1",BM="_fade_ojvry_1",zM="_title_ojvry_87",$M="_show_more_ojvry_127",qM="_shop_container_ojvry_169",GM="_card_container_ojvry_193",HM="_img_card_ojvry_213",WM="_card_ojvry_193",KM="_data_name_ojvry_287",ir={advertisement_container:UM,fade:BM,title:zM,show_more:$M,shop_container:qM,card_container:GM,img_card:HM,card:WM,data_name:KM},QM="_cartEscapeArea_13idk_1",XM="_container_nav_13idk_11",JM="_desktop_nav_13idk_27",YM="_utilities_13idk_55",ZM="_utilities_modal_13idk_63",eO="_logo_13idk_71",tO="_container_icons_13idk_105",nO="_query_13idk_185",rO="_mobileQuery_13idk_195",iO="_mobile_nav_13idk_249",sO="_slideFromLeft_13idk_1",oO="_navMobile_header_13idk_289",aO="_navMobile_info_13idk_351",lO="_navMobile_card_13idk_371",uO="_utilities_Nav_13idk_403",cO="_NavUtilitiesSlide_13idk_1",hO="_mobile_navShop_13idk_479",dO="_slideFromRight_13idk_1",fO="_shop_header_13idk_521",pO="_shop_itens_13idk_549",mO="_shop_card_13idk_587",gO="_shop_cardMain_13idk_611",yO="_shop_cardBtn_13idk_631",vO="_card_info_13idk_683",_O="_card_image_13idk_715",wO="_shop_summary_13idk_729",EO="_utilities_card_13idk_913",TO="_fade_13idk_1",SO="_querySlide_13idk_1",me={cartEscapeArea:QM,container_nav:XM,desktop_nav:JM,utilities:YM,utilities_modal:ZM,logo:eO,container_icons:tO,query:nO,mobileQuery:rO,mobile_nav:iO,slideFromLeft:sO,navMobile_header:oO,navMobile_info:aO,navMobile_card:lO,utilities_Nav:uO,NavUtilitiesSlide:cO,mobile_navShop:hO,slideFromRight:dO,shop_header:fO,shop_itens:pO,shop_card:mO,shop_cardMain:gO,shop_cardBtn:yO,card_info:vO,card_image:_O,shop_summary:wO,utilities_card:EO,fade:TO,querySlide:SO};var IO="firebase",xO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(IO,xO,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var di,w1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function S(){}S.prototype=v.prototype,I.D=v.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(x,k,N){for(var A=Array(arguments.length-2),K=2;K<arguments.length;K++)A[K-2]=arguments[K];return v.prototype[k].apply(x,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,S){S||(S=0);var x=Array(16);if(typeof v=="string")for(var k=0;16>k;++k)x[k]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(k=0;16>k;++k)x[k]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=I.g[0],S=I.g[1],k=I.g[2];var N=I.g[3],A=v+(N^S&(k^N))+x[0]+3614090360&4294967295;v=S+(A<<7&4294967295|A>>>25),A=N+(k^v&(S^k))+x[1]+3905402710&4294967295,N=v+(A<<12&4294967295|A>>>20),A=k+(S^N&(v^S))+x[2]+606105819&4294967295,k=N+(A<<17&4294967295|A>>>15),A=S+(v^k&(N^v))+x[3]+3250441966&4294967295,S=k+(A<<22&4294967295|A>>>10),A=v+(N^S&(k^N))+x[4]+4118548399&4294967295,v=S+(A<<7&4294967295|A>>>25),A=N+(k^v&(S^k))+x[5]+1200080426&4294967295,N=v+(A<<12&4294967295|A>>>20),A=k+(S^N&(v^S))+x[6]+2821735955&4294967295,k=N+(A<<17&4294967295|A>>>15),A=S+(v^k&(N^v))+x[7]+4249261313&4294967295,S=k+(A<<22&4294967295|A>>>10),A=v+(N^S&(k^N))+x[8]+1770035416&4294967295,v=S+(A<<7&4294967295|A>>>25),A=N+(k^v&(S^k))+x[9]+2336552879&4294967295,N=v+(A<<12&4294967295|A>>>20),A=k+(S^N&(v^S))+x[10]+4294925233&4294967295,k=N+(A<<17&4294967295|A>>>15),A=S+(v^k&(N^v))+x[11]+2304563134&4294967295,S=k+(A<<22&4294967295|A>>>10),A=v+(N^S&(k^N))+x[12]+1804603682&4294967295,v=S+(A<<7&4294967295|A>>>25),A=N+(k^v&(S^k))+x[13]+4254626195&4294967295,N=v+(A<<12&4294967295|A>>>20),A=k+(S^N&(v^S))+x[14]+2792965006&4294967295,k=N+(A<<17&4294967295|A>>>15),A=S+(v^k&(N^v))+x[15]+1236535329&4294967295,S=k+(A<<22&4294967295|A>>>10),A=v+(k^N&(S^k))+x[1]+4129170786&4294967295,v=S+(A<<5&4294967295|A>>>27),A=N+(S^k&(v^S))+x[6]+3225465664&4294967295,N=v+(A<<9&4294967295|A>>>23),A=k+(v^S&(N^v))+x[11]+643717713&4294967295,k=N+(A<<14&4294967295|A>>>18),A=S+(N^v&(k^N))+x[0]+3921069994&4294967295,S=k+(A<<20&4294967295|A>>>12),A=v+(k^N&(S^k))+x[5]+3593408605&4294967295,v=S+(A<<5&4294967295|A>>>27),A=N+(S^k&(v^S))+x[10]+38016083&4294967295,N=v+(A<<9&4294967295|A>>>23),A=k+(v^S&(N^v))+x[15]+3634488961&4294967295,k=N+(A<<14&4294967295|A>>>18),A=S+(N^v&(k^N))+x[4]+3889429448&4294967295,S=k+(A<<20&4294967295|A>>>12),A=v+(k^N&(S^k))+x[9]+568446438&4294967295,v=S+(A<<5&4294967295|A>>>27),A=N+(S^k&(v^S))+x[14]+3275163606&4294967295,N=v+(A<<9&4294967295|A>>>23),A=k+(v^S&(N^v))+x[3]+4107603335&4294967295,k=N+(A<<14&4294967295|A>>>18),A=S+(N^v&(k^N))+x[8]+1163531501&4294967295,S=k+(A<<20&4294967295|A>>>12),A=v+(k^N&(S^k))+x[13]+2850285829&4294967295,v=S+(A<<5&4294967295|A>>>27),A=N+(S^k&(v^S))+x[2]+4243563512&4294967295,N=v+(A<<9&4294967295|A>>>23),A=k+(v^S&(N^v))+x[7]+1735328473&4294967295,k=N+(A<<14&4294967295|A>>>18),A=S+(N^v&(k^N))+x[12]+2368359562&4294967295,S=k+(A<<20&4294967295|A>>>12),A=v+(S^k^N)+x[5]+4294588738&4294967295,v=S+(A<<4&4294967295|A>>>28),A=N+(v^S^k)+x[8]+2272392833&4294967295,N=v+(A<<11&4294967295|A>>>21),A=k+(N^v^S)+x[11]+1839030562&4294967295,k=N+(A<<16&4294967295|A>>>16),A=S+(k^N^v)+x[14]+4259657740&4294967295,S=k+(A<<23&4294967295|A>>>9),A=v+(S^k^N)+x[1]+2763975236&4294967295,v=S+(A<<4&4294967295|A>>>28),A=N+(v^S^k)+x[4]+1272893353&4294967295,N=v+(A<<11&4294967295|A>>>21),A=k+(N^v^S)+x[7]+4139469664&4294967295,k=N+(A<<16&4294967295|A>>>16),A=S+(k^N^v)+x[10]+3200236656&4294967295,S=k+(A<<23&4294967295|A>>>9),A=v+(S^k^N)+x[13]+681279174&4294967295,v=S+(A<<4&4294967295|A>>>28),A=N+(v^S^k)+x[0]+3936430074&4294967295,N=v+(A<<11&4294967295|A>>>21),A=k+(N^v^S)+x[3]+3572445317&4294967295,k=N+(A<<16&4294967295|A>>>16),A=S+(k^N^v)+x[6]+76029189&4294967295,S=k+(A<<23&4294967295|A>>>9),A=v+(S^k^N)+x[9]+3654602809&4294967295,v=S+(A<<4&4294967295|A>>>28),A=N+(v^S^k)+x[12]+3873151461&4294967295,N=v+(A<<11&4294967295|A>>>21),A=k+(N^v^S)+x[15]+530742520&4294967295,k=N+(A<<16&4294967295|A>>>16),A=S+(k^N^v)+x[2]+3299628645&4294967295,S=k+(A<<23&4294967295|A>>>9),A=v+(k^(S|~N))+x[0]+4096336452&4294967295,v=S+(A<<6&4294967295|A>>>26),A=N+(S^(v|~k))+x[7]+1126891415&4294967295,N=v+(A<<10&4294967295|A>>>22),A=k+(v^(N|~S))+x[14]+2878612391&4294967295,k=N+(A<<15&4294967295|A>>>17),A=S+(N^(k|~v))+x[5]+4237533241&4294967295,S=k+(A<<21&4294967295|A>>>11),A=v+(k^(S|~N))+x[12]+1700485571&4294967295,v=S+(A<<6&4294967295|A>>>26),A=N+(S^(v|~k))+x[3]+2399980690&4294967295,N=v+(A<<10&4294967295|A>>>22),A=k+(v^(N|~S))+x[10]+4293915773&4294967295,k=N+(A<<15&4294967295|A>>>17),A=S+(N^(k|~v))+x[1]+2240044497&4294967295,S=k+(A<<21&4294967295|A>>>11),A=v+(k^(S|~N))+x[8]+1873313359&4294967295,v=S+(A<<6&4294967295|A>>>26),A=N+(S^(v|~k))+x[15]+4264355552&4294967295,N=v+(A<<10&4294967295|A>>>22),A=k+(v^(N|~S))+x[6]+2734768916&4294967295,k=N+(A<<15&4294967295|A>>>17),A=S+(N^(k|~v))+x[13]+1309151649&4294967295,S=k+(A<<21&4294967295|A>>>11),A=v+(k^(S|~N))+x[4]+4149444226&4294967295,v=S+(A<<6&4294967295|A>>>26),A=N+(S^(v|~k))+x[11]+3174756917&4294967295,N=v+(A<<10&4294967295|A>>>22),A=k+(v^(N|~S))+x[2]+718787259&4294967295,k=N+(A<<15&4294967295|A>>>17),A=S+(N^(k|~v))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var S=v-this.blockSize,x=this.B,k=this.h,N=0;N<v;){if(k==0)for(;N<=S;)i(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<v;)if(x[k++]=I.charCodeAt(N++),k==this.blockSize){i(this,x),k=0;break}}else for(;N<v;)if(x[k++]=I[N++],k==this.blockSize){i(this,x),k=0;break}}this.h=k,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var S=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=S&255,S/=256;for(this.u(I),I=Array(16),v=S=0;4>v;++v)for(var x=0;32>x;x+=8)I[S++]=this.g[v]>>>x&255;return I};function s(I,v){var S=a;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=v(I)}function o(I,v){this.h=v;for(var S=[],x=!0,k=I.length-1;0<=k;k--){var N=I[k]|0;x&&N==v||(S[k]=N,x=!1)}this.g=S}var a={};function u(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return D(c(-I));for(var v=[],S=1,x=0;I>=S;x++)v[x]=I/S|0,S*=4294967296;return new o(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return D(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(v,8)),x=p,k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k),A=parseInt(I.substring(k,k+N),v);8>N?(N=c(Math.pow(v,N)),x=x.j(N).add(c(A))):(x=x.j(S),x=x.add(c(A)))}return x}var p=u(0),g=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-D(this).m();for(var I=0,v=1,S=0;S<this.g.length;S++){var x=this.i(S);I+=(0<=x?x:4294967296+x)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(P(this))return"-"+D(this).toString(I);for(var v=c(Math.pow(I,6)),S=this,x="";;){var k=b(S,v).g;S=C(S,k.j(v));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=k,E(S))return N+x;for(;6>N.length;)N="0"+N;x=N+x}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function P(I){return I.h==-1}t.l=function(I){return I=C(this,I),P(I)?-1:E(I)?0:1};function D(I){for(var v=I.g.length,S=[],x=0;x<v;x++)S[x]=~I.g[x];return new o(S,~I.h).add(g)}t.abs=function(){return P(this)?D(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],x=0,k=0;k<=v;k++){var N=x+(this.i(k)&65535)+(I.i(k)&65535),A=(N>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);x=A>>>16,N&=65535,A&=65535,S[k]=A<<16|N}return new o(S,S[S.length-1]&-2147483648?-1:0)};function C(I,v){return I.add(D(v))}t.j=function(I){if(E(this)||E(I))return p;if(P(this))return P(I)?D(this).j(D(I)):D(D(this).j(I));if(P(I))return D(this.j(D(I)));if(0>this.l(y)&&0>I.l(y))return c(this.m()*I.m());for(var v=this.g.length+I.g.length,S=[],x=0;x<2*v;x++)S[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<I.g.length;k++){var N=this.i(x)>>>16,A=this.i(x)&65535,K=I.i(k)>>>16,re=I.i(k)&65535;S[2*x+2*k]+=A*re,_(S,2*x+2*k),S[2*x+2*k+1]+=N*re,_(S,2*x+2*k+1),S[2*x+2*k+1]+=A*K,_(S,2*x+2*k+1),S[2*x+2*k+2]+=N*K,_(S,2*x+2*k+2)}for(x=0;x<v;x++)S[x]=S[2*x+1]<<16|S[2*x];for(x=v;x<2*v;x++)S[x]=0;return new o(S,0)};function _(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function T(I,v){this.g=I,this.h=v}function b(I,v){if(E(v))throw Error("division by zero");if(E(I))return new T(p,p);if(P(I))return v=b(D(I),v),new T(D(v.g),D(v.h));if(P(v))return v=b(I,D(v)),new T(D(v.g),v.h);if(30<I.g.length){if(P(I)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var S=g,x=v;0>=x.l(I);)S=M(S),x=M(x);var k=O(S,1),N=O(x,1);for(x=O(x,2),S=O(S,2);!E(x);){var A=N.add(x);0>=A.l(I)&&(k=k.add(S),N=A),x=O(x,1),S=O(S,1)}return v=C(I,k.j(v)),new T(k,v)}for(k=p;0<=I.l(v);){for(S=Math.max(1,Math.floor(I.m()/v.m())),x=Math.ceil(Math.log(S)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),N=c(S),A=N.j(v);P(A)||0<A.l(I);)S-=x,N=c(S),A=N.j(v);E(N)&&(N=g),k=k.add(N),I=C(I,A)}return new T(k,I)}t.A=function(I){return b(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],x=0;x<v;x++)S[x]=this.i(x)&I.i(x);return new o(S,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],x=0;x<v;x++)S[x]=this.i(x)|I.i(x);return new o(S,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],x=0;x<v;x++)S[x]=this.i(x)^I.i(x);return new o(S,this.h^I.h)};function M(I){for(var v=I.g.length+1,S=[],x=0;x<v;x++)S[x]=I.i(x)<<1|I.i(x-1)>>>31;return new o(S,I.h)}function O(I,v){var S=v>>5;v%=32;for(var x=I.g.length-S,k=[],N=0;N<x;N++)k[N]=0<v?I.i(N+S)>>>v|I.i(N+S+1)<<32-v:I.i(N+S);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,w1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,di=o}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var Cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,Po,T1,Ql,wf,S1,I1,x1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cl=="object"&&Cl];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var m=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var V=l[w];if(!(V in m))break e;m=m[V]}l=l[l.length-1],w=m[l],d=d(w),d!=w&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var m=0,w=!1,V={next:function(){if(!w&&m<l.length){var L=m++;return{value:d(L,l[L]),done:!1}}return w=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,m){return l.call.apply(l.bind,arguments)}function p(l,d,m){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,w),l.apply(d,V)}}return function(){return l.apply(d,arguments)}}function g(l,d,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function E(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(w,V,L){for(var $=Array(arguments.length-2),we=2;we<arguments.length;we++)$[we-2]=arguments[we];return d.prototype[V].apply(w,$)}}function P(l){const d=l.length;if(0<d){const m=Array(d);for(let w=0;w<d;w++)m[w]=l[w];return m}return[]}function D(l,d){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(u(w)){const V=l.length||0,L=w.length||0;l.length=V+L;for(let $=0;$<L;$++)l[V+$]=w[$]}else l.push(w)}}class C{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function _(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function b(l){return b[" "](l),l}b[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(l,d,m){for(const w in l)d.call(m,l[w],w,l)}function I(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function v(l){const d={};for(const m in l)d[m]=l[m];return d}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,d){let m,w;for(let V=1;V<arguments.length;V++){w=arguments[V];for(m in w)l[m]=w[m];for(let L=0;L<S.length;L++)m=S[L],Object.prototype.hasOwnProperty.call(w,m)&&(l[m]=w[m])}}function k(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function N(l){a.setTimeout(()=>{throw l},0)}function A(){var l=Q;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class K{constructor(){this.h=this.g=null}add(d,m){const w=re.get();w.set(d,m),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new C(()=>new dt,l=>l.reset());class dt{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,z=!1,Q=new K,Y=()=>{const l=a.Promise.resolve(void 0);Ee=()=>{l.then(X)}};var X=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(m){N(m)}var d=re;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return l}();function Je(l,d){if(ge.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(M){e:{try{b(d.nodeName);var V=!0;break e}catch{}V=!1}V||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:$e[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Je.aa.h.call(this)}}E(Je,ge);var $e={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),it=0;function q(l,d,m,w,V){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!w,this.ha=V,this.key=++it,this.da=this.fa=!1}function B(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ae(l){this.src=l,this.g={},this.h=0}ae.prototype.add=function(l,d,m,w,V){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var $=Di(l,d,w,V);return-1<$?(d=l[$],m||(d.fa=!1)):(d=new q(d,this.src,L,!!w,V),d.fa=m,l.push(d)),d};function ft(l,d){var m=d.type;if(m in l.g){var w=l.g[m],V=Array.prototype.indexOf.call(w,d,void 0),L;(L=0<=V)&&Array.prototype.splice.call(w,V,1),L&&(B(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Di(l,d,m,w){for(var V=0;V<l.length;++V){var L=l[V];if(!L.da&&L.listener==d&&L.capture==!!m&&L.ha==w)return V}return-1}var Lc="closure_lm_"+(1e6*Math.random()|0),Mc={};function Zm(l,d,m,w,V){if(w&&w.once)return tg(l,d,m,w,V);if(Array.isArray(d)){for(var L=0;L<d.length;L++)Zm(l,d[L],m,w,V);return null}return m=Uc(m),l&&l[Te]?l.K(d,m,c(w)?!!w.capture:!!w,V):eg(l,d,m,!1,w,V)}function eg(l,d,m,w,V,L){if(!d)throw Error("Invalid event type");var $=c(V)?!!V.capture:!!V,we=jc(l);if(we||(l[Lc]=we=new ae(l)),m=we.add(d,m,w,$,L),m.proxy)return m;if(w=bI(),m.proxy=w,w.src=l,w.listener=m,l.addEventListener)Xe||(V=$),V===void 0&&(V=!1),l.addEventListener(d.toString(),w,V);else if(l.attachEvent)l.attachEvent(rg(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function bI(){function l(m){return d.call(l.src,l.listener,m)}const d=DI;return l}function tg(l,d,m,w,V){if(Array.isArray(d)){for(var L=0;L<d.length;L++)tg(l,d[L],m,w,V);return null}return m=Uc(m),l&&l[Te]?l.L(d,m,c(w)?!!w.capture:!!w,V):eg(l,d,m,!0,w,V)}function ng(l,d,m,w,V){if(Array.isArray(d))for(var L=0;L<d.length;L++)ng(l,d[L],m,w,V);else w=c(w)?!!w.capture:!!w,m=Uc(m),l&&l[Te]?(l=l.i,d=String(d).toString(),d in l.g&&(L=l.g[d],m=Di(L,m,w,V),-1<m&&(B(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete l.g[d],l.h--)))):l&&(l=jc(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Di(d,m,w,V)),(m=-1<l?d[l]:null)&&Oc(m))}function Oc(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Te])ft(d.i,l);else{var m=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(m,w,l.capture):d.detachEvent?d.detachEvent(rg(m),w):d.addListener&&d.removeListener&&d.removeListener(w),(m=jc(d))?(ft(m,l),m.h==0&&(m.src=null,d[Lc]=null)):B(l)}}}function rg(l){return l in Mc?Mc[l]:Mc[l]="on"+l}function DI(l,d){if(l.da)l=!0;else{d=new Je(d,this);var m=l.listener,w=l.ha||l.src;l.fa&&Oc(l),l=m.call(w,d)}return l}function jc(l){return l=l[Lc],l instanceof ae?l:null}var Fc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uc(l){return typeof l=="function"?l:(l[Fc]||(l[Fc]=function(d){return l.handleEvent(d)}),l[Fc])}function pt(){ie.call(this),this.i=new ae(this),this.M=this,this.F=null}E(pt,ie),pt.prototype[Te]=!0,pt.prototype.removeEventListener=function(l,d,m,w){ng(this,l,d,m,w)};function Ct(l,d){var m,w=l.F;if(w)for(m=[];w;w=w.F)m.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new ge(d,l);else if(d instanceof ge)d.target=d.target||l;else{var V=d;d=new ge(w,l),x(d,V)}if(V=!0,m)for(var L=m.length-1;0<=L;L--){var $=d.g=m[L];V=za($,w,!0,d)&&V}if($=d.g=l,V=za($,w,!0,d)&&V,V=za($,w,!1,d)&&V,m)for(L=0;L<m.length;L++)$=d.g=m[L],V=za($,w,!1,d)&&V}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],w=0;w<m.length;w++)B(m[w]);delete l.g[d],l.h--}}this.F=null},pt.prototype.K=function(l,d,m,w){return this.i.add(String(l),d,!1,m,w)},pt.prototype.L=function(l,d,m,w){return this.i.add(String(l),d,!0,m,w)};function za(l,d,m,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var V=!0,L=0;L<d.length;++L){var $=d[L];if($&&!$.da&&$.capture==m){var we=$.listener,st=$.ha||$.src;$.fa&&ft(l.i,$),V=we.call(st,w)!==!1&&V}}return V&&!w.defaultPrevented}function ig(l,d,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function sg(l){l.g=ig(()=>{l.g=null,l.i&&(l.i=!1,sg(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class VI extends ie{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:sg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(l){ie.call(this),this.h=l,this.g={}}E(Qs,ie);var og=[];function ag(l){O(l.g,function(d,m){this.g.hasOwnProperty(m)&&Oc(d)},l),l.g={}}Qs.prototype.N=function(){Qs.aa.N.call(this),ag(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bc=a.JSON.stringify,LI=a.JSON.parse,MI=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function zc(){}zc.prototype.h=null;function lg(l){return l.h||(l.h=l.i())}function ug(){}var Xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $c(){ge.call(this,"d")}E($c,ge);function qc(){ge.call(this,"c")}E(qc,ge);var Wr={},cg=null;function $a(){return cg=cg||new pt}Wr.La="serverreachability";function hg(l){ge.call(this,Wr.La,l)}E(hg,ge);function Js(l){const d=$a();Ct(d,new hg(d))}Wr.STAT_EVENT="statevent";function dg(l,d){ge.call(this,Wr.STAT_EVENT,l),this.stat=d}E(dg,ge);function Pt(l){const d=$a();Ct(d,new dg(d,l))}Wr.Ma="timingevent";function fg(l,d){ge.call(this,Wr.Ma,l),this.size=d}E(fg,ge);function Ys(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Zs(){this.g=!0}Zs.prototype.xa=function(){this.g=!1};function OI(l,d,m,w,V,L){l.info(function(){if(l.g)if(L)for(var $="",we=L.split("&"),st=0;st<we.length;st++){var fe=we[st].split("=");if(1<fe.length){var mt=fe[0];fe=fe[1];var gt=mt.split("_");$=2<=gt.length&&gt[1]=="type"?$+(mt+"="+fe+"&"):$+(mt+"=redacted&")}}else $=null;else $=L;return"XMLHTTP REQ ("+w+") [attempt "+V+"]: "+d+`
`+m+`
`+$})}function jI(l,d,m,w,V,L,$){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+V+"]: "+d+`
`+m+`
`+L+" "+$})}function Vi(l,d,m,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+UI(l,m)+(w?" "+w:"")})}function FI(l,d){l.info(function(){return"TIMEOUT: "+d})}Zs.prototype.info=function(){};function UI(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var w=m[l];if(!(2>w.length)){var V=w[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var $=1;$<V.length;$++)V[$]=""}}}}return Bc(m)}catch{return d}}var qa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gc;function Ga(){}E(Ga,zc),Ga.prototype.g=function(){return new XMLHttpRequest},Ga.prototype.i=function(){return{}},Gc=new Ga;function Zn(l,d,m,w){this.j=l,this.i=d,this.l=m,this.R=w||1,this.U=new Qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mg}function mg(){this.i=null,this.g="",this.h=!1}var gg={},Hc={};function Wc(l,d,m){l.L=1,l.v=Qa(xn(d)),l.m=m,l.P=!0,yg(l,null)}function yg(l,d){l.F=Date.now(),Ha(l),l.A=xn(l.v);var m=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Ng(m.i,"t",w),l.C=0,m=l.j.J,l.h=new mg,l.g=Qg(l.j,m?d:null,!l.m),0<l.O&&(l.M=new VI(g(l.Y,l,l.g),l.O)),d=l.U,m=l.g,w=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(og[0]=V.toString()),V=og);for(var L=0;L<V.length;L++){var $=Zm(m,V[L],w||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Js(),OI(l.i,l.u,l.A,l.l,l.R,l.m)}Zn.prototype.ca=function(l){l=l.target;const d=this.M;d&&Cn(l)==3?d.j():this.Y(l)},Zn.prototype.Y=function(l){try{if(l==this.g)e:{const gt=Cn(this.g);var d=this.g.Ba();const Oi=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||jg(this.g)))){this.J||gt!=4||d==7||(d==8||0>=Oi?Js(3):Js(2)),Kc(this);var m=this.g.Z();this.X=m;t:if(vg(this)){var w=jg(this.g);l="";var V=w.length,L=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),eo(this);var $="";break t}this.h.i=new a.TextDecoder}for(d=0;d<V;d++)this.h.h=!0,l+=this.h.i.decode(w[d],{stream:!(L&&d==V-1)});w.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=m==200,jI(this.i,this.u,this.A,this.l,this.R,gt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var we,st=this.g;if((we=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(we)){var fe=we;break t}}fe=null}if(m=fe)Vi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qc(this,m);else{this.o=!1,this.s=3,Pt(12),Kr(this),eo(this);break e}}if(this.P){m=!0;let tn;for(;!this.J&&this.C<$.length;)if(tn=BI(this,$),tn==Hc){gt==4&&(this.s=4,Pt(14),m=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==gg){this.s=4,Pt(15),Vi(this.i,this.l,$,"[Invalid Chunk]"),m=!1;break}else Vi(this.i,this.l,tn,null),Qc(this,tn);if(vg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||$.length!=0||this.h.h||(this.s=1,Pt(16),m=!1),this.o=this.o&&m,!m)Vi(this.i,this.l,$,"[Invalid Chunked Response]"),Kr(this),eo(this);else if(0<$.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),th(mt),mt.M=!0,Pt(11))}}else Vi(this.i,this.l,$,null),Qc(this,$);gt==4&&Kr(this),this.o&&!this.J&&(gt==4?Gg(this.j,this):(this.o=!1,Ha(this)))}else ix(this.g),m==400&&0<$.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Kr(this),eo(this)}}}catch{}finally{}};function vg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function BI(l,d){var m=l.C,w=d.indexOf(`
`,m);return w==-1?Hc:(m=Number(d.substring(m,w)),isNaN(m)?gg:(w+=1,w+m>d.length?Hc:(d=d.slice(w,w+m),l.C=w+m,d)))}Zn.prototype.cancel=function(){this.J=!0,Kr(this)};function Ha(l){l.S=Date.now()+l.I,_g(l,l.I)}function _g(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ys(g(l.ba,l),d)}function Kc(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Zn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(FI(this.i,this.A),this.L!=2&&(Js(),Pt(17)),Kr(this),this.s=2,eo(this)):_g(this,this.S-l)};function eo(l){l.j.G==0||l.J||Gg(l.j,l)}function Kr(l){Kc(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ag(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Qc(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||Xc(m.h,l))){if(!l.K&&Xc(m.h,l)&&m.G==3){try{var w=m.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var V=w;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)tl(m),Za(m);else break e;eh(m),Pt(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ys(g(m.Za,m),6e3));if(1>=Tg(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Xr(m,11)}else if((l.K||m.g==l)&&tl(m),!_(d))for(V=m.Da.g.parse(d),d=0;d<V.length;d++){let fe=V[d];if(m.T=fe[0],fe=fe[1],m.G==2)if(fe[0]=="c"){m.K=fe[1],m.ia=fe[2];const mt=fe[3];mt!=null&&(m.la=mt,m.j.info("VER="+m.la));const gt=fe[4];gt!=null&&(m.Aa=gt,m.j.info("SVER="+m.Aa));const Oi=fe[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(w=1.5*Oi,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const tn=l.g;if(tn){const rl=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rl){var L=w.h;L.g||rl.indexOf("spdy")==-1&&rl.indexOf("quic")==-1&&rl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Jc(L,L.h),L.h=null))}if(w.D){const nh=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;nh&&(w.ya=nh,xe(w.I,w.D,nh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var $=l;if(w.qa=Kg(w,w.J?w.ia:null,w.W),$.K){Sg(w.h,$);var we=$,st=w.L;st&&(we.I=st),we.B&&(Kc(we),Ha(we)),w.g=$}else $g(w);0<m.i.length&&el(m)}else fe[0]!="stop"&&fe[0]!="close"||Xr(m,7);else m.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Xr(m,7):Zc(m):fe[0]!="noop"&&m.l&&m.l.ta(fe),m.v=0)}}Js(4)}catch{}}var zI=class{constructor(l,d){this.g=l,this.map=d}};function wg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Tg(l){return l.h?1:l.g?l.g.size:0}function Xc(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Jc(l,d){l.g?l.g.add(d):l.h=d}function Sg(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}wg.prototype.cancel=function(){if(this.i=Ig(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ig(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return P(l.i)}function $I(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],m=l.length,w=0;w<m;w++)d.push(l[w]);return d}d=[],m=0;for(w in l)d[m++]=l[w];return d}function qI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const w in l)d[m++]=w;return d}}}function xg(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=qI(l),w=$I(l),V=w.length,L=0;L<V;L++)d.call(void 0,w[L],m&&m[L],l)}var Cg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GI(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var w=l[m].indexOf("="),V=null;if(0<=w){var L=l[m].substring(0,w);V=l[m].substring(w+1)}else L=l[m];d(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Qr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Qr){this.h=l.h,Wa(this,l.j),this.o=l.o,this.g=l.g,Ka(this,l.s),this.l=l.l;var d=l.i,m=new ro;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Pg(this,m),this.m=l.m}else l&&(d=String(l).match(Cg))?(this.h=!1,Wa(this,d[1]||"",!0),this.o=to(d[2]||""),this.g=to(d[3]||"",!0),Ka(this,d[4]),this.l=to(d[5]||"",!0),Pg(this,d[6]||"",!0),this.m=to(d[7]||"")):(this.h=!1,this.i=new ro(null,this.h))}Qr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(no(d,Ag,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(no(d,Ag,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(no(m,m.charAt(0)=="/"?KI:WI,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",no(m,XI)),l.join("")};function xn(l){return new Qr(l)}function Wa(l,d,m){l.j=m?to(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Ka(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Pg(l,d,m){d instanceof ro?(l.i=d,JI(l.i,l.h)):(m||(d=no(d,QI)),l.i=new ro(d,l.h))}function xe(l,d,m){l.i.set(d,m)}function Qa(l){return xe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function to(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function no(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,HI),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function HI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ag=/[#\/\?@]/g,WI=/[#\?:]/g,KI=/[#\?]/g,QI=/[#\?@]/g,XI=/#/g;function ro(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function er(l){l.g||(l.g=new Map,l.h=0,l.i&&GI(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=ro.prototype,t.add=function(l,d){er(this),this.i=null,l=Li(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function Rg(l,d){er(l),d=Li(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function kg(l,d){return er(l),d=Li(l,d),l.g.has(d)}t.forEach=function(l,d){er(this),this.g.forEach(function(m,w){m.forEach(function(V){l.call(d,V,w,this)},this)},this)},t.na=function(){er(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let w=0;w<d.length;w++){const V=l[w];for(let L=0;L<V.length;L++)m.push(d[w])}return m},t.V=function(l){er(this);let d=[];if(typeof l=="string")kg(this,l)&&(d=d.concat(this.g.get(Li(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},t.set=function(l,d){return er(this),this.i=null,l=Li(this,l),kg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ng(l,d,m){Rg(l,d),0<m.length&&(l.i=null,l.g.set(Li(l,d),P(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var w=d[m];const L=encodeURIComponent(String(w)),$=this.V(w);for(w=0;w<$.length;w++){var V=L;$[w]!==""&&(V+="="+encodeURIComponent(String($[w]))),l.push(V)}}return this.i=l.join("&")};function Li(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function JI(l,d){d&&!l.j&&(er(l),l.i=null,l.g.forEach(function(m,w){var V=w.toLowerCase();w!=V&&(Rg(this,w),Ng(this,V,m))},l)),l.j=d}function YI(l,d){const m=new Zs;if(a.Image){const w=new Image;w.onload=y(tr,m,"TestLoadImage: loaded",!0,d,w),w.onerror=y(tr,m,"TestLoadImage: error",!1,d,w),w.onabort=y(tr,m,"TestLoadImage: abort",!1,d,w),w.ontimeout=y(tr,m,"TestLoadImage: timeout",!1,d,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function ZI(l,d){const m=new Zs,w=new AbortController,V=setTimeout(()=>{w.abort(),tr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then(L=>{clearTimeout(V),L.ok?tr(m,"TestPingServer: ok",!0,d):tr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),tr(m,"TestPingServer: error",!1,d)})}function tr(l,d,m,w,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),w(m)}catch{}}function ex(){this.g=new MI}function tx(l,d,m){const w=m||"";try{xg(l,function(V,L){let $=V;c(V)&&($=Bc(V)),d.push(w+L+"="+encodeURIComponent($))})}catch(V){throw d.push(w+"type="+encodeURIComponent("_badmap")),V}}function Xa(l){this.l=l.Ub||null,this.j=l.eb||!1}E(Xa,zc),Xa.prototype.g=function(){return new Ja(this.l,this.j)},Xa.prototype.i=function(l){return function(){return l}}({});function Ja(l,d){pt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Ja,pt),t=Ja.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,so(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function bg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?io(this):so(this),this.readyState==3&&bg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,io(this))},t.Qa=function(l){this.g&&(this.response=l,io(this))},t.ga=function(){this.g&&io(this)};function io(l){l.readyState=4,l.l=null,l.j=null,l.v=null,so(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function so(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Dg(l){let d="";return O(l,function(m,w){d+=w,d+=":",d+=m,d+=`\r
`}),d}function Yc(l,d,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=Dg(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):xe(l,d,m))}function Le(l){pt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Le,pt);var nx=/^https?$/i,rx=["POST","PUT"];t=Le.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gc.g(),this.v=this.o?lg(this.o):lg(Gc),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(L){Vg(this,L);return}if(l=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var V in w)m.set(V,w[V]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const L of w.keys())m.set(L,w.get(L));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),V=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rx,d,void 0))||w||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of m)this.g.setRequestHeader(L,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Og(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){Vg(this,L)}};function Vg(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Lg(l),Ya(l)}function Lg(l){l.A||(l.A=!0,Ct(l,"complete"),Ct(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ct(this,"complete"),Ct(this,"abort"),Ya(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ya(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Mg(this):this.bb())},t.bb=function(){Mg(this)};function Mg(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Cn(l)!=4||l.Z()!=2)){if(l.u&&Cn(l)==4)ig(l.Ea,0,l);else if(Ct(l,"readystatechange"),Cn(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var w;if(w=$===0){var V=String(l.D).match(Cg)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),w=!nx.test(V?V.toLowerCase():"")}m=w}if(m)Ct(l,"complete"),Ct(l,"success");else{l.m=6;try{var L=2<Cn(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",Lg(l)}}finally{Ya(l)}}}}function Ya(l,d){if(l.g){Og(l);const m=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Ct(l,"ready");try{m.onreadystatechange=w}catch{}}}function Og(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Cn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),LI(d)}};function jg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ix(l){const d={};l=(l.g&&2<=Cn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(_(l[w]))continue;var m=k(l[w]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=d[V]||[];d[V]=L,L.push(m)}I(d,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oo(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function Fg(l){this.Aa=0,this.i=[],this.j=new Zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oo("baseRetryDelayMs",5e3,l),this.cb=oo("retryDelaySeedMs",1e4,l),this.Wa=oo("forwardChannelMaxRetries",2,l),this.wa=oo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new wg(l&&l.concurrentRequestLimit),this.Da=new ex,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fg.prototype,t.la=8,t.G=1,t.connect=function(l,d,m,w){Pt(0),this.W=l,this.H=d||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=Kg(this,null,this.W),el(this)};function Zc(l){if(Ug(l),l.G==3){var d=l.U++,m=xn(l.I);if(xe(m,"SID",l.K),xe(m,"RID",d),xe(m,"TYPE","terminate"),ao(l,m),d=new Zn(l,l.j,d),d.L=2,d.v=Qa(xn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=Qg(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ha(d)}Wg(l)}function Za(l){l.g&&(th(l),l.g.cancel(),l.g=null)}function Ug(l){Za(l),l.u&&(a.clearTimeout(l.u),l.u=null),tl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function el(l){if(!Eg(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ee||Y(),z||(Ee(),z=!0),Q.add(d,l),l.B=0}}function sx(l,d){return Tg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ys(g(l.Ga,l,d),Hg(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new Zn(this,this.j,l);let L=this.o;if(this.S&&(L?(L=v(L),x(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=zg(this,V,d),m=xn(this.I),xe(m,"RID",l),xe(m,"CVER",22),this.D&&xe(m,"X-HTTP-Session-Id",this.D),ao(this,m),L&&(this.O?d="headers="+encodeURIComponent(String(Dg(L)))+"&"+d:this.m&&Yc(m,this.m,L)),Jc(this.h,V),this.Ua&&xe(m,"TYPE","init"),this.P?(xe(m,"$req",d),xe(m,"SID","null"),V.T=!0,Wc(V,m,null)):Wc(V,m,d),this.G=2}}else this.G==3&&(l?Bg(this,l):this.i.length==0||Eg(this.h)||Bg(this))};function Bg(l,d){var m;d?m=d.l:m=l.U++;const w=xn(l.I);xe(w,"SID",l.K),xe(w,"RID",m),xe(w,"AID",l.T),ao(l,w),l.m&&l.o&&Yc(w,l.m,l.o),m=new Zn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=zg(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Jc(l.h,m),Wc(m,w,d)}function ao(l,d){l.H&&O(l.H,function(m,w){xe(d,w,m)}),l.l&&xg({},function(m,w){xe(d,w,m)})}function zg(l,d,m){m=Math.min(l.i.length,m);var w=l.l?g(l.l.Na,l.l,l):null;e:{var V=l.i;let L=-1;for(;;){const $=["count="+m];L==-1?0<m?(L=V[0].g,$.push("ofs="+L)):L=0:$.push("ofs="+L);let we=!0;for(let st=0;st<m;st++){let fe=V[st].g;const mt=V[st].map;if(fe-=L,0>fe)L=Math.max(0,V[st].g-100),we=!1;else try{tx(mt,$,"req"+fe+"_")}catch{w&&w(mt)}}if(we){w=$.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,w}function $g(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ee||Y(),z||(Ee(),z=!0),Q.add(d,l),l.v=0}}function eh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ys(g(l.Fa,l),Hg(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,qg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ys(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Za(this),qg(this))};function th(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function qg(l){l.g=new Zn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=xn(l.qa);xe(d,"RID","rpc"),xe(d,"SID",l.K),xe(d,"AID",l.T),xe(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&xe(d,"TO",l.ja),xe(d,"TYPE","xmlhttp"),ao(l,d),l.m&&l.o&&Yc(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Qa(xn(d)),m.m=null,m.P=!0,yg(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Za(this),eh(this),Pt(19))};function tl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Gg(l,d){var m=null;if(l.g==d){tl(l),th(l),l.g=null;var w=2}else if(Xc(l.h,d))m=d.D,Sg(l.h,d),w=1;else return;if(l.G!=0){if(d.o)if(w==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var V=l.B;w=$a(),Ct(w,new fg(w,m)),el(l)}else $g(l);else if(V=d.s,V==3||V==0&&0<d.X||!(w==1&&sx(l,d)||w==2&&eh(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),V){case 1:Xr(l,5);break;case 4:Xr(l,10);break;case 3:Xr(l,6);break;default:Xr(l,2)}}}function Hg(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function Xr(l,d){if(l.j.info("Error code "+d),d==2){var m=g(l.fb,l),w=l.Xa;const V=!w;w=new Qr(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wa(w,"https"),Qa(w),V?YI(w.toString(),m):ZI(w.toString(),m)}else Pt(2);l.G=0,l.l&&l.l.sa(d),Wg(l),Ug(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Wg(l){if(l.G=0,l.ka=[],l.l){const d=Ig(l.h);(d.length!=0||l.i.length!=0)&&(D(l.ka,d),D(l.ka,l.i),l.h.i.length=0,P(l.i),l.i.length=0),l.l.ra()}}function Kg(l,d,m){var w=m instanceof Qr?xn(m):new Qr(m);if(w.g!="")d&&(w.g=d+"."+w.g),Ka(w,w.s);else{var V=a.location;w=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;var L=new Qr(null);w&&Wa(L,w),d&&(L.g=d),V&&Ka(L,V),m&&(L.l=m),w=L}return m=l.D,d=l.ya,m&&d&&xe(w,m,d),xe(w,"VER",l.la),ao(l,w),w}function Qg(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Le(new Xa({eb:m})):new Le(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xg(){}t=Xg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nl(){}nl.prototype.g=function(l,d){return new Ut(l,d)};function Ut(l,d){pt.call(this),this.g=new Fg(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!_(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Mi(this)}E(Ut,pt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Zc(this.g)},Ut.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Bc(l),l=m);d.i.push(new zI(d.Ya++,l)),d.G==3&&el(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Zc(this.g),delete this.g,Ut.aa.N.call(this)};function Jg(l){$c.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}E(Jg,$c);function Yg(){qc.call(this),this.status=1}E(Yg,qc);function Mi(l){this.g=l}E(Mi,Xg),Mi.prototype.ua=function(){Ct(this.g,"a")},Mi.prototype.ta=function(l){Ct(this.g,new Jg(l))},Mi.prototype.sa=function(l){Ct(this.g,new Yg)},Mi.prototype.ra=function(){Ct(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,x1=function(){return new nl},I1=function(){return $a()},S1=Wr,wf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qa.NO_ERROR=0,qa.TIMEOUT=8,qa.HTTP_ERROR=6,Ql=qa,pg.COMPLETE="complete",T1=pg,ug.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Po=ug,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,E1=Le}).apply(typeof Cl<"u"?Cl:typeof self<"u"?self:typeof window<"u"?window:{});const K_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Bp("@firebase/firestore");function _o(){return Si.logLevel}function W(t,...e){if(Si.logLevel<=oe.DEBUG){const n=e.map(wm);Si.debug(`Firestore (${Gs}): ${t}`,...n)}}function Wn(t,...e){if(Si.logLevel<=oe.ERROR){const n=e.map(wm);Si.error(`Firestore (${Gs}): ${t}`,...n)}}function As(t,...e){if(Si.logLevel<=oe.WARN){const n=e.map(wm);Si.warn(`Firestore (${Gs}): ${t}`,...n)}}function wm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: `+t;throw Wn(e),new Error(e)}function je(t,e){t||ne()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class PO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AO{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new C1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new wt(e)}}class RO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new RO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new NO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Rs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new rt(0,0))}static max(){return new te(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ya.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ya?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends ya{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const LO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends ya{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return LO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ne.fromString(e))}static fromName(e){return new J(Ne.fromString(e).popFirst(5))}static empty(){return new J(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ne(e.slice()))}}function MO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Fr(i,J.empty(),e)}function OO(t){return new Fr(t.readTime,t.key,-1)}class Fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fr(te.min(),J.empty(),-1)}static max(){return new Fr(te.max(),J.empty(),-1)}}function jO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==FO)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function BO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Tm.oe=-1;function Sc(t){return t==null}function zu(t){return t===0&&1/t==-1/0}function zO(t){return typeof t=="number"&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ja(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pl(this.root,e,this.comparator,!0)}}class Pl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new at(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,s){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X_(this.data.getIterator())}getIteratorFrom(e){return new X_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class X_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new _r([])}unionWith(e){let n=new ut(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new A1("Invalid base64 string: "+s):s}}(e);return new ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const $O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(je(!!t),typeof t=="string"){let e=0;const n=$O.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Im(t){const e=t.mapValue.fields.__previous_value__;return Sm(e)?Im(e):e}function va(t){const e=Ur(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class _a{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sm(t)?4:HO(t)?9007199254740991:GO(t)?10:11:ne()}function In(t,e){if(t===e)return!0;const n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return va(t).isEqual(va(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ur(i.timestampValue),a=Ur(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ii(i.bytesValue).isEqual(Ii(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Fe(i.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fe(i.integerValue)===Fe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fe(i.doubleValue),a=Fe(s.doubleValue);return o===a?zu(o)===zu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rs(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Q_(o)!==Q_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!In(o[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function wa(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function ks(t,e){if(t===e)return 0;const n=xi(t),r=xi(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Fe(s.integerValue||s.doubleValue),u=Fe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return J_(t.timestampValue,e.timestampValue);case 4:return J_(va(t),va(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ii(s),u=Ii(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=pe(a[c],u[c]);if(h!==0)return h}return pe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=pe(Fe(s.latitude),Fe(o.latitude));return a!==0?a:pe(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Y_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,h;const p=s.fields||{},g=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,E=(u=g.value)===null||u===void 0?void 0:u.arrayValue,P=pe(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:Y_(y,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Al.mapValue&&o===Al.mapValue)return 0;if(s===Al.mapValue)return 1;if(o===Al.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const g=pe(u[p],h[p]);if(g!==0)return g;const y=ks(a[u[p]],c[h[p]]);if(y!==0)return y}return pe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function J_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=Ur(t),r=Ur(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function Y_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ks(n[i],r[i]);if(s)return s}return pe(n.length,r.length)}function Ns(t){return Ef(t)}function Ef(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ef(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ef(n.fields[o])}`;return i+"}"}(t.mapValue):ne()}function Z_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tf(t){return!!t&&"integerValue"in t}function xm(t){return!!t&&"arrayValue"in t}function e0(t){return!!t&&"nullValue"in t}function t0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xh(t){return!!t&&"mapValue"in t}function GO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ja(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qo(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ja(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new gn(qo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tt(e,0,te.min(),te.min(),te.min(),gn.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,te.min(),te.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,te.min(),te.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.position=e,this.inclusive=n}}function n0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=ks(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n="asc"){this.field=e,this.dir=n}}function WO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class We extends R1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QO(e,n,r):n==="array-contains"?new YO(e,r):n==="in"?new ZO(e,r):n==="not-in"?new ej(e,r):n==="array-contains-any"?new tj(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XO(e,r):new JO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ks(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hn extends R1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hn(e,n)}matches(e){return k1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function k1(t){return t.op==="and"}function N1(t){return KO(t)&&k1(t)}function KO(t){for(const e of t.filters)if(e instanceof hn)return!1;return!0}function Sf(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Ns(t.value);if(N1(t))return t.filters.map(e=>Sf(e)).join(",");{const e=t.filters.map(n=>Sf(n)).join(",");return`${t.op}(${e})`}}function b1(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)}(t,e):t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&b1(o,i.filters[a]),!0):!1}(t,e):void ne()}function D1(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Ns(n.value)}`}(t):t instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(D1).join(" ,")+"}"}(t):"Filter"}class QO extends We{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class XO extends We{constructor(e,n){super(e,"in",n),this.keys=V1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JO extends We{constructor(e,n){super(e,"not-in",n),this.keys=V1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function V1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class YO extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xm(n)&&wa(n.arrayValue,this.value)}}class ZO extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wa(this.value.arrayValue,n)}}class ej extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wa(this.value.arrayValue,n)}}class tj extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function i0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nj(t,e,n,r,i,s,o)}function Cm(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ns(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ns(r)).join(",")),e.ue=n}return e.ue}function Pm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r0(t.startAt,e.startAt)&&r0(t.endAt,e.endAt)}function If(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rj(t,e,n,r,i,s,o,a){return new Hs(t,e,n,r,i,s,o,a)}function L1(t){return new Hs(t)}function s0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M1(t){return t.collectionGroup!==null}function Go(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(St.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ea(s,r))}),n.has(St.keyField().canonicalString())||e.ce.push(new Ea(St.keyField(),r))}return e.ce}function Sn(t){const e=ue(t);return e.le||(e.le=ij(e,Go(t))),e.le}function ij(t,e){if(t.limitType==="F")return i0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ea(i.field,s)});const n=t.endAt?new $u(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $u(t.startAt.position,t.startAt.inclusive):null;return i0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xf(t,e){const n=t.filters.concat([e]);return new Hs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cf(t,e,n){return new Hs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ic(t,e){return Pm(Sn(t),Sn(e))&&t.limitType===e.limitType}function O1(t){return`${Cm(Sn(t))}|lt:${t.limitType}`}function Fi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>D1(i)).join(", ")}]`),Sc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ns(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ns(i)).join(",")),`Target(${r})`}(Sn(t))}; limitType=${t.limitType})`}function xc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Go(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=n0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Go(r),i)||r.endAt&&!function(o,a,u){const c=n0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Go(r),i))}(t,e)}function sj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function j1(t){return(e,n)=>{let r=!1;for(const i of Go(t)){const s=oj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oj(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?ks(u,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return P1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=new ze(J.comparator);function Br(){return aj}const F1=new ze(J.comparator);function Ao(...t){let e=F1;for(const n of t)e=e.insert(n.key,n);return e}function lj(t){let e=F1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ui(){return Ho()}function U1(){return Ho()}function Ho(){return new Ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const uj=new ut(J.comparator);function he(...t){let e=uj;for(const n of t)e=e.add(n);return e}const cj=new ut(pe);function hj(){return cj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function B1(t){return{integerValue:""+t}}function dj(t,e){return zO(e)?B1(e):Am(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this._=void 0}}function fj(t,e,n){return t instanceof Pf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Sm(s)&&(s=Im(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof qu?z1(t,e):t instanceof Gu?$1(t,e):function(i,s){const o=mj(i,s),a=o0(o)+o0(i.Pe);return Tf(o)&&Tf(i.Pe)?B1(a):Am(i.serializer,a)}(t,e)}function pj(t,e,n){return t instanceof qu?z1(t,e):t instanceof Gu?$1(t,e):n}function mj(t,e){return t instanceof Af?function(r){return Tf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Pf extends Cc{}class qu extends Cc{constructor(e){super(),this.elements=e}}function z1(t,e){const n=q1(e);for(const r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends Cc{constructor(e){super(),this.elements=e}}function $1(t,e){let n=q1(e);for(const r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}class Af extends Cc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function o0(t){return Fe(t.integerValue||t.doubleValue)}function q1(t){return xm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qu&&i instanceof qu||r instanceof Gu&&i instanceof Gu?Rs(r.elements,i.elements,In):r instanceof Af&&i instanceof Af?In(r.Pe,i.Pe):r instanceof Pf&&i instanceof Pf}(t.transform,e.transform)}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rm{}function G1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vj(t.key,pi.none()):new km(t.key,t.data,pi.none());{const n=t.data,r=gn.empty();let i=new ut(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pc(t.key,r,new _r(i.toArray()),pi.none())}}function yj(t,e,n){t instanceof km?function(i,s,o){const a=i.value.clone(),u=l0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pc?function(i,s,o){if(!Xl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=l0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(H1(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wo(t,e,n,r){return t instanceof km?function(s,o,a,u){if(!Xl(s.precondition,o))return a;const c=s.value.clone(),h=u0(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pc?function(s,o,a,u){if(!Xl(s.precondition,o))return a;const c=u0(s.fieldTransforms,u,o),h=o.data;return h.setAll(H1(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Xl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function a0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rs(r,i,(s,o)=>gj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class km extends Rm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pc extends Rm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function H1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function l0(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,pj(o,a,n[i]))}return r}function u0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,fj(s,o,e))}return r}class vj extends Rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=U1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=G1(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,(n,r)=>a0(n,r))&&Rs(this.baseMutations,e.baseMutations,(n,r)=>a0(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,le;function W1(t){if(t===void 0)return Wn("GRPC error has no .code"),U.UNKNOWN;switch(t){case qe.OK:return U.OK;case qe.CANCELLED:return U.CANCELLED;case qe.UNKNOWN:return U.UNKNOWN;case qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case qe.INTERNAL:return U.INTERNAL;case qe.UNAVAILABLE:return U.UNAVAILABLE;case qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case qe.NOT_FOUND:return U.NOT_FOUND;case qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case qe.ABORTED:return U.ABORTED;case qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case qe.DATA_LOSS:return U.DATA_LOSS;default:return ne()}}(le=qe||(qe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new di([4294967295,4294967295],0);function c0(t){const e=Tj().encode(t),n=new w1;return n.update(e),new Uint8Array(n.digest())}function h0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new di([n,r],0),new di([i,s],0)]}class Nm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ro(`Invalid padding: ${n}`);if(r<0)throw new Ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=di.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(di.fromNumber(r)));return i.compare(Sj)===1&&(i=new di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=c0(e),[r,i]=h0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Nm(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=c0(e),[r,i]=h0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ac(te.min(),i,new ze(pe),Br(),he())}}class Fa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fa(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class K1{constructor(e,n){this.targetId=e,this.me=n}}class Q1{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class d0{constructor(){this.fe=0,this.ge=p0(),this.pe=ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=he(),n=he(),r=he();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Fa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=p0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ij{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=f0(),this.Qe=new ze(pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(If(s))if(r===0){const o=new J(s.path);this.Ue(n,o,Tt.newNoDocument(o,te.min()))}else je(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ii(r).toUint8Array()}catch(u){if(u instanceof A1)return As("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Nm(o,i,s)}catch(u){return As(u instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&If(a.target)){const u=new J(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Tt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=he();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ac(e,n,this.Qe,this.ke,r);return this.ke=Br(),this.qe=f0(),this.Qe=new ze(pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new d0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new d0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function f0(){return new ze(J.comparator)}function p0(){return new ze(J.comparator)}const xj=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Cj=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Pj=(()=>({and:"AND",or:"OR"}))();class Aj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rf(t,e){return t.useProto3Json||Sc(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ps(t){return je(!!t),te.fromTimestamp(function(n){const r=Ur(n);return new rt(r.seconds,r.nanos)}(t))}function J1(t,e){return Nf(t,e).canonicalString()}function Nf(t,e){const n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Y1(t){const e=Ne.fromString(t);return je(rI(e)),e}function Jh(t,e){const n=Y1(e);if(n.get(1)!==t.databaseId.projectId)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(eI(n))}function Z1(t,e){return J1(t.databaseId,e)}function Rj(t){const e=Y1(t);return e.length===4?Ne.emptyPath():eI(e)}function m0(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eI(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(je(h===void 0||typeof h=="string"),ht.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:W1(c.code);return new H(h,c.message||"")}(o);n=new Q1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jh(t,r.document.name),s=ps(r.document.updateTime),o=r.document.createTime?ps(r.document.createTime):te.min(),a=new gn({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Jl(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jh(t,r.document),s=r.readTime?ps(r.readTime):te.min(),o=Tt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jh(t,r.document),s=r.removedTargetIds||[];n=new Jl([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Ej(i,s),a=r.targetId;n=new K1(a,o)}}return n}function Nj(t,e){return{documents:[Z1(t,e.path)]}}function bj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z1(t,i);const s=function(c){if(c.length!==0)return nI(hn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(g){return{field:Ui(g.field),direction:Lj(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Rf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function Dj(t){let e=Rj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const g=tI(p);return g instanceof hn&&N1(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(E){return new Ea(Bi(E.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Sc(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new $u(y,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,y=p.values||[];return new $u(y,g)}(n.endAt)),rj(e,i,o,s,a,"F",u,c)}function Vj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bi(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bi(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bi(n.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bi(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Bi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>tI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function Lj(t){return xj[t]}function Mj(t){return Cj[t]}function Oj(t){return Pj[t]}function Ui(t){return{fieldPath:t.canonicalString()}}function Bi(t){return St.fromServerFormat(t.fieldPath)}function nI(t){return t instanceof We?function(n){if(n.op==="=="){if(t0(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NAN"}};if(e0(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t0(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NAN"}};if(e0(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(n.field),op:Mj(n.op),value:n.value}}}(t):t instanceof hn?function(n){const r=n.getFilters().map(i=>nI(i));return r.length===1?r[0]:{compositeFilter:{op:Oj(n.op),filters:r}}}(t):ne()}function rI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,r,i,s=te.min(),o=te.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.ct=e}}function Fj(t){const e=Dj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.un=new Bj}addToCollectionParentIndex(e,n){return this.un.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Fr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class Bj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bs(0)}static kn(){return new bs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wo(r.mutation,i,_r.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ao();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Br();const o=Ho(),a=function(){return Ho()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Pc)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Wo(h.mutation,c,h.mutation.getFieldMask(),rt.now())):o.set(c.key,_r.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return a.set(c,new $j(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ho();let i=new ze((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||_r.empty();h=a.applyToLocalView(c,h),r.set(u,h);const p=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,p=U1();h.forEach(g=>{if(!s.has(g)){const y=G1(n.get(g),r.get(g));y!==null&&p.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(ui());let a=-1,u=s;return o.next(c=>j.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,he())).next(h=>({batchId:a,changes:lj(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Ao();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ao();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,u=>{const c=function(p,g){return new Hs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Tt.newInvalidDocument(h)))});let a=Ao();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Wo(h.mutation,c,_r.empty(),rt.now()),xc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ps(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Fj(i.bundledQuery),readTime:ps(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.overlays=new ze(J.comparator),this.Ir=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ui();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=ui(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=ui(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ui(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return j.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wj(n,r));let s=this.Ir.get(n);s===void 0&&(s=he(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Tr=new ut(et.Er),this.dr=new ut(et.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new et(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new et(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new J(new Ne([])),r=new et(n,e),i=new et(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new J(new Ne([])),r=new et(n,e),i=new et(n,e+1);let s=he();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||pe(e.wr,n.wr)}static Ar(e,n){return pe(e.wr,n.wr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ut(et.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _j(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(pe);return n.forEach(i=>{const s=new et(i,0),o=new et(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new et(new J(s),0);let a=new ut(pe);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),j.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(n.mutations,i=>{const s=new et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new et(n,0),i=this.br.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.Mr=e,this.docs=function(){return new ze(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Br();const o=n.path,a=new J(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||jO(OO(h),r)<=0||(i.has(h.key)||xc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Xj(this)}getSize(e){return j.resolve(this.size)}}class Xj extends zj{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.persistence=e,this.Nr=new Ws(n=>Cm(n),Pm),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bm,this.targetCount=0,this.kr=bs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new bs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Kn(n),j.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Tm(0),this.Kr=!1,this.Kr=!0,this.$r=new Wj,this.referenceDelegate=e(this),this.Ur=new Jj(this),this.indexManager=new Uj,this.remoteDocumentCache=function(i){return new Qj(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new jj(n),this.Gr=new Gj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Kj(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new Zj(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Zj extends UO{constructor(e){super(),this.currentSequenceNumber=e}}class Dm{constructor(e){this.persistence=e,this.Jr=new bm,this.Yr=null}static Zr(e){return new Dm(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{const i=J.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WA()?8:BO(xt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new e2;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(_o()<=oe.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Fi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(_o()<=oe.DEBUG&&W("QueryEngine","Query:",Fi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(_o()<=oe.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Fi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(n))):j.resolve())}Yi(e,n){if(s0(n))return j.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cf(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Cf(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return s0(n)||i.isEqual(te.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?j.resolve(null):(_o()<=oe.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fi(n)),this.rs(e,o,n,MO(i,-1)).next(a=>a))})}ts(e,n){let r=new ut(j1(e));return n.forEach((i,s)=>{xc(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return _o()<=oe.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Fi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ze(pe),this._s=new Ws(s=>Cm(s),Pm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function r2(t,e,n,r){return new n2(t,e,n,r)}async function iI(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=he();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function sI(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function i2(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,p)=>{const g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(P,D,C){return P.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=Br(),c=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(s2(s,o,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(te.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function s2(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Br();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function o2(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new wr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function bf(t,e,n){const r=ue(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Oa(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function g0(t,e,n){const r=ue(t);let i=te.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const p=ue(u),g=p._s.get(h);return g!==void 0?j.resolve(p.os.get(g)):p.Ur.getTargetData(c,h)}(r,o,Sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:he())).next(a=>(a2(r,sj(e),a),{documents:a,Ts:s})))}function a2(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class y0{constructor(){this.activeTargetIds=hj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l2{constructor(){this.so=new y0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new y0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=null;function Yh(){return Rl===null?Rl=function(){return 268435456+Math.round(2147483648*Math.random())}():Rl++,"0x"+Rl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class d2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Yh(),u=this.xo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(h=>(W("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw As("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=c2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Yh();return new Promise((o,a)=>{const u=new E1;u.setWithCredentials(!0),u.listenOnce(T1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ql.NO_ERROR:const h=u.getResponseJson();W(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Ql.TIMEOUT:W(_t,`RPC '${e}' ${s} timed out`),a(new H(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ql.HTTP_ERROR:const p=u.getStatus();if(W(_t,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const E=function(D){const C=D.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(C)>=0?C:U.UNKNOWN}(y.status);a(new H(E,y.message))}else a(new H(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(U.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{W(_t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);W(_t,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Yh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=x1(),a=I1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");W(_t,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=o.createWebChannel(h,u);let g=!1,y=!1;const E=new h2({Io:D=>{y?W(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(g||(W(_t,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),W(_t,`RPC '${e}' stream ${i} sending:`,D),p.send(D))},To:()=>p.close()}),P=(D,C,_)=>{D.listen(C,T=>{try{_(T)}catch(b){setTimeout(()=>{throw b},0)}})};return P(p,Po.EventType.OPEN,()=>{y||(W(_t,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),P(p,Po.EventType.CLOSE,()=>{y||(y=!0,W(_t,`RPC '${e}' stream ${i} transport closed`),E.So())}),P(p,Po.EventType.ERROR,D=>{y||(y=!0,As(_t,`RPC '${e}' stream ${i} transport errored:`,D),E.So(new H(U.UNAVAILABLE,"The operation could not be completed")))}),P(p,Po.EventType.MESSAGE,D=>{var C;if(!y){const _=D.data[0];je(!!_);const T=_,b=T.error||((C=T[0])===null||C===void 0?void 0:C.error);if(b){W(_t,`RPC '${e}' stream ${i} received error:`,b);const M=b.status;let O=function(S){const x=qe[S];if(x!==void 0)return W1(x)}(M),I=b.message;O===void 0&&(O=U.INTERNAL,I="Unknown error status: "+M+" with message "+b.message),y=!0,E.So(new H(O,I)),p.close()}else W(_t,`RPC '${e}' stream ${i} received:`,_),E.bo(_)}}),P(a,S1.STAT_EVENT,D=>{D.stat===wf.PROXY?W(_t,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===wf.NOPROXY&&W(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Zh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){return new Aj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new oI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new H(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p2 extends f2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=kj(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?ps(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=m0(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=If(u)?{documents:Nj(s,u)}:{query:bj(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=X1(s,o.resumeToken);const c=Rf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=kf(s,o.snapshotVersion.toTimestamp());const c=Rf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Vj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=m0(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Nf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(U.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Nf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class g2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wn(n),this.D_=!1):W("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ba(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ue(u);c.L_.add(4),await Ua(c),c.q_.set("Unknown"),c.L_.delete(4),await kc(c)}(this))})}),this.q_=new g2(r,i)}}async function kc(t){if(Ba(t))for(const e of t.B_)await e(!0)}async function Ua(t){for(const e of t.B_)await e(!1)}function aI(t,e){const n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),jm(n)?Om(n):Ks(n).r_()&&Mm(n,e))}function Lm(t,e){const n=ue(t),r=Ks(n);n.N_.delete(e),r.r_()&&lI(n,e),n.N_.size===0&&(r.r_()?r.o_():Ba(n)&&n.q_.set("Unknown"))}function Mm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ks(t).A_(e)}function lI(t,e){t.Q_.xe(e),Ks(t).R_(e)}function Om(t){t.Q_=new Ij({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ks(t).start(),t.q_.v_()}function jm(t){return Ba(t)&&!Ks(t).n_()&&t.N_.size>0}function Ba(t){return ue(t).L_.size===0}function uI(t){t.Q_=void 0}async function v2(t){t.q_.set("Online")}async function _2(t){t.N_.forEach((e,n)=>{Mm(t,e)})}async function w2(t,e){uI(t),jm(t)?(t.q_.M_(e),Om(t)):t.q_.set("Unknown")}async function E2(t,e,n){if(t.q_.set("Online"),e instanceof Q1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _0(t,r)}else if(e instanceof Jl?t.Q_.Ke(e):e instanceof K1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{const r=await sI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),lI(s,u);const p=new wr(h.target,u,c,h.sequenceNumber);Mm(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await _0(t,r)}}async function _0(t,e,n){if(!Oa(e))throw e;t.L_.add(1),await Ua(t),t.q_.set("Offline"),n||(n=()=>sI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await kc(t)})}async function w0(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Ba(n);n.L_.add(3),await Ua(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await kc(n)}async function T2(t,e){const n=ue(t);e?(n.L_.delete(2),await kc(n)):e||(n.L_.add(2),await Ua(n),n.q_.set("Unknown"))}function Ks(t){return t.K_||(t.K_=function(n,r,i){const s=ue(n);return s.w_(),new p2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:v2.bind(null,t),Ro:_2.bind(null,t),mo:w2.bind(null,t),d_:E2.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),jm(t)?Om(t):t.q_.set("Unknown")):(await t.K_.stop(),uI(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Fm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cI(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),Oa(t))return new H(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Ao(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new ms(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ms;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.W_=new ze(J.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ds{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ds(e,n,ms.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class I2{constructor(){this.queries=T0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ue(n),s=i.queries;i.queries=T0(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new H(U.ABORTED,"Firestore shutting down"))}}function T0(){return new Ws(t=>O1(t),Ic)}async function x2(t,e){const n=ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new S2,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=cI(o,`Initialization of query '${Fi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Um(n)}async function C2(t,e){const n=ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function P2(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Um(n)}function A2(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Um(t){t.Y_.forEach(e=>{e.next()})}var Df,S0;(S0=Df||(Df={})).ea="default",S0.Cache="cache";class R2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ds(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Df.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.key=e}}class dI{constructor(e){this.key=e}}class k2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=he(),this.mutatedKeys=he(),this.Aa=j1(e),this.Ra=new ms(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new E0,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const g=i.get(h),y=xc(this.query,p)?p:null,E=!!g&&this.mutatedKeys.has(g.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let D=!1;g&&y?g.data.isEqual(y.data)?E!==P&&(r.track({type:3,doc:y}),D=!0):this.ga(g,y)||(r.track({type:2,doc:y}),D=!0,(u&&this.Aa(y,u)>0||c&&this.Aa(y,c)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),D=!0):g&&!y&&(r.track({type:1,doc:g}),D=!0,(u||c)&&(a=!0)),D&&(y?(o=o.add(y),s=P?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,p)=>function(y,E){const P=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return P(y)-P(E)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Ds(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new E0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=he(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new dI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new hI(r))}),n}ba(e){this.Ta=e.Ts,this.da=he();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ds.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class N2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class b2{constructor(e){this.key=e,this.va=!1}}class D2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ws(a=>O1(a),Ic),this.Ma=new Map,this.xa=new Set,this.Oa=new ze(J.comparator),this.Na=new Map,this.La=new bm,this.Ba={},this.ka=new Map,this.qa=bs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function V2(t,e,n=!0){const r=yI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await fI(r,e,n,!0),i}async function L2(t,e){const n=yI(t);await fI(n,e,!0,!1)}async function fI(t,e,n,r){const i=await o2(t.localStore,Sn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await M2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&aI(t.remoteStore,i),a}async function M2(t,e,n,r,i){t.Ka=(p,g,y)=>async function(P,D,C,_){let T=D.view.ma(C);T.ns&&(T=await g0(P.localStore,D.query,!1).then(({documents:I})=>D.view.ma(I,T)));const b=_&&_.targetChanges.get(D.targetId),M=_&&_.targetMismatches.get(D.targetId)!=null,O=D.view.applyChanges(T,P.isPrimaryClient,b,M);return x0(P,D.targetId,O.wa),O.snapshot}(t,p,g,y);const s=await g0(t.localStore,e,!0),o=new k2(e,s.Ts),a=o.ma(s.documents),u=Fa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);x0(t,n,c.wa);const h=new N2(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function O2(t,e,n){const r=ue(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ic(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lm(r.remoteStore,i.targetId),Vf(r,i.targetId)}).catch(Em)):(Vf(r,i.targetId),await bf(r.localStore,i.targetId,!0))}async function j2(t,e){const n=ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lm(n.remoteStore,r.targetId))}async function pI(t,e){const n=ue(t);try{const r=await i2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?je(o.va):i.removedDocuments.size>0&&(je(o.va),o.va=!1))}),await gI(n,r,e)}catch(r){await Em(r)}}function I0(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ue(o);u.onlineState=a;let c=!1;u.queries.forEach((h,p)=>{for(const g of p.j_)g.Z_(a)&&(c=!0)}),c&&Um(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F2(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new ze(J.comparator);o=o.insert(s,Tt.newNoDocument(s,te.min()));const a=he().add(s),u=new Ac(te.min(),new Map,new ze(pe),o,a);await pI(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Bm(r)}else await bf(r.localStore,e,!1).then(()=>Vf(r,e,n)).catch(Em)}function Vf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||mI(t,r)})}function mI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Lm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Bm(t))}function x0(t,e,n){for(const r of n)r instanceof hI?(t.La.addReference(r.key,e),U2(t,r)):r instanceof dI?(W("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||mI(t,r.key)):ne()}function U2(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(W("SyncEngine","New document in limbo: "+n),t.xa.add(r),Bm(t))}function Bm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new J(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new b2(n)),t.Oa=t.Oa.insert(n,r),aI(t.remoteStore,new wr(Sn(L1(n.path)),r,"TargetPurposeLimboResolution",Tm.oe))}}async function gI(t,e,n){const r=ue(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=Vm.Wi(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const h=ue(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(c,g=>j.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>j.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Oa(p))throw p;W("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const y=h.os.get(g),E=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(g,P)}}}(r.localStore,s))}async function B2(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await iI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new H(U.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gI(n,r.hs)}}function z2(t,e){const n=ue(t),r=n.Na.get(e);if(r&&r.va)return he().add(r.key);{let i=he();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function yI(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F2.bind(null,e),e.Ca.d_=P2.bind(null,e.eventManager),e.Ca.$a=A2.bind(null,e.eventManager),e}class Hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return r2(this.persistence,new t2,e.initialUser,this.serializer)}Ga(e){return new Yj(Dm.Zr,this.serializer)}Wa(e){return new l2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hu.provider={build:()=>new Hu};class Lf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B2.bind(null,this.syncEngine),await T2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I2}()}createDatastore(e){const n=Rc(e.databaseInfo.databaseId),r=function(s){return new d2(s)}(e.databaseInfo);return function(s,o,a,u){return new m2(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new y2(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>I0(this.syncEngine,n,0),function(){return v0.D()?new v0:new u2}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const p=new D2(i,s,o,a,u,c);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ue(i);W("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ua(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lf.provider={build:()=>new Lf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=VO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cI(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ed(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function C0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G2(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>w0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>w0(e.remoteStore,i)),t._onlineComponents=e}async function G2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await ed(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;As("Error using user provided cache. Falling back to memory cache: "+n),await ed(t,new Hu)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await ed(t,new Hu);return t._offlineComponents}async function H2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await C0(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await C0(t,new Lf))),t._onlineComponents}async function W2(t){const e=await H2(t),n=e.eventManager;return n.onListen=V2.bind(null,e.syncEngine),n.onUnlisten=O2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=j2.bind(null,e.syncEngine),n}function K2(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new $2({next:g=>{h.Za(),o.enqueueAndForget(()=>C2(s,p)),g.fromCache&&u.source==="server"?c.reject(new H(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new R2(a,h,{includeMetadataChanges:!0,_a:!0});return x2(s,p)}(await W2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e,n){if(!n)throw new H(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X2(t,e,n,r){if(e===!0&&r===!0)throw new H(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function A0(t){if(J.isDocumentKey(t))throw new H(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Mf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nc(t);throw new H(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CO;switch(r.type){case"firstParty":return new kO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=P0.get(n);r&&(W("ComponentProvider","Removing Datastore"),P0.delete(n),r.terminate())}(this),Promise.resolve()}}function J2(t,e,n,r={}){var i;const s=(t=Mf(t,zm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=wt.MOCK_USER;else{a=UA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wt(c)}t._authCredentials=new PO(new C1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class Yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class gs extends Ni{constructor(e,n,r){super(e,n,L1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new J(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function Of(t,e,...n){if(t=jt(t),Q2("collection","path",e),t instanceof zm){const r=Ne.fromString(e,...n);return A0(r),new gs(t,null,r)}{if(!(t instanceof Yn||t instanceof gs))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return A0(r),new gs(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new oI(this,"async_queue_retry"),this.Vu=()=>{const r=Zh();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Zh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Zh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new fi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Oa(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Fm.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class _I extends zm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new k0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function Y2(t,e){const n=typeof t=="object"?t:dT(),r=typeof t=="string"?t:e||"(default)",i=$p(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jA("firestore");s&&J2(i,...s)}return i}function Z2(t){if(t._terminated)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eF(t),t._firestoreClient}function eF(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new qO(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new q2(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vs(ht.fromBase64String(e))}catch(n){throw new H(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vs(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=/^__.*__$/;function TI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Gm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Gm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(TI(this.Cu)&&tF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rc(e)}Qu(e,n,r,i=!1){return new Gm({Cu:e,methodName:n,qu:r,path:St.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rF(t){const e=t._freezeSettings(),n=Rc(t._databaseId);return new nF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iF(t,e,n,r=!1){return Hm(n,t.Qu(r?4:3,e))}function Hm(t,e){if(SI(t=jt(t)))return oF("Unsupported field value:",e,t),sF(t,e);if(t instanceof EI)return function(r,i){if(!TI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Hm(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rt.fromDate(r);return{timestampValue:kf(i.serializer,s)}}if(r instanceof rt){const s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(i.serializer,s)}}if(r instanceof $m)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vs)return{bytesValue:X1(i.serializer,r._byteString)};if(r instanceof Yn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:J1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qm)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Am(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Nc(r)}`)}(t,e)}function sF(t,e){const n={};return P1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(t,(r,i)=>{const s=Hm(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function SI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof $m||t instanceof Vs||t instanceof Yn||t instanceof EI||t instanceof qm)}function oF(t,e,n){if(!SI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Nc(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}const aF=new RegExp("[~\\*/\\[\\]]");function lF(t,e,n){if(e.search(aF)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wI(...e.split("."))._internalPath}catch{throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(U.INVALID_ARGUMENT,a+t+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uF extends II{data(){return super.data()}}function bc(t,e){return typeof e=="string"?lF(t,e):e instanceof wI?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class xI extends Wm{}function Ff(t,e,...n){let r=[];e instanceof Wm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Km).length,a=s.filter(u=>u instanceof Dc).length;if(o>1||o>0&&a>0)throw new H(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Dc extends xI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Dc(e,n,r)}_apply(e){const n=this._parse(e);return PI(e._query,n),new Ni(e.firestore,e.converter,xf(e._query,n))}_parse(e){const n=rF(e.firestore);return function(s,o,a,u,c,h,p){let g;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){b0(p,h);const y=[];for(const E of p)y.push(N0(u,s,E));g={arrayValue:{values:y}}}else g=N0(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||b0(p,h),g=iF(a,o,p,h==="in"||h==="not-in");return We.create(c,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hF(t,e,n){const r=e,i=bc("where",t);return Dc._create(i,r,n)}class Km extends Wm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Km(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)PI(o,u),o=xf(o,u)}(e._query,n),new Ni(e.firestore,e.converter,xf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qm extends xI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qm(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ea(s,o)}(e._query,this._field,this._direction);return new Ni(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Hs(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function CI(t,e="asc"){const n=e,r=bc("orderBy",t);return Qm._create(r,n)}function N0(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M1(e)&&n.indexOf("/")!==-1)throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!J.isDocumentKey(r))throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Z_(t,new J(r))}if(n instanceof Yn)return Z_(t,n._key);throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nc(n)}.`)}function b0(t,e){if(!Array.isArray(t)||t.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dF{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ja(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Fe(o.doubleValue));return new qm(s)}convertGeoPoint(e){return new $m(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Im(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);je(rI(r));const i=new _a(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fF extends II{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yl extends fF{data(e={}){return super.data(e)}}class pF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yl(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Yl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Yl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:mF(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}class gF extends dF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,n)}}function AI(t){t=Mf(t,Ni);const e=Mf(t.firestore,_I),n=Z2(e),r=new gF(e);return cF(t._query),K2(n,t._query).then(i=>new pF(e,r,t,i))}(function(e,n=!0){(function(i){Gs=i})($s),Is(new wi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new _I(new AO(r.getProvider("auth-internal")),new bO(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),br(K_,"4.7.3",e),br(K_,"4.7.3","esm2017")})();const yF={apiKey:"AIzaSyDmHBrCoY-GKaYdZ2jQjFHq2i0hqsZlS_c",authDomain:"clsed-shop.firebaseapp.com",projectId:"clsed-shop",storageBucket:"clsed-shop.appspot.com",messagingSenderId:"333370405884",appId:"1:333370405884:web:ff8adfa33a0fb2ac13b879"},RI=hT(yF),Uf=Y2(RI),D0=QT(RI),Xm=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(null),[i,s]=R.useState(!1),[o,a]=R.useState(!1),u=QT(),c=async g=>{r(!0);try{const{user:y}=await sN(u,g.email,g.password);await lN(y,{displayName:g.name}),r(!1),s(!0)}catch(y){console.log(y);let E;y.message.includes("Password")?E="A senha precisa conter pelo menos 6 caracteres!":y.message.includes("email-already")?E="E-mail ja cadastrado!":y.message.includes("invalid-email")?E="E-mail invalido!":E="Ocorreu um erro, tente novamente mais tarde!",r(!1),e(E)}},h=async g=>{r(!0);try{await oN(u,g.email,g.password),r(!1)}catch(y){console.log(y);let E;y.message.includes("invalid-login")?E="Usuario ou senha incorreto(s)":E="Ocorreu um erro, por favor tente mais tarde",e(E),r(!1)}},p=async()=>{dN(u)};return R.useEffect(()=>()=>a(!0),[]),{createUser:c,error:t,loading:n,registered:i,setRegistered:s,login:h,logout:p}},Vc=()=>{let t=[];for(let e=1;e<10;e++)localStorage.getItem(`${e}`)&&t.push(localStorage.getItem(`${e}`));return{datas:t}},vF=t=>(localStorage.removeItem(t),!0),Jm=t=>{let e=0;return t.map(n=>e=JSON.parse(n).price*JSON.parse(n).amount+e),{totalValue:e}},kI=(t,e)=>({productData:{name:t.name,price:t.price,id:t.id,URLimage:t.URLimage,key:t.key,size:t.size,amount:Number.parseInt(e)}}),NI=(t,e)=>({productData:{name:t.name,price:t.price,id:t.id,URLimage:t.URLimage,key:t.key,size:t.size,amount:Number.parseInt(e)}}),Ls=(t,e)=>{if(localStorage.setItem(`${e}`,JSON.stringify(t)),JSON.parse(localStorage.getItem(`${e}`)))return!0},bi=()=>{const[t,e]=R.useState(!1),[n,r]=R.useState(!1),[i,s]=R.useState(!1),[o,a]=R.useState(!1),[u,c]=R.useState(!1),[h,p]=R.useState(null),[g,y]=R.useState([]),E=Up(),{user:P}=xb(),{logout:D}=Xm(),{datas:C}=Vc(),{totalValue:_}=Jm(C);R.useEffect(()=>{t?document.querySelector("body").classList.toggle("transparent"):document.querySelector("body").classList.remove("transparent")},[t]);const T=()=>{if(window.confirm("Deseja realmente sair?"))D();else return},b=N=>{if(N.preventDefault(),h)return E(`/search?q=${h.toLowerCase()}`);e(!1)},M=()=>{r(!n)},O=()=>{s(!i)},I=()=>{a(!o)},v=()=>{c(!u)},S=N=>{vF(N.key)&&window.location.reload()},x=N=>{let A=N.amount+1;const{productData:K}=kI(N,A);Ls(K,K.key),window.location.reload()},k=N=>{if(N.amount!=1){let A=N.amount-1;const{productData:K}=NI(N,A);Ls(K,K.key),window.location.reload()}};return R.useEffect(()=>{C.length==0?console.log("nao há items adicionados ao carrinho"):y(C)},[]),f.jsxs("div",{className:me.container_nav,children:[f.jsxs("nav",{className:me.desktop_nav,children:[P&&f.jsx(_e,{class:"menu-hamburguer",children:f.jsx("span",{style:{fontSize:"1em"},onClick:()=>M(),className:"material-symbols-outlined menu-hamburguer",children:"menu"})}),f.jsxs("div",{className:me.utilities,children:[f.jsxs("div",{onClick:()=>I(),className:me.utilities_card,children:[f.jsx("p",{children:" Loja Online "}),!o&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),o&&f.jsx("span",{class:"material-symbols-outlined",children:"expand_less"})]}),f.jsx("div",{className:me.utilities_card,children:f.jsx("p",{children:" Ajuda "})})]}),f.jsx(_e,{to:"/",children:f.jsxs("div",{className:me.logo,children:["CL ",f.jsx("span",{children:"SED"})]})}),f.jsxs("div",{className:me.container_icons,children:[!P&&f.jsx(_e,{to:"/login",children:f.jsx("span",{className:"material-symbols-outlined login",children:"account_circle"})}),!t&&P&&f.jsx(_e,{children:f.jsx("span",{onClick:()=>{e(!0)},className:"material-symbols-outlined search",children:"search"})}),t&&P&&f.jsx(f.Fragment,{children:f.jsxs("form",{onSubmit:b,children:[f.jsx("input",{onChange:N=>{p(N.target.value)},placeholder:"O que voce esta procurando?",className:me.query,type:"text"}),f.jsx("button",{type:"submit",className:"material-symbols-outlined search",children:"search"})]})}),P&&f.jsxs(f.Fragment,{children:[f.jsx(_e,{children:f.jsx("span",{onClick:()=>O(),className:"material-symbols-outlined shops",children:"shopping_cart"})}),f.jsx(_e,{children:f.jsx("span",{onClick:()=>T(),className:"material-symbols-outlined logout",children:"logout"})})]})]})]}),o&&f.jsx("nav",{className:me.utilities_modal,children:f.jsxs("ul",{children:[f.jsx(_e,{to:"/collection/all",children:f.jsx("li",{children:"Todas as Roupas"})}),f.jsx(_e,{to:"/collection/camiseta",children:f.jsx("li",{children:"Camisetas"})}),f.jsx(_e,{to:"/collection/moletom",children:f.jsx("li",{children:"Casacos e Jaquetas"})}),f.jsx(_e,{to:"/collection/bottom",children:f.jsx("li",{children:"Calças e Shorts"})}),f.jsx(_e,{to:"/collection/acessories",children:f.jsx("li",{children:"Acessórios"})})]})}),n&&f.jsxs("nav",{className:me.mobile_nav,children:[f.jsxs("div",{className:me.navMobile_header,children:[f.jsxs("form",{onSubmit:b,children:[f.jsx("input",{onChange:N=>{p(N.target.value)},placeholder:"Pesquisa",className:me.mobileQuery,type:"text"}),f.jsx("button",{type:"submit",className:"material-symbols-outlined ",children:"search"})]}),f.jsx(_e,{children:f.jsx("span",{onClick:()=>M(),className:"material-symbols-outlined shops",children:"close"})})]}),!u&&f.jsxs("div",{className:me.navMobile_info,children:[f.jsxs("div",{onClick:()=>v(),className:me.navMobile_card,children:[f.jsx("p",{children:" Loja Online "})," ",f.jsx("span",{children:">"})]}),f.jsx("div",{className:me.navMobile_card,children:f.jsx("p",{children:" Lojas Físicas "})}),f.jsxs("div",{className:me.navMobile_card,children:[f.jsx("p",{children:" Ajuda "})," ",f.jsxs("span",{children:[" ",">"," "]})]})]}),u&&f.jsxs("div",{className:me.utilities_Nav,children:[f.jsxs("div",{onClick:()=>v(),className:me.navMobile_card,children:[f.jsx("p",{children:" Loja Online "})," ",f.jsx("span",{children:"<"})]}),f.jsxs("ul",{children:[f.jsx(_e,{to:"/collection/all",children:f.jsx("li",{children:"Todas as Roupas"})}),f.jsx(_e,{to:"/collection/camiseta",children:f.jsx("li",{children:"Camisetas"})}),f.jsx(_e,{to:"/collection/moletom",children:f.jsx("li",{children:"Casacos e Jaquetas"})}),f.jsx(_e,{to:"/collection/bottom",children:f.jsx("li",{children:"Calças e Shorts"})}),f.jsx(_e,{to:"/collection/acessories",children:f.jsx("li",{children:"Acessórios"})})]}),f.jsx("div",{className:me.navMobile_card,children:f.jsx("p",{children:" Lojas Físicas "})}),f.jsxs("div",{className:me.navMobile_card,children:[f.jsx("p",{children:" Ajuda "})," ",f.jsxs("span",{children:[" ",">"," "]})]})]})]}),i&&f.jsxs("nav",{className:me.mobile_navShop,children:[f.jsxs("div",{className:me.shop_header,children:[f.jsx("h2",{children:"Carrinho"}),f.jsx(_e,{children:f.jsx("span",{onClick:()=>O(),className:"material-symbols-outlined shops",children:"close"})})]}),f.jsx("div",{className:me.shop_itens,children:g&&g.map(N=>f.jsxs("div",{className:me.shop_card,children:[f.jsxs("div",{className:me.shop_cardMain,children:[f.jsx("div",{className:me.card_image,children:f.jsx("img",{src:JSON.parse(N).URLimage,alt:"product"})}),f.jsxs("div",{className:me.card_info,children:[f.jsxs("h4",{children:[" ",JSON.parse(N).name," "]}),f.jsxs("p",{children:["R$",JSON.parse(N).price,".00  "]}),f.jsxs("p",{children:["Tamanho: ",JSON.parse(N).size]})]})]}),f.jsxs("div",{className:me.shop_cardBtn,children:[f.jsxs("div",{class:"quantity",children:[f.jsx("button",{style:{width:"29px"},onClick:()=>k(JSON.parse(N)),children:"-"}),f.jsx("input",{style:{width:"22px"},value:JSON.parse(N).amount,class:"quantity",id:"quantity",min:"0",name:"quantity",type:"number"}),f.jsx("button",{style:{width:"29px"},onClick:()=>x(JSON.parse(N)),children:"+"})]}),f.jsx("a",{onClick:()=>{S(JSON.parse(N))},children:" Retirar "})]})]},JSON.parse(N).key))}),f.jsx("div",{className:me.shop_summary,children:C.length==0?f.jsx("p",{children:"Não há items adicionados ao carrinho!"}):f.jsxs(f.Fragment,{children:[" ",f.jsxs("p",{children:[" Seu subtotal hoje é R$ ",_,",00. Taxas e frete calculados na próxima pagina."]}),f.jsx(_e,{to:"/cart",children:f.jsx("button",{children:" Compre Já"})})]})})]}),i&&f.jsx("div",{onClick:O,className:me.cartEscapeArea})]})},Ym=(t,e=null)=>{const[n,r]=R.useState([]),[i,s]=R.useState(""),[o,a]=R.useState(""),[u,c]=R.useState(!1);return R.useEffect(()=>{(async p=>{if(!u){s(!0);try{let g,y=[];e?g=Ff(Of(Uf,t),hF("queryName","array-contains",e)):g=Ff(Of(Uf,t),CI("idProduct")),(await AI(g)).forEach(P=>{y.push(P.data()),r(y)}),s(!1)}catch(g){console.log(g.message),a(g.message),s(!1)}}})()},[e]),R.useEffect(()=>()=>c(!0),[]),{datas:n,loading:i,error:o}},_F=()=>{const[t,e]=R.useState(0),[n,r]=R.useState("left"),[i,s]=R.useState([]),{datas:o,loading:a,error:u}=Ym("products"),c={hiddenRight:{x:"20%",opacity:.6},hiddenLeft:{x:"-20%",opacity:.6},visible:{x:"0",opacity:1,transition:{duration:.4}},exit:{opacity:0,scale:.1,display:"none",transition:{duration:0}}};R.useEffect(()=>{s(["https://cdn.vox-cdn.com/thumbor/Gzz0B3GqZRXvAqphlWA5pUifZGM=/88x0:1509x1066/1200x675/filters:focal(88x0:1509x1066)/cdn.vox-cdn.com/uploads/chorus_image/image/50128435/wmns9.0.0.jpg","https://uncoverla.sfo3.digitaloceanspaces.com/wp-content/uploads/2019/10/29125942/fred-segal-stadium-goods-pop-up-west-hollywood_2019_10_02-scaled.jpg","https://images.the500hiddensecrets.com/2019-03/new_york-shop-kith.jpg?auto=format&fit=max&h=1080&ixlib=php-1.1.0&q=65&w=1920&s=1e89fe8a766debb0395ac9625bcbacfa","https://images.405magazine.com/wp-content/uploads/2022/02/img-5630-scaled-1.jpg"])},[]),R.useEffect(()=>{let g="",y="";document.querySelectorAll("#productCard").forEach(E=>{E.addEventListener("mouseover",()=>{o.map(P=>{if(P.idProduct==E.dataset.id){g=P.CarrouselIMG[1];return}}),E.querySelector(".cardImg").src=g})}),document.querySelectorAll("#productCard").forEach(E=>{E.addEventListener("mouseout",()=>{o.map(P=>{if(P.idProduct==E.dataset.id){y=P.CarrouselIMG[0];return}}),E.querySelector(".cardImg").src=y})})});function h(){r("left"),e(g=>g+1===i.length?0:g+1)}function p(){r("right"),e(g=>g-1<0?i.length-1:g-1)}return f.jsxs(f.Fragment,{children:[f.jsx(bi,{}),f.jsxs("div",{className:ir.advertisement_container,children:[f.jsx("span",{onClick:()=>p(),class:"material-symbols-outlined back",children:"arrow_back"}),f.jsx(_1,{children:f.jsx(y1.img,{variants:c,initial:n==="right"?"hiddenRight":"hiddenLeft",animate:"visible",exit:"exit",src:i[t],alt:"camiseta"},t)}),f.jsxs("div",{className:ir.title,children:[f.jsx("p",{children:"WELCOME TO CLSEED SHOP"}),f.jsx("h1",{children:" CLSEED SHOP NEW COLLECTION 2024"}),f.jsx(_e,{to:"/collection/all",className:ir.show_more,children:" Ver Produtos"})]}),f.jsx("span",{onClick:()=>h(),class:"material-symbols-outlined forward",children:"arrow_forward"})]}),f.jsxs("div",{className:ir.shop_container,children:[f.jsx("h1",{children:"Shop"}),f.jsx("div",{className:ir.card_container,children:o.map(g=>f.jsx(_e,{to:`/products/${g.idProduct}`,id:"productCard","data-id":g.idProduct,children:f.jsxs("div",{className:ir.card,children:[f.jsx("div",{className:ir.img_card,children:f.jsx("img",{class:"cardImg",src:g.URLimage,alt:"camiseta"})}),f.jsxs("p",{className:ir.data_name,children:[" ",g.name]}),f.jsxs("p",{children:[" R$",g.price,",00"]})]},g.idProduct)}))})]})]})},wF="_form_container_l258t_1",EF={form_container:wF},TF=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(null),{login:i,error:s,loading:o}=Xm(),[a,u]=R.useState(""),c=async h=>{h.preventDefault(),u(""),await i({email:t,password:n}),u(s)};return f.jsxs(f.Fragment,{children:[f.jsx(bi,{}),f.jsxs("div",{className:EF.form_container,children:[f.jsx("h1",{children:"Login"}),f.jsxs("form",{onSubmit:c,children:[f.jsx("input",{onChange:h=>{e(h.target.value)},name:"email",placeholder:"Digite seu E-mail",type:"email"}),f.jsx("input",{onChange:h=>{r(h.target.value)},name:"password",placeholder:"Digite sua senha",type:"password"}),f.jsx("button",{type:"submit",children:"Entrar"}),f.jsxs(_e,{to:"/register",children:[" ",f.jsx("span",{children:" Criar Conta"})]}),a&&f.jsx("p",{className:"error",children:a})]})]})]})},SF="_product_container_1di97_1",IF="_img_container_1di97_21",xF="_apresentation_1di97_69",CF="_product_info_1di97_91",PF="_buyNow_1di97_105",AF="_addShop_1di97_137",sr={product_container:SF,img_container:IF,apresentation:xF,product_info:CF,buyNow:PF,addShop:AF},RF=(t,e=null,n)=>{const[r,i]=R.useState(""),[s,o]=R.useState(""),[a,u]=R.useState(""),[c,h]=R.useState(""),[p,g]=R.useState(!1);return R.useEffect(()=>{(async()=>{if(!p){o(!0);try{let E;e||(E=Ff(Of(Uf,"products"),CI("idProduct"))),(await AI(E)).forEach(D=>{if(D.data().idProduct==n){i(D.data());let _=D.data().CarrouselIMG;h(_[0])}}),o(!1)}catch(E){console.log(E),u(E.message),o(!1)}}})()},[t,p,e]),R.useEffect(()=>()=>g(!0),[]),{data:r,loading:s,error:a,image:c}},kF="_discount_container_m2or3_1",NF={discount_container:kF},bF=()=>f.jsx("div",{className:NF.discount_container,children:f.jsx("p",{children:" Frete grátis em compras acima de R$500 | 10% OFF em pagamentos no PIX. "})}),DF=t=>{let e=[];return t.map(r=>e.push(JSON.parse(r).key)),{counterValue:e[e.length-1]}},VF=(t,e)=>{let n=[],r=t.id+t.size;return e.map(i=>n.push(JSON.parse(i).id+JSON.parse(i).size)),!!n.includes(r)},LF=(t,e)=>{let n=[],r;return e.map(i=>n.push({id:JSON.parse(i).id,size:JSON.parse(i).size,key:JSON.parse(i).key,lastAmount:JSON.parse(i).amount})),n.map(i=>{i.id==t.id&&i.size==t.size&&(r={key:i.key,lastAmount:i.lastAmount})}),{infoObj:r}},MF=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(null),[i,s]=R.useState(null),[o,a]=R.useState([]),[u,c]=R.useState(null),[h,p]=R.useState(0),[g,y]=R.useState("left"),{id:E}=ZE(),{data:P,loading:D,error:C,image:_}=RF("products",null,E);R.useEffect(()=>{a(P.CarrouselIMG)});const{datas:T}=Vc(),{counterValue:b}=DF(T),M={hiddenRight:{x:"30%",opacity:0},hiddenLeft:{x:"-30%",opacity:0},visible:{x:"0",opacity:1,transition:{duration:1}},exit:{opacity:0,scale:.1,display:"none",transition:{duration:0}}},O=x=>{switch(x.preventDefault(),x.nativeEvent.submitter.value){case"addShop":I();break}};function I(){var x;T.length==0?x=T.length+1:x=b+1;const k={name:P.name,price:P.price,id:P.idProduct,URLimage:P.URLimage,key:x,size:t,amount:Number.parseInt(n)};if(!t)s("Por favor selecione o tamanho.");else if(!n)s("Por favor selecione a quantidade.");else if(VF(k,T)){let{infoObj:N}=LF(k,T),A=Number.parseInt(N.lastAmount)+Number.parseInt(n);const K={name:P.name,price:P.price,id:P.idProduct,URLimage:P.URLimage,key:N.key,size:t,amount:A};console.log(K),Ls(K,N.key)&&window.location.reload()}else s(null),Ls(k,x)&&window.location.reload()}function v(){c(!0),y("left"),p(x=>x+1===o.length?0:x+1)}function S(){c(!0),y("right"),p(x=>x-1<0?o.length-1:x-1)}return f.jsxs("div",{children:[f.jsx(bi,{}),f.jsx(bF,{}),f.jsxs("div",{className:sr.product_container,children:[f.jsxs("div",{className:sr.img_container,children:[f.jsx("span",{onClick:()=>S(),class:"material-symbols-outlined back",children:"arrow_back"}),u&&f.jsx(_1,{children:f.jsx(y1.img,{variants:M,initial:g==="right"?"hiddenRight":"hiddenLeft",animate:"visible",exit:"exit",src:o[h],alt:"camiseta"},h)}),!u&&f.jsx("img",{src:_,alt:"camiseta"}),!_&&f.jsx("p",{children:"Carregando imagem..."}),f.jsx("span",{onClick:()=>v(),class:"material-symbols-outlined forward",children:"arrow_forward"})]}),f.jsxs("div",{className:sr.product_info,children:[f.jsxs("div",{className:sr.product_header,children:[f.jsxs("h2",{children:[" ",P.name]}),f.jsxs("span",{children:["R$",P.price,",00"]})]}),f.jsxs("div",{className:sr.product_description,children:[f.jsx("h2",{children:"Descrição"}),f.jsx("p",{children:" Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni voluptas ut mollitia commodi dolorum. Eveniet adipisci modi saepe obcaecati aliquam vero, dolores molestias earum rerum nemo, ab tempore omnis odit! Lorem ipsum dolor sit amet consectetur adipisicing elit."})]}),f.jsxs("form",{onSubmit:O,children:[f.jsxs("label",{children:[f.jsx("p",{children:"Tamanho"}),f.jsxs("select",{onChange:x=>e(x.target.value),name:"sizes",id:"sizes",children:[f.jsx("option",{value:"P/S",children:"-"}),f.jsx("option",{value:"P/S",children:"P/S"}),f.jsx("option",{value:"M",children:"M"}),f.jsx("option",{value:"G/L",children:"G/L"}),f.jsx("option",{value:"GG/XL",children:"GG/XL"})]})]}),f.jsxs("label",{children:[f.jsx("p",{children:"Quantidade"}),f.jsx("input",{onChange:x=>r(x.target.value),min:0,type:"number",name:"amount",id:"amount"})]}),f.jsx("button",{value:"buyNow",className:sr.buyNow,type:"submit",children:"Compre já"}),f.jsx("button",{value:"addShop",className:sr.addShop,type:"submit",children:"Adicionar ao carrinho"}),i&&f.jsxs("p",{children:[" ",i]})]})]})]}),f.jsxs("div",{className:sr.apresentation,children:[f.jsx("p",{children:"Mais que uma marca..."}),f.jsx("p",{children:"Somos referencia no streetwear nacional desde 2015"}),f.jsx("p",{children:"Vestimos alguns dos artistas e criadores mais influentes do momento"}),f.jsx("p",{children:"Mais de 20mil pedidos enviados para o mundo inteiro"}),f.jsx("p",{children:"Produtos de qualidade feitos para durarem décadas"}),f.jsx("p",{children:"Mais de 2mil membros ativos no Captive Club"})]})]})},OF="_form_container_1iamg_1",jF="_registered_1iamg_141",V0={form_container:OF,registered:jF},FF=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,s]=R.useState(""),[o,a]=R.useState(""),{createUser:u,error:c,loading:h,registered:p,setRegistered:g}=Xm(),[y,E]=R.useState(null),P=async D=>{D.preventDefault(),E("");const C={name:t,email:n,password:i};if(i!==o){E("As senhas precisam ser iguais!");return}await u(C)};return R.useEffect(()=>{p&&setTimeout(()=>{e(""),r(""),s(""),a(""),g(!1)},2e3)},[p]),R.useEffect(()=>{c&&E(c)},[c]),f.jsxs(f.Fragment,{children:[f.jsx(bi,{}),f.jsxs("div",{className:V0.form_container,children:[f.jsx("h1",{children:"Crie sua Conta"}),f.jsxs("form",{onSubmit:P,children:[f.jsx("input",{value:t,onChange:D=>{e(D.target.value)},name:"name",placeholder:"Digite seu Nome",type:"text"}),f.jsx("input",{value:n,onChange:D=>{r(D.target.value)},name:"email",placeholder:"Digite seu E-mail",type:"email"}),f.jsx("input",{value:i,onChange:D=>{s(D.target.value)},name:"password",placeholder:"Digite sua senha",type:"password"}),f.jsx("input",{value:o,onChange:D=>{a(D.target.value)},name:"password",placeholder:"Confirme sua senha",type:"password"}),!h&&f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"btn",children:"Criar Conta"}),f.jsx(_e,{to:"/login",children:"Voltar"})]}),h&&f.jsx("button",{disabled:!0,className:"btn",children:"Aguarde ..."}),y&&f.jsxs("p",{className:"error",children:[" ",y]}),p&&f.jsx("p",{className:V0.registered,children:" Cadastro Confirmado!"})]})]})]})},UF=()=>{const{search:t}=zs();return R.useMemo(()=>new URLSearchParams(t),[t])},BF="_search_container_fcpu3_3",zF="_filter_container_fcpu3_17",$F="_filterMobile_modal_fcpu3_25",qF="_filterModalSlide_fcpu3_1",GF="_filterCheck_fcpu3_85",HF="_filterMobile_container_fcpu3_133",WF="_filter_price_fcpu3_135",KF="_filter_Header_fcpu3_161",QF="_filter_Card_fcpu3_203",XF="_filterCheckDeskTopNavSlide_fcpu3_1",JF="_filterPriceDeskTopNavSlide_fcpu3_1",YF="_search_fcpu3_3",ZF="_card_container_fcpu3_415",eU="_product_Card_fcpu3_437",tU="_productsQuery_container_fcpu3_445",nU="_productCardEntry_fcpu3_1",rU="_data_name_fcpu3_519",iU="_logo_fcpu3_539",sU="_react_fcpu3_577",oU="_NotFound_product_fcpu3_585",aU="_notFoundMobile_fcpu3_1",lU="_filterOn_fcpu3_595",uU="_notFound_fcpu3_1",cU="_opacityShow_fcpu3_1",ve={search_container:BF,filter_container:zF,filterMobile_modal:$F,filterModalSlide:qF,filterCheck:GF,filterMobile_container:HF,filter_price:WF,filter_Header:KF,filter_Card:QF,filterCheckDeskTopNavSlide:XF,filterPriceDeskTopNavSlide:JF,search:YF,card_container:ZF,product_Card:eU,productsQuery_container:tU,productCardEntry:nU,data_name:rU,logo:iU,"logo-spin":"_logo-spin_fcpu3_1",react:sU,NotFound_product:oU,notFoundMobile:aU,filterOn:lU,notFound:uU,opacityShow:cU},hU=()=>{const[t,e]=R.useState([1]),[n,r]=R.useState(null),[i,s]=R.useState([]),[o,a]=R.useState([]),[u,c]=R.useState(null),[h,p]=R.useState(!1),[g,y]=R.useState(!1),[E,P]=R.useState(!1),[D,C]=R.useState(!1),[_,T]=R.useState(!1),[b,M]=R.useState(!1),[O,I]=R.useState(null),[v,S]=R.useState(0),[x,k]=R.useState(349),A=UF().get("q"),{datas:K,loading:re,error:dt}=Ym("products",A);R.useEffect(()=>{A&&(r(A),console.log(n))},[A]),R.useEffect(()=>{n&&A&&n!==A&&window.location.reload()},[A]),R.useEffect(()=>{e(re)}),R.useEffect(()=>{K.length>0&&s(K)},[K]);let Ee=[],z="",Q="";document.querySelectorAll("#productCard").forEach(q=>{q.addEventListener("mouseover",()=>{K.map(B=>{if(B.idProduct==q.dataset.id){z=B.CarrouselIMG[1];return}}),q.querySelector(".cardImg").src=z})}),document.querySelectorAll("#productCard").forEach(q=>{q.addEventListener("mouseout",()=>{K.map(B=>{if(B.idProduct==q.dataset.id){Q=B.CarrouselIMG[0];return}}),q.querySelector(".cardImg").src=Q})});const Y=()=>{E?(P(!1),s(K)):P(!0)},X=()=>{h?(p(!1),s(K)):p(!0)},ie=()=>{g?(y(!1),I(null)):y(!0)},ge=()=>{b?(document.querySelector("body").classList.remove("transparent2"),M(!1)):(document.querySelector("body").classList.toggle("transparent2"),M(!0))},Xe=()=>{const q=document.querySelector("body");D?(q.classList.remove("transparent2"),C(!1)):(q.classList.toggle("transparent2"),C(!0))},Je=()=>{_?(document.querySelector("body").classList.remove("transparent2"),T(!1)):(document.querySelector("body").classList.toggle("transparent2"),T(!0))},$e=()=>{c(null),s(K)},Te=q=>{Ee.includes(q)?Ee.length==1?Ee.pop():Ee.map(ae=>{ae==q&&Ee.splice(Ee.indexOf(ae),1)}):Ee.push(q);let B=[];K.forEach(ae=>{ae.sizes.includes(Ee.join(","))&&B.push(ae)}),c(q),a(B)};R.useEffect(()=>{s(o)},[o]);const it=q=>{q.preventDefault();let B=[];K.forEach(ae=>{ae.price>v&&ae.price<x&&B.push(ae)}),a(B)};return f.jsxs(f.Fragment,{children:[f.jsx(bi,{}),f.jsxs("p",{className:ve.search,children:[' Pesquisa por: "',A,'" ']}),f.jsxs("div",{className:ve.search_container,children:[t&&f.jsx("div",{className:ve.loading}),f.jsxs("div",{className:ve.filter_container,children:[f.jsxs("div",{onClick:()=>X(),className:ve.filter_Card,children:[f.jsx("p",{children:"Tamanho"}),!h&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),h&&f.jsx("span",{class:"material-symbols-outlined",children:"close"})]}),h&&f.jsxs("form",{className:ve.filterCheck,children:[f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{Te(q.target.value)},type:"radio",name:"size",id:"P/S",value:"P/S"}),"P/S"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{Te(q.target.value)},type:"radio",name:"size",id:"M",value:"M"}),"M"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{Te(q.target.value)},type:"radio",name:"size",id:"G/L",value:"G/L"}),"G/L"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{Te(q.target.value)},type:"radio",name:"size",id:"GG/XL",value:"GG/XL"}),"GG/XL"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{Te(q.target.value)},type:"radio",name:"size",id:"XGG/XXL",value:"XGG/XXL"}),"XGG/XXL"]})]}),f.jsxs("div",{onClick:()=>Y(),className:ve.filter_Card,children:[f.jsx("p",{children:"Preço"}),!E&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),E&&f.jsx("span",{class:"material-symbols-outlined",children:"close"})]}),E&&f.jsxs("form",{onSubmit:it,className:ve.filter_price,children:[f.jsxs("label",{children:["R$",f.jsx("input",{value:v,onChange:q=>{S(q.target.value)},placeholder:"0",type:"number"}),"  "]}),f.jsx("h2",{children:"-"}),f.jsxs("label",{children:[" R$",f.jsx("input",{value:x,onChange:q=>{k(q.target.value)},placeholder:"349",type:"number"}),"  "]}),f.jsx("button",{children:" Filtrar"})]}),f.jsxs("div",{onClick:()=>ie(),className:ve.filter_Card,children:[f.jsxs("p",{children:["Ordenar ",O&&`(${O})`]}),!g&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),g&&f.jsx("span",{class:"material-symbols-outlined",children:"close"})]}),g&&f.jsxs("form",{className:ve.filterCheck,children:[f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{setFilterOrder(q.target.value)},type:"radio",name:"order",id:"Relevância",value:"Relevância"}),"Relevância"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{setFilterOrder(q.target.value)},type:"radio",name:"order",id:"Alfabética",value:"Alfabética"}),"Ordem Alfabética"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{setFilterOrder(q.target.value)},type:"radio",name:"order",id:"Menor-preço",value:"Menor-preço"}),"Menor Preço"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{setFilterOrder(q.target.value)},type:"radio",name:"order",id:"Maior-preço",value:"Maior-preço"}),"Maior Preço"]})]})]}),f.jsxs("div",{className:ve.filterMobile_container,children:[f.jsxs("div",{onClick:()=>Xe(),className:ve.filter_Card,children:[f.jsx("p",{children:"Tamanho"}),!D&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),D&&f.jsx("span",{class:"material-symbols-outlined",children:"close"})]}),f.jsxs("div",{onClick:()=>ge(),className:ve.filter_Card,children:[f.jsx("p",{children:"Preço"}),!b&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),b&&f.jsx("span",{class:"material-symbols-outlined",children:"close"})]}),f.jsxs("div",{onClick:()=>Je(),className:ve.filter_Card,children:[f.jsx("p",{children:"Ordenar"}),!_&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),_&&f.jsx("span",{class:"material-symbols-outlined",children:"close"})]})]}),u&&f.jsxs("div",{onClick:$e,className:ve.filterOn,children:[" ",f.jsxs("p",{children:["Tamanho: ",u]}),f.jsx("span",{class:"material-symbols-outlined",children:"close"})]}),f.jsx("div",{className:ve.card_container,children:i.length>0?i.map(q=>f.jsx(_e,{to:`/products/${q.idProduct}`,className:ve.product_Card,id:"productCard","data-id":q.idProduct,children:f.jsxs("div",{children:[f.jsx("div",{children:f.jsx("img",{class:"cardImg",src:q.URLimage,alt:q.name})}),f.jsxs("div",{children:[f.jsx("p",{className:ve.data_name,children:q.name}),f.jsxs("p",{children:["R$",q.price,".00"]})]})]},q.idProduct)})):f.jsx("h2",{className:ve.NotFound_product,children:"Não foi encontrado nenhum produto!"})}),D&&f.jsxs("div",{className:ve.filterMobile_modal,children:[f.jsxs("div",{className:ve.filter_Header,children:[f.jsx("h2",{children:"Tamanho"}),f.jsx("span",{onClick:()=>Xe(),class:"material-symbols-outlined",children:"close"})]}),f.jsxs("form",{className:ve.filterCheck,children:[f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{Te(q.target.value)},type:"radio",name:"size",id:"P/S",value:"P/S"}),"P/S"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{Te(q.target.value)},type:"radio",name:"size",id:"M",value:"M"}),"M"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{Te(q.target.value)},type:"radio",name:"size",id:"G/L",value:"G/L"}),"G/L"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{Te(q.target.value)},type:"radio",name:"size",id:"GG/XL",value:"GG/XL"}),"GG/XL"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:q=>{Te(q.target.value)},type:"radio",name:"size",id:"XGG/XXL",value:"XGG/XXL"}),"XGG/XXL"]})]})]}),b&&f.jsxs("div",{className:ve.filterMobile_modal,children:[f.jsxs("div",{className:ve.filter_Header,children:[f.jsx("h2",{children:"Preço"}),f.jsx("span",{onClick:()=>ge(),class:"material-symbols-outlined",children:"close"})]}),f.jsxs("form",{onSubmit:it,className:ve.filter_price,children:[f.jsxs("label",{children:["R$ ",f.jsx("input",{value:v,onChange:q=>{S(q.target.value)},placeholder:"0",type:"number"}),"  "]}),f.jsx("h2",{children:"-"}),f.jsxs("label",{children:[" R$ ",f.jsx("input",{value:x,onChange:q=>{k(q.target.value)},placeholder:"349",type:"number"}),"  "]}),f.jsx("button",{children:" Filtrar "})]})]}),_&&f.jsxs("div",{className:ve.filterMobile_modal,children:[f.jsxs("div",{className:ve.filter_Header,children:[f.jsx("h2",{children:"Ordenar"}),f.jsx("span",{onClick:()=>Je(),class:"material-symbols-outlined",children:"close"})]}),f.jsxs("form",{className:ve.filterCheck,children:[f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"order",id:"Relevância"}),"Relevância"]}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"order",id:"Alfabética"}),"Ordem Alfabética"]}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"order",id:"Menor-preço"}),"Menor Preço"]}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"order",id:"Maior-preço"}),"Maior Preço"]})]})]})]})]})},dU="_cart_container_fdxpt_5",fU="_cart_header_fdxpt_33",pU="_cart_headerInfo_fdxpt_63",mU="_cart_products_fdxpt_75",gU="_card_product_fdxpt_91",yU="_product_1_fdxpt_107",vU="_product_2_fdxpt_119",_U="_product_info_fdxpt_139",wU="_cart_subtotal_fdxpt_167",EU="_btn_shop_fdxpt_231",TU="_btn_update_fdxpt_255",SU="_paymentInfo_container_fdxpt_279",IU="_paymentInfo_card_fdxpt_299",xU="_product_price_fdxpt_389",Ye={cart_container:dU,cart_header:fU,cart_headerInfo:pU,cart_products:mU,card_product:gU,product_1:yU,product_2:vU,product_info:_U,cart_subtotal:wU,btn_shop:EU,btn_update:TU,paymentInfo_container:SU,paymentInfo_card:IU,product_price:xU},CU=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(null),{datas:i}=Vc(),{totalValue:s}=Jm(i);R.useEffect(()=>{i.length==0?r("nao há items adicionados ao carrinho"):e(i)},[]);const o=u=>{let c=u.amount+1;const{productData:h}=kI(u,c);Ls(h,h.key),window.location.reload()},a=u=>{if(u.amount!=1){let c=u.amount-1;const{productData:h}=NI(u,c);Ls(h,h.key),window.location.reload()}};return f.jsxs("div",{children:[f.jsx(bi,{}),f.jsxs("div",{className:Ye.cart_container,children:[f.jsx("h1",{children:" Seu carrinho "}),f.jsxs("div",{className:Ye.cart_header,children:[f.jsx("span",{style:{marginLeft:"1.5em"},children:"PRODUTO"}),f.jsxs("div",{className:Ye.cart_headerInfo,children:[f.jsx("span",{children:" QUANTIDADE"}),f.jsx("span",{children:" TOTAL "})]})]}),f.jsxs("div",{className:Ye.cart_products,children:[n&&f.jsxs("h3",{children:[" ",n]}),t&&t.map(u=>f.jsxs("div",{className:Ye.card_product,children:[f.jsxs("div",{className:Ye.product_1,children:[f.jsx("img",{src:JSON.parse(u).URLimage,alt:""}),f.jsxs("div",{className:Ye.product_info,children:[f.jsx("p",{children:JSON.parse(u).name}),f.jsx("p",{children:JSON.parse(u).size}),f.jsxs("p",{children:["R$",JSON.parse(u).price,",00"]})]})]}),f.jsxs("div",{className:Ye.product_2,children:[f.jsxs("div",{class:"quantity",children:[f.jsx("button",{onClick:()=>a(JSON.parse(u)),class:"btn minus1",children:"-"}),f.jsx("input",{value:JSON.parse(u).amount,class:"quantity",id:"quantity",min:"0",name:"quantity",type:"number"}),f.jsx("button",{onClick:()=>o(JSON.parse(u)),class:"btn add1",children:"+"})]}),f.jsxs("div",{className:Ye.product_price,children:["R$ ",JSON.parse(u).price*JSON.parse(u).amount,",00"]})]})]}))]}),f.jsxs("div",{className:Ye.cart_subtotal,children:[f.jsxs("p",{children:[" Subtotal: R$",s,",00"]}),f.jsx("span",{children:" CLSEDCLUB (-R$ DESCONTO)"}),f.jsxs("p",{style:{fontSize:"28px",fontWeight:"500"},children:["R$ ",s,",00"]}),f.jsx("p",{style:{fontSize:"14px",color:" rgb(90, 90, 90)",margin:"0px"},children:" Taxas e frete calculados na próxima página."}),f.jsxs("div",{className:Ye.subtotal_btn,children:[f.jsx("button",{onClick:()=>{refreshShop()},className:Ye.btn_update,children:" Atualizar"}),f.jsx(_e,{to:"/verification",children:f.jsx("button",{className:Ye.btn_shop,children:" Verificação de Compra"})})]})]})]}),f.jsxs("div",{className:Ye.paymentInfo_container,children:[f.jsxs("div",{className:Ye.paymentInfo_card,children:[f.jsx("h3",{children:"Formas de pagamento 💳"}),f.jsx("p",{children:"Até 12x no cartão de credito ou a vista via PIX "})]}),f.jsxs("div",{className:Ye.paymentInfo_card,children:[f.jsx("h3",{children:"Site 100% seguro 🔒"}),f.jsx("p",{children:"Pagamentos e dados segurados pela empresa PagarMe "})]}),f.jsxs("div",{className:Ye.paymentInfo_card,children:[f.jsx("h3",{children:"Frete Grátis ✈️"}),f.jsx("p",{children:"Para todo Brasil nas compras acima de R$349,00 "})]}),f.jsxs("div",{className:Ye.paymentInfo_card,children:[f.jsx("h3",{children:"Troca Fácil 🔄"}),f.jsx("p",{children:"Precisou trocar? Sem problemas! "}),f.jsx("p",{children:"Nossa equipe de atendimento te auxiliará em todo processo de troca sem nenhum custo"})]})]})]})},PU="_verification_container_cqujv_1",AU="_title_mobile_cqujv_19",RU="_ShopSumaryDesktop_container_cqujv_29",kU="_clientShop_container_cqujv_37",NU="_summayExibition_cqujv_65",bU="_subtotal_cqujv_95",DU="_ShopSumary_container_cqujv_107",VU="_ShopSummarySlide_cqujv_1",LU="_cart_products_cqujv_119",MU="_card_product_cqujv_137",OU="_product_1_cqujv_153",jU="_product_2_cqujv_167",FU="_product_info_cqujv_187",UU="_cart_subtotal_cqujv_215",BU="_clientInfo_container_cqujv_317",zU="_title_desktop_cqujv_339",$U="_checkBox_cqujv_349",qU="_active_cqujv_437",GU="_nav_Card_cqujv_453",HU="_clientInfo_contact_cqujv_463",WU="_clientInfo_buttons_cqujv_471",ce={verification_container:PU,title_mobile:AU,ShopSumaryDesktop_container:RU,clientShop_container:kU,summayExibition:NU,subtotal:bU,ShopSumary_container:DU,ShopSummarySlide:VU,cart_products:LU,card_product:MU,product_1:OU,product_2:jU,product_info:FU,cart_subtotal:UU,clientInfo_container:BU,title_desktop:zU,checkBox:$U,active:qU,nav_Card:GU,clientInfo_contact:HU,clientInfo_buttons:WU},KU=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(!1),{datas:i}=Vc(),{totalValue:s}=Jm(i);R.useEffect(()=>{e(i)},[]);const o=()=>{n==!0?r(!1):r(!0)};return f.jsxs("div",{className:ce.verification_container,children:[f.jsxs("div",{className:ce.clientInfo_container,children:[f.jsx("h1",{className:ce.title_desktop,children:"CLSEDSHOP"}),f.jsxs("nav",{children:[f.jsxs("div",{className:ce.nav_Card,children:[f.jsx(_e,{to:"/cart",children:"Carrinho"}),f.jsx("span",{class:"material-symbols-outlined",children:"navigate_next"})]}),f.jsxs("div",{className:ce.nav_Card,children:[f.jsx("span",{className:ce.active,children:"Informações"}),f.jsx("span",{class:"material-symbols-outlined",children:"navigate_next"})]}),f.jsxs("div",{className:ce.nav_Card,children:[f.jsx("span",{children:"Frete"}),f.jsx("span",{class:"material-symbols-outlined",children:"navigate_next"})]}),f.jsxs("div",{className:ce.nav_Card,children:[f.jsx("span",{children:"Pagamento"}),f.jsx("span",{class:"material-symbols-outlined",children:"navigate_next"})]})]}),f.jsxs("form",{children:[f.jsx("div",{className:ce.clientInfo_contact,children:f.jsxs("label",{children:[f.jsx("h4",{children:"Contato"}),f.jsx("input",{placeholder:"E-mail ou número de celular",type:"text"}),f.jsxs("div",{className:ce.checkBox,children:[f.jsx("input",{type:"checkbox",name:"emails",id:"emails"}),f.jsx("p",{children:"Enviar novidades e ofertas para mim por e-mail"})]})]})}),f.jsxs("div",{className:ce.clientInfo_adress,children:[f.jsx("h4",{children:"Endereço de Entrega"}),f.jsxs("select",{name:"country",id:"country",children:[f.jsx("option",{value:"Brasil",children:"Brasil"}),f.jsx("option",{value:"USA",children:"USA"})]}),f.jsx("input",{required:!0,placeholder:"Nome Completo",type:"text"}),f.jsx("input",{required:!0,placeholder:"Rua e número da casa",type:"text"}),f.jsx("input",{required:!0,placeholder:"Apartamento, bloco ou ref.",type:"text"}),f.jsx("input",{required:!0,placeholder:"Cidade",type:"text"}),f.jsxs("select",{required:!0,name:"state",id:"state",children:[f.jsx("option",{value:"São Paulo",children:"São Paulo"}),f.jsx("option",{value:"Rio de Janeiro",children:"Rio de Janeiro"})]}),f.jsx("input",{required:!0,placeholder:"CEP",type:"number"}),f.jsx("input",{required:!0,placeholder:"Telefone",type:"tel"}),f.jsxs("div",{className:ce.checkBox,children:[f.jsx("input",{type:"checkbox",name:"infos",id:"infos"}),f.jsx("p",{children:"Salvar minhas informações para a próxima vez"})]})]}),f.jsxs("div",{className:ce.clientInfo_buttons,children:[f.jsx("button",{type:"submit",children:" Continuar com o frete"}),f.jsx(_e,{to:"/cart",children:"  Voltar ao carrinho"})]})]})]}),n&&f.jsxs("div",{className:ce.ShopSumary_container,children:[f.jsx("div",{className:ce.cart_products,children:t&&t.map(a=>f.jsxs("div",{className:ce.card_product,children:[f.jsxs("div",{className:ce.product_1,children:[f.jsx("img",{src:JSON.parse(a).URLimage,alt:""}),f.jsxs("div",{className:ce.product_info,children:[f.jsx("p",{children:JSON.parse(a).name}),f.jsx("p",{children:JSON.parse(a).size}),f.jsxs("p",{children:["R$",JSON.parse(a).price,",00  x ",JSON.parse(a).amount]})]})]}),f.jsx("div",{className:ce.product_2,children:f.jsxs("div",{className:ce.product_price,children:["R$ ",JSON.parse(a).price*JSON.parse(a).amount,",00"]})})]}))}),f.jsxs("div",{className:ce.cart_subtotal,children:[f.jsxs("p",{children:[" Subtotal: R$",s,",00"]}),f.jsx("span",{children:" CLSEDCLUB (-R$ DESCONTO)"}),f.jsxs("p",{style:{fontSize:"28px",fontWeight:"500"},children:["R$ ",s,",00"]}),f.jsx("p",{style:{fontSize:"14px",color:" rgb(90, 90, 90)",margin:"0px"},children:" Taxas e frete calculados na próxima página."})]})]}),f.jsxs("div",{onClick:()=>{o()},className:ce.clientShop_container,children:[f.jsxs("div",{className:ce.summayExibition,children:[f.jsx("span",{class:"material-symbols-outlined",children:"shopping_cart"}),"Exibir resumo da compra",!n&&f.jsx("span",{style:{paddingTop:"6px"},class:"material-symbols-outlined",children:"expand_more"}),n&&f.jsx("span",{style:{paddingTop:"6px"},class:"material-symbols-outlined",children:"expand_less"})]}),f.jsxs("div",{className:ce.subtotal,children:["R$",s,",00"]})]}),f.jsx("h1",{className:ce.title_mobile,children:"CLSEDSHOP"}),f.jsxs("div",{className:ce.ShopSumaryDesktop_container,children:[f.jsx("div",{className:ce.cart_products,children:t&&t.map(a=>f.jsxs("div",{className:ce.card_product,children:[f.jsxs("div",{className:ce.product_1,children:[f.jsx("img",{src:JSON.parse(a).URLimage,alt:""}),f.jsxs("div",{className:ce.product_info,children:[f.jsx("p",{children:JSON.parse(a).name}),f.jsx("p",{children:JSON.parse(a).size}),f.jsxs("p",{children:["R$",JSON.parse(a).price,",00  x ",JSON.parse(a).amount]})]})]}),f.jsx("div",{className:ce.product_2,children:f.jsxs("div",{className:ce.product_price,children:["R$ ",JSON.parse(a).price*JSON.parse(a).amount,",00"]})})]}))}),f.jsxs("div",{className:ce.cart_subtotal,children:[f.jsxs("p",{children:[" Subtotal: R$",s,",00"]}),f.jsx("span",{children:" CLSEDCLUB (-R$ DESCONTO)"}),f.jsxs("p",{style:{fontSize:"28px",fontWeight:"500"},children:["R$ ",s,",00"]}),f.jsx("p",{style:{fontSize:"14px",color:" rgb(90, 90, 90)",margin:"0px"},children:" Taxas e frete calculados na próxima página."})]})]})]})},QU="_collection_container_11gyh_1",XU="_filter_container_11gyh_19",JU="_filterMobile_modal_11gyh_27",YU="_filterModalSlide_11gyh_1",ZU="_filterCheck_11gyh_87",e4="_filterMobile_container_11gyh_135",t4="_filter_price_11gyh_137",n4="_filter_Header_11gyh_163",r4="_filter_Card_11gyh_205",i4="_filterCheckDeskTopNavSlide_11gyh_1",s4="_product_Card_11gyh_271",o4="_data_name_11gyh_279",a4="_opacityShow_11gyh_1",l4="_productsQuery_container_11gyh_409",u4="_productCardEntry_11gyh_1",c4="_filterOn_11gyh_483",Ce={collection_container:QU,filter_container:XU,filterMobile_modal:JU,filterModalSlide:YU,filterCheck:ZU,filterMobile_container:e4,filter_price:t4,filter_Header:n4,filter_Card:r4,filterCheckDeskTopNavSlide:i4,product_Card:s4,data_name:o4,opacityShow:a4,productsQuery_container:l4,productCardEntry:u4,filterOn:c4},h4=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(null),[i,s]=R.useState([]),[o,a]=R.useState([]),[u,c]=R.useState(null),[h,p]=R.useState(null),[g,y]=R.useState(!1),[E,P]=R.useState(!1),[D,C]=R.useState(!1),[_,T]=R.useState(!1),[b,M]=R.useState(!1),[O,I]=R.useState(!1),[v,S]=R.useState(null),[x,k]=R.useState(0),[N,A]=R.useState(349),{section:K}=ZE();R.useLayoutEffect(()=>{switch(K){case"all":r("all");break;case"camiseta":r("camiseta");break;case"moletom":r("moletom");break;case"bottom":r("bottom");break;case"acessories":r("acessório");break}});const{datas:re,loading:dt,error:Ee}=Ym("products",n);let z=[],Q="",Y="";document.querySelectorAll("#productCard").forEach(B=>{B.addEventListener("mouseover",()=>{re.map(ae=>{if(ae.idProduct==B.dataset.id){Q=ae.CarrouselIMG[1];return}}),B.querySelector(".cardImg").src=Q})}),document.querySelectorAll("#productCard").forEach(B=>{B.addEventListener("mouseout",()=>{re.map(ae=>{if(ae.idProduct==B.dataset.id){Y=ae.CarrouselIMG[0];return}}),B.querySelector(".cardImg").src=Y})}),R.useEffect(()=>{re.length>0&&s(re)},[re]),R.useEffect(()=>{n?t&&t!==K&&window.location.reload():e(K)},[n]);const X=()=>{D?(C(!1),s(re),k(0),A(349)):C(!0)},ie=()=>{g?(y(!1),s(re)):y(!0)},ge=()=>{E?(P(!1),S(null)):P(!0)},Xe=()=>{O?(document.querySelector("body").classList.remove("transparent2"),I(!1)):(document.querySelector("body").classList.toggle("transparent2"),I(!0))},Je=()=>{_?(document.querySelector("body").classList.remove("transparent2"),T(!1)):(document.querySelector("body").classList.toggle("transparent2"),T(!0))},$e=()=>{b?(document.querySelector("body").classList.remove("transparent2"),M(!1)):(document.querySelector("body").classList.toggle("transparent2"),M(!0))},Te=()=>{c(null),s(re)},it=B=>{z.includes(B)?z.length==1?z.pop():z.map(ft=>{ft==B&&z.splice(z.indexOf(ft),1)}):z.push(B);let ae=[];re.forEach(ft=>{ft.sizes.includes(z.join(","))&&ae.push(ft)}),c(`Tamanho: ${B}`),a(ae)};R.useEffect(()=>{s(o)},[o]);const q=B=>{B.preventDefault();let ae=[];Number.parseFloat(x)>=Number.parseFloat(N)?p("O valor mínino necessita ser menor que o valor máximo de filtro!"):(p(null),re.forEach(ft=>{ft.price>x&&ft.price<N&&ae.push(ft)}),c(`Preço: R$${x} - R$${N}`),a(ae))};return f.jsxs("div",{children:[f.jsx(bi,{}),f.jsxs("div",{className:Ce.collection_container,children:[f.jsxs("div",{className:Ce.filter_container,children:[f.jsxs("div",{onClick:()=>ie(),className:Ce.filter_Card,children:[f.jsx("p",{children:"Tamanho"}),!g&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),g&&f.jsx("span",{class:"material-symbols-outlined",children:"close"})]}),g&&f.jsxs("form",{className:Ce.filterCheck,children:[f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{it(B.target.value)},type:"radio",name:"size",id:"P/S",value:"P/S"}),"P/S"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{it(B.target.value)},type:"radio",name:"size",id:"M",value:"M"}),"M"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{it(B.target.value)},type:"radio",name:"size",id:"G/L",value:"G/L"}),"G/L"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{it(B.target.value)},type:"radio",name:"size",id:"GG/XL",value:"GG/XL"}),"GG/XL"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{it(B.target.value)},type:"radio",name:"size",id:"XGG/XXL",value:"XGG/XXL"}),"XGG/XXL"]})]}),f.jsxs("div",{onClick:()=>X(),className:Ce.filter_Card,children:[f.jsx("p",{children:"Preço"}),!D&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),D&&f.jsx("span",{class:"material-symbols-outlined",children:"close"})]}),D&&f.jsxs("form",{onSubmit:q,className:Ce.filter_price,children:[f.jsxs("label",{children:["R$",f.jsx("input",{value:x,onChange:B=>{k(B.target.value)},placeholder:"0",type:"number"}),"  "]}),f.jsx("h2",{children:"-"}),f.jsxs("label",{children:[" R$",f.jsx("input",{value:N,onChange:B=>{A(B.target.value)},placeholder:"349",type:"number"}),"  "]}),f.jsx("button",{children:" Filtrar"})]}),h&&f.jsxs("p",{class:"error",children:[" ",h]}),f.jsxs("div",{onClick:()=>ge(),className:Ce.filter_Card,children:[f.jsxs("p",{children:["Ordenar ",v&&`(${v})`]}),!E&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),E&&f.jsx("span",{class:"material-symbols-outlined",children:"close"})]}),E&&f.jsxs("form",{className:Ce.filterCheck,children:[f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{setFilterOrder(B.target.value)},type:"radio",name:"order",id:"Relevância",value:"Mais-Vendidos"}),"Relevância"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{setFilterOrder(B.target.value)},type:"radio",name:"order",id:"Alfabética",value:"Alfabética"}),"Ordem Alfabética"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{setFilterOrder(B.target.value)},type:"radio",name:"order",id:"Menor-preço",value:"Menor-preço"}),"Menor Preço"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{setFilterOrder(B.target.value)},type:"radio",name:"order",id:"Maior-preço",value:"Maior-preço"}),"Maior Preço"]})]})]}),f.jsxs("div",{className:Ce.filterMobile_container,children:[f.jsxs("div",{onClick:()=>Je(),className:Ce.filter_Card,children:[f.jsx("p",{children:"Tamanho"}),!_&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),_&&f.jsx("span",{class:"material-symbols-outlined",children:"expand_less"})]}),f.jsxs("div",{onClick:()=>Xe(),className:Ce.filter_Card,children:[f.jsx("p",{children:"Preço"}),!O&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),O&&f.jsx("span",{class:"material-symbols-outlined",children:"expand_less"})]}),f.jsxs("div",{onClick:()=>$e(),className:Ce.filter_Card,children:[f.jsx("p",{children:"Ordenar"}),!b&&f.jsx("span",{class:"material-symbols-outlined expand",children:"expand_more"}),b&&f.jsx("span",{class:"material-symbols-outlined",children:"expand_less"})]})]}),u&&f.jsxs("div",{onClick:Te,className:Ce.filterOn,children:[" ",f.jsxs("p",{children:[" ",u]}),f.jsx("span",{class:"material-symbols-outlined",children:"close"})]}),f.jsxs("div",{className:Ce.productsQuery_container,children:[i.length==0&&f.jsx("p",{children:"Carregando produtos..."}),i.length>0&&i.map(B=>f.jsx(_e,{to:`/products/${B.idProduct}`,className:Ce.product_Card,id:"productCard","data-id":B.idProduct,children:f.jsxs("div",{children:[f.jsx("div",{children:f.jsx("img",{class:"cardImg",src:B.URLimage,alt:B.name})}),f.jsxs("div",{children:[f.jsx("p",{className:Ce.data_name,children:B.name}),f.jsxs("p",{children:["R$",B.price,".00"]})]})]},B.idProduct)}))]})]}),_&&f.jsxs("div",{className:Ce.filterMobile_modal,children:[f.jsxs("div",{className:Ce.filter_Header,children:[f.jsx("h2",{children:"Tamanho"}),f.jsx("span",{onClick:()=>Je(),class:"material-symbols-outlined",children:"close"})]}),f.jsxs("form",{className:Ce.filterCheck,children:[f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{it(B.target.value)},type:"radio",name:"size",id:"P/S",value:"P/S"}),"P/S"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{it(B.target.value)},type:"radio",name:"size",id:"M",value:"M"}),"M"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{it(B.target.value)},type:"radio",name:"size",id:"G/L",value:"G/L"}),"G/L"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{it(B.target.value)},type:"radio",name:"size",id:"GG/XL",value:"GG/XL"}),"GG/XL"]}),f.jsxs("label",{children:[f.jsx("input",{onChange:B=>{it(B.target.value)},type:"radio",name:"size",id:"XGG/XXL",value:"XGG/XXL"}),"XGG/XXL"]})]})]}),O&&f.jsxs("div",{className:Ce.filterMobile_modal,children:[f.jsxs("div",{className:Ce.filter_Header,children:[f.jsx("h2",{children:"Preço"}),f.jsx("span",{onClick:()=>Xe(),class:"material-symbols-outlined",children:"close"})]}),f.jsxs("form",{onSubmit:q,className:Ce.filter_price,children:[f.jsxs("label",{children:["R$ ",f.jsx("input",{value:x,onChange:B=>{k(B.target.value)},placeholder:"0",type:"number"})]}),f.jsx("h2",{children:"-"}),f.jsxs("label",{children:[" R$ ",f.jsx("input",{value:N,onChange:B=>{A(B.target.value)},placeholder:"349",type:"number"}),"  "]}),f.jsx("button",{children:" Filtrar"})]})]}),b&&f.jsxs("div",{className:Ce.filterMobile_modal,children:[f.jsxs("div",{className:Ce.filter_Header,children:[f.jsx("h2",{children:"Ordenar"}),f.jsx("span",{onClick:()=>$e(),class:"material-symbols-outlined",children:"close"})]}),f.jsxs("form",{className:Ce.filterCheck,children:[f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"order",id:"Relevância"}),"Relevância"]}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"order",id:"Alfabética"}),"Ordem Alfabética"]}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"order",id:"Menor-preço"}),"Menor Preço"]}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"order",id:"Maior-preço"}),"Maior Preço"]})]})]})]})};function d4(){const[t,e]=R.useState(),n=t===void 0;return R.useEffect(()=>{hN(D0,r=>{e(r)})},[D0]),n?f.jsx("div",{class:"loading"}):f.jsx(f.Fragment,{children:f.jsx(Ib,{value:{user:t},children:f.jsx(PA,{children:f.jsxs(EA,{children:[f.jsx(Pn,{path:"/",element:f.jsx(_F,{})}),f.jsx(Pn,{path:"/register",element:t?f.jsx(Jr,{to:"/"}):f.jsx(FF,{})}),f.jsx(Pn,{path:"/login",element:t?f.jsx(Jr,{to:"/"}):f.jsx(TF,{})}),f.jsx(Pn,{path:"/products/:id",element:t?f.jsx(MF,{}):f.jsx(Jr,{to:"/login"})}),f.jsx(Pn,{path:"/collection/:section",element:t?f.jsx(h4,{}):f.jsx(Jr,{to:"/login"})}),f.jsx(Pn,{path:"/search",element:t?f.jsx(hU,{}):f.jsx(Jr,{to:"/login"})}),f.jsx(Pn,{path:"/cart",element:t?f.jsx(CU,{}):f.jsx(Jr,{to:"/login"})}),f.jsx(Pn,{path:"/verification",element:t?f.jsx(KU,{}):f.jsx(Jr,{to:"/login"})})]})})})})}td.createRoot(document.getElementById("root")).render(f.jsx(Ku.StrictMode,{children:f.jsx(d4,{})}));
